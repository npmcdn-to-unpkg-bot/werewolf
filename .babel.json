{
  "{\"filename\":\"/usr/local/lib/node_modules/generator-angular-fullstack/app/generator.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false}:6.7.4": {
    "metadata": {
      "usedHelpers": [
        "inherits",
        "possibleConstructorReturn",
        "createClass",
        "classCallCheck",
        "interopRequireDefault"
      ],
      "marked": [],
      "modules": {
        "imports": [
          {
            "source": "fs",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "fs"
              }
            ]
          },
          {
            "source": "path",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "path"
              }
            ]
          },
          {
            "source": "chalk",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "chalk"
              }
            ]
          },
          {
            "source": "yeoman-generator",
            "imported": [
              "Base"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "Base",
                "local": "Base"
              }
            ]
          },
          {
            "source": "../generator-base",
            "imported": [
              "genBase"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "genBase",
                "local": "genBase"
              }
            ]
          },
          {
            "source": "../insight-init",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "insight"
              }
            ]
          },
          {
            "source": "child_process",
            "imported": [
              "exec"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "exec",
                "local": "exec"
              }
            ]
          }
        ],
        "exports": {
          "exported": [
            "Generator"
          ],
          "specifiers": [
            {
              "kind": "local",
              "local": "Generator",
              "exported": "default"
            }
          ]
        }
      }
    },
    "options": {
      "filename": "/usr/local/lib/node_modules/generator-angular-fullstack/app/generator.js",
      "filenameRelative": "/usr/local/lib/node_modules/generator-angular-fullstack/app/generator.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMap": "both",
      "sourceMaps": "both",
      "sourceMapTarget": "generator.js",
      "sourceFileName": "generator.js",
      "babelrc": false,
      "sourceType": "module",
      "moduleIds": false,
      "passPerPreset": false,
      "basename": "generator"
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _fs = require('fs');\n\nvar _fs2 = _interopRequireDefault(_fs);\n\nvar _path = require('path');\n\nvar _path2 = _interopRequireDefault(_path);\n\nvar _chalk = require('chalk');\n\nvar _chalk2 = _interopRequireDefault(_chalk);\n\nvar _yeomanGenerator = require('yeoman-generator');\n\nvar _generatorBase = require('../generator-base');\n\nvar _insightInit = require('../insight-init');\n\nvar _insightInit2 = _interopRequireDefault(_insightInit);\n\nvar _child_process = require('child_process');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Generator = function (_Base) {\n  _inherits(Generator, _Base);\n\n  function Generator() {\n    var _Object$getPrototypeO;\n\n    _classCallCheck(this, Generator);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    var _this = _possibleConstructorReturn(this, (_Object$getPrototypeO = Object.getPrototypeOf(Generator)).call.apply(_Object$getPrototypeO, [this].concat(args)));\n\n    _this.argument('name', { type: String, required: false });\n\n    _this.option('skip-install', {\n      desc: 'Do not install dependencies',\n      type: Boolean,\n      defaults: false\n    });\n\n    _this.option('app-suffix', {\n      desc: 'Allow a custom suffix to be added to the module name',\n      type: String,\n      defaults: 'App'\n    });\n    return _this;\n  }\n\n  _createClass(Generator, [{\n    key: 'initializing',\n    get: function get() {\n      return {\n        init: function init() {\n          var cb = this.async();\n\n          this.config.set('generatorVersion', this.rootGeneratorVersion());\n          this.filters = {};\n\n          // init shared generator properies and methods\n          (0, _generatorBase.genBase)(this);\n\n          if (process.env.CI) {\n            _insightInit2.default.optOut = true;\n            return cb();\n          } else if (_insightInit2.default.optOut === undefined) {\n            _insightInit2.default.askPermission(null, cb);\n          } else {\n            return cb();\n          }\n        },\n\n        info: function info() {\n          _insightInit2.default.track('generator', this.rootGeneratorVersion());\n          _insightInit2.default.track('node', process.version);\n          (0, _child_process.exec)('npm --version', function (err, stdin, stderr) {\n            if (err || stderr.length > 0) return _insightInit2.default.track('npm', 'error');else return _insightInit2.default.track('npm', stdin.toString().trim());\n          });\n          _insightInit2.default.track('platform', process.platform);\n\n          this.log(this.yoWelcome);\n          this.log('Out of the box I create an AngularJS app with an Express server.\\n');\n        },\n\n        checkForConfig: function checkForConfig() {\n          var cb = this.async();\n          var existingFilters = this.config.get('filters');\n\n          if (existingFilters) {\n            this.prompt([{\n              type: 'confirm',\n              name: 'skipConfig',\n              message: 'Existing .yo-rc configuration found, would you like to use it?',\n              default: true\n            }], function (answers) {\n              this.skipConfig = answers.skipConfig;\n\n              if (this.skipConfig) {\n                _insightInit2.default.track('skipConfig', 'true');\n                this.filters = existingFilters;\n\n                this.scriptExt = this.filters.ts ? 'ts' : 'js';\n                this.templateExt = this.filters.jade ? 'jade' : 'html';\n                this.styleExt = this.filters.sass ? 'scss' : this.filters.less ? 'less' : this.filters.stylus ? 'styl' : 'css';\n              } else {\n                _insightInit2.default.track('skipConfig', 'false');\n                this.filters = {};\n                this.forceConfig = true;\n                this.config.set('filters', this.filters);\n                this.config.forceSave();\n              }\n\n              cb();\n            }.bind(this));\n          } else {\n            cb();\n          }\n        }\n      };\n    }\n  }, {\n    key: 'prompting',\n    get: function get() {\n      return {\n\n        clientPrompts: function clientPrompts() {\n          if (this.skipConfig) return;\n          var cb = this.async();\n\n          this.log('# Client\\n');\n\n          this.prompt([{\n            type: 'list',\n            name: 'transpiler',\n            message: 'What would you like to write scripts with?',\n            choices: ['Babel', 'TypeScript'],\n            filter: function filter(val) {\n              return {\n                'Babel': 'babel',\n                'TypeScript': 'ts'\n              }[val];\n            }\n          }, {\n            type: 'list',\n            name: 'markup',\n            message: 'What would you like to write markup with?',\n            choices: ['HTML', 'Jade'],\n            filter: function filter(val) {\n              return val.toLowerCase();\n            }\n          }, {\n            type: 'list',\n            name: 'stylesheet',\n            default: 1,\n            message: 'What would you like to write stylesheets with?',\n            choices: ['CSS', 'Sass', 'Stylus', 'Less'],\n            filter: function filter(val) {\n              return val.toLowerCase();\n            }\n          }, {\n            type: 'list',\n            name: 'router',\n            default: 1,\n            message: 'What Angular router would you like to use?',\n            choices: ['ngRoute', 'uiRouter'],\n            filter: function filter(val) {\n              return val.toLowerCase();\n            }\n          }, {\n            type: 'confirm',\n            name: 'bootstrap',\n            message: 'Would you like to include Bootstrap?'\n          }, {\n            type: 'confirm',\n            name: 'uibootstrap',\n            message: 'Would you like to include UI Bootstrap?',\n            when: function when(answers) {\n              return answers.bootstrap;\n            }\n          }], function (answers) {\n            this.filters.js = true;\n            this.filters[answers.transpiler] = true;\n            _insightInit2.default.track('transpiler', answers.transpiler);\n\n            this.filters[answers.markup] = true;\n            _insightInit2.default.track('markup', answers.markup);\n\n            this.filters[answers.stylesheet] = true;\n            _insightInit2.default.track('stylesheet', answers.stylesheet);\n\n            this.filters[answers.router] = true;\n            _insightInit2.default.track('router', answers.router);\n\n            this.filters.bootstrap = !!answers.bootstrap;\n            _insightInit2.default.track('bootstrap', !!answers.bootstrap);\n\n            this.filters.uibootstrap = !!answers.uibootstrap;\n            _insightInit2.default.track('uibootstrap', !!answers.uibootstrap);\n\n            this.scriptExt = answers.transpiler === 'ts' ? 'ts' : 'js';\n            this.templateExt = answers.markup;\n\n            var styleExt = { sass: 'scss', stylus: 'styl' }[answers.stylesheet];\n            this.styleExt = styleExt ? styleExt : answers.stylesheet;\n\n            cb();\n          }.bind(this));\n        },\n\n        serverPrompts: function serverPrompts() {\n          if (this.skipConfig) return;\n          var cb = this.async();\n          var self = this;\n\n          this.log('\\n# Server\\n');\n\n          this.prompt([{\n            type: 'checkbox',\n            name: 'odms',\n            message: 'What would you like to use for data modeling?',\n            choices: [{\n              value: 'mongoose',\n              name: 'Mongoose (MongoDB)',\n              checked: true\n            }, {\n              value: 'sequelize',\n              name: 'Sequelize (MySQL, SQLite, MariaDB, PostgreSQL)',\n              checked: false\n            }]\n          }, {\n            type: 'list',\n            name: 'models',\n            message: 'What would you like to use for the default models?',\n            choices: ['Mongoose', 'Sequelize'],\n            filter: function filter(val) {\n              return val.toLowerCase();\n            },\n            when: function when(answers) {\n              return answers.odms && answers.odms.length > 1;\n            }\n          }, {\n            type: 'confirm',\n            name: 'auth',\n            message: 'Would you scaffold out an authentication boilerplate?',\n            when: function when(answers) {\n              return answers.odms && answers.odms.length !== 0;\n            }\n          }, {\n            type: 'checkbox',\n            name: 'oauth',\n            message: 'Would you like to include additional oAuth strategies?',\n            when: function when(answers) {\n              return answers.auth;\n            },\n            choices: [{\n              value: 'googleAuth',\n              name: 'Google',\n              checked: false\n            }, {\n              value: 'facebookAuth',\n              name: 'Facebook',\n              checked: false\n            }, {\n              value: 'twitterAuth',\n              name: 'Twitter',\n              checked: false\n            }]\n          }, {\n            type: 'confirm',\n            name: 'socketio',\n            message: 'Would you like to use socket.io?',\n            // to-do: should not be dependent on ODMs\n            when: function when(answers) {\n              return answers.odms && answers.odms.length !== 0;\n            },\n            default: true\n          }], function (answers) {\n            if (answers.socketio) this.filters.socketio = true;\n            _insightInit2.default.track('socketio', !!answers.socketio);\n\n            if (answers.auth) this.filters.auth = true;\n            _insightInit2.default.track('auth', !!answers.auth);\n\n            if (answers.odms && answers.odms.length > 0) {\n              var models;\n              if (!answers.models) {\n                models = answers.odms[0];\n              } else {\n                models = answers.models;\n              }\n              this.filters.models = true;\n              this.filters[models + 'Models'] = true;\n              answers.odms.forEach(function (odm) {\n                this.filters[odm] = true;\n              }.bind(this));\n              _insightInit2.default.track('oauth', !!answers.oauth);\n            } else {\n              this.filters.noModels = true;\n            }\n            _insightInit2.default.track('odms', answers.odms && answers.odms.length > 0);\n            _insightInit2.default.track('mongoose', !!this.filters.mongoose);\n            _insightInit2.default.track('mongooseModels', !!this.filters.mongooseModels);\n            _insightInit2.default.track('sequelize', !!this.filters.sequelize);\n            _insightInit2.default.track('sequelizeModels', !!this.filters.sequelizeModels);\n\n            if (answers.oauth) {\n              if (answers.oauth.length) this.filters.oauth = true;\n              answers.oauth.forEach(function (oauthStrategy) {\n                this.filters[oauthStrategy] = true;\n              }.bind(this));\n            }\n            _insightInit2.default.track('oauth', !!this.filters.oauth);\n            _insightInit2.default.track('google-oauth', !!this.filters['googleAuth']);\n            _insightInit2.default.track('facebook-oauth', !!this.filters['facebookAuth']);\n            _insightInit2.default.track('twitter-oauth', !!this.filters['twitterAuth']);\n\n            cb();\n          }.bind(this));\n        },\n\n        projectPrompts: function projectPrompts() {\n          if (this.skipConfig) return;\n          var cb = this.async();\n          var self = this;\n\n          this.log('\\n# Project\\n');\n\n          this.prompt([{\n            type: 'list',\n            name: 'buildtool',\n            message: 'Would you like to use Gulp or Grunt?',\n            choices: ['Grunt', 'Gulp'],\n            default: 0,\n            filter: function filter(val) {\n              return val.toLowerCase();\n            }\n          }, {\n            type: 'list',\n            name: 'testing',\n            message: 'What would you like to write tests with?',\n            choices: ['Jasmine', 'Mocha + Chai + Sinon'],\n            filter: function filter(val) {\n              var filterMap = {\n                'Jasmine': 'jasmine',\n                'Mocha + Chai + Sinon': 'mocha'\n              };\n\n              return filterMap[val];\n            }\n          }, {\n            type: 'list',\n            name: 'chai',\n            message: 'What would you like to write Chai assertions with?',\n            choices: ['Expect', 'Should'],\n            filter: function filter(val) {\n              return val.toLowerCase();\n            },\n            when: function when(answers) {\n              return answers.testing === 'mocha';\n            }\n          }], function (answers) {\n            this.filters[answers.buildtool] = true;\n            _insightInit2.default.track('buildtool', answers.buildtool);\n\n            this.filters[answers.testing] = true;\n            _insightInit2.default.track('testing', answers.testing);\n            if (answers.testing === 'mocha') {\n              this.filters.jasmine = false;\n              this.filters.should = false;\n              this.filters.expect = false;\n              this.filters[answers.chai] = true;\n              _insightInit2.default.track('chai-assertions', answers.chai);\n            }\n            if (answers.testing === 'jasmine') {\n              this.filters.mocha = false;\n              this.filters.should = false;\n              this.filters.expect = false;\n            }\n\n            cb();\n          }.bind(this));\n        }\n\n      };\n    }\n  }, {\n    key: 'configuring',\n    get: function get() {\n      return {\n\n        saveSettings: function saveSettings() {\n          if (this.skipConfig) return;\n          this.config.set('endpointDirectory', 'server/api/');\n          this.config.set('insertRoutes', true);\n          this.config.set('registerRoutesFile', 'server/routes.js');\n          this.config.set('routesNeedle', '// Insert routes below');\n\n          this.config.set('routesBase', '/api/');\n          this.config.set('pluralizeRoutes', true);\n\n          this.config.set('insertSockets', true);\n          this.config.set('registerSocketsFile', 'server/config/socketio.js');\n          this.config.set('socketsNeedle', '// Insert sockets below');\n\n          this.config.set('insertModels', true);\n          this.config.set('registerModelsFile', 'server/sqldb/index.js');\n          this.config.set('modelsNeedle', '// Insert models below');\n\n          this.config.set('filters', this.filters);\n          this.config.forceSave();\n        },\n\n        ngComponent: function ngComponent() {\n          if (this.skipConfig) return;\n          var appPath = 'client/app/';\n          var extensions = [];\n          var filters = ['ngroute', 'uirouter', 'jasmine', 'mocha', 'expect', 'should'].filter(function (v) {\n            return this.filters[v];\n          }, this);\n\n          if (this.filters.ngroute) filters.push('ngroute');\n          if (this.filters.uirouter) filters.push('uirouter');\n          if (this.filters.babel) extensions.push('babel');\n          if (this.filters.ts) extensions.push('ts');\n          if (this.filters.js) extensions.push('js');\n          if (this.filters.html) extensions.push('html');\n          if (this.filters.jade) extensions.push('jade');\n          if (this.filters.css) extensions.push('css');\n          if (this.filters.stylus) extensions.push('styl');\n          if (this.filters.sass) extensions.push('scss');\n          if (this.filters.less) extensions.push('less');\n\n          filters.push('es6'); // Generate ES6 syntax code\n\n          this.composeWith('ng-component', {\n            options: {\n              'routeDirectory': appPath,\n              'directiveDirectory': appPath,\n              'filterDirectory': appPath,\n              'serviceDirectory': appPath,\n              'filters': filters,\n              'extensions': extensions,\n              'basePath': 'client',\n              'forceConfig': this.forceConfig\n            }\n          }, { local: require.resolve('generator-ng-component/app/index.js') });\n        },\n\n        ngModules: function ngModules() {\n          var angModules = ['\\'' + this.scriptAppName + '.constants\\'', \"'ngCookies'\", \"'ngResource'\", \"'ngSanitize'\"];\n          if (this.filters.ngroute) angModules.push(\"'ngRoute'\");\n          if (this.filters.socketio) angModules.push(\"'btford.socket-io'\");\n          if (this.filters.uirouter) angModules.push(\"'ui.router'\");\n          if (this.filters.uibootstrap) angModules.push(\"'ui.bootstrap'\");\n          if (this.filters.auth) {\n            angModules.unshift('\\'' + this.scriptAppName + '.admin\\'');\n            angModules.unshift('\\'' + this.scriptAppName + '.auth\\'');\n            angModules.push(\"'validation.match'\");\n          }\n\n          this.angularModules = '\\n  ' + angModules.join(',\\n  ') + '\\n';\n        }\n\n      };\n    }\n  }, {\n    key: 'default',\n    get: function get() {\n      return {};\n    }\n  }, {\n    key: 'writing',\n    get: function get() {\n      return {\n\n        generateProject: function generateProject() {\n          var self = this;\n          this.sourceRoot(_path2.default.join(__dirname, './templates'));\n          this.processDirectory('.', '.', function (dest) {\n            if (self.filters.ts && dest.indexOf('client') > -1 && dest.indexOf('.json') === -1) {\n              dest = dest.replace('.js', '.ts');\n            }\n\n            return dest;\n          });\n        },\n\n        generateEndpoint: function generateEndpoint() {\n          var models;\n          if (this.filters.mongooseModels) {\n            models = 'mongoose';\n          } else if (this.filters.sequelizeModels) {\n            models = 'sequelize';\n          }\n          this.composeWith('angular-fullstack:endpoint', {\n            options: {\n              route: '/api/things',\n              models: models\n            },\n            args: ['thing']\n          });\n        }\n\n      };\n    }\n  }, {\n    key: 'install',\n    get: function get() {\n      return {\n\n        installDeps: function installDeps() {\n          this.installDependencies({\n            skipInstall: this.options['skip-install']\n          });\n        }\n\n      };\n    }\n  }, {\n    key: 'end',\n    get: function get() {\n      return {};\n    }\n  }]);\n\n  return Generator;\n}(_yeomanGenerator.Base);\n\nexports.default = Generator;\n//# sourceMappingURL=data:application/json;base64,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QUFiLEVBQTZCO0FBQy9CLHFCQUFTLFVBQVQsQ0FEK0I7V0FBakMsTUFFTyxJQUFJLEtBQUssT0FBTCxDQUFhLGVBQWIsRUFBOEI7QUFDdkMscUJBQVMsV0FBVCxDQUR1QztXQUFsQztBQUdQLGVBQUssV0FBTCxDQUFpQiw0QkFBakIsRUFBK0M7QUFDN0MscUJBQVM7QUFDUCxxQkFBTyxhQUFQO0FBQ0Esc0JBQVEsTUFBUjthQUZGO0FBSUEsa0JBQU0sQ0FBQyxPQUFELENBQU47V0FMRixFQVAyQjtTQUFYOztPQWRwQixDQURZOzs7O3dCQWtDQTtBQUNaLGFBQU87O0FBRUwscUJBQWEsdUJBQVc7QUFDdEIsZUFBSyxtQkFBTCxDQUF5QjtBQUN2Qix5QkFBYSxLQUFLLE9BQUwsQ0FBYSxjQUFiLENBQWI7V0FERixFQURzQjtTQUFYOztPQUZmLENBRFk7Ozs7d0JBWUo7QUFDUixhQUFPLEVBQVAsQ0FEUTs7OztTQWhmUyIsImZpbGUiOiJnZW5lcmF0b3IuanMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbmltcG9ydCBmcyBmcm9tICdmcyc7XG5pbXBvcnQgcGF0aCBmcm9tICdwYXRoJztcbmltcG9ydCBjaGFsayBmcm9tICdjaGFsayc7XG5pbXBvcnQge0Jhc2V9IGZyb20gJ3llb21hbi1nZW5lcmF0b3InO1xuaW1wb3J0IHtnZW5CYXNlfSBmcm9tICcuLi9nZW5lcmF0b3ItYmFzZSc7XG5pbXBvcnQgaW5zaWdodCBmcm9tICcuLi9pbnNpZ2h0LWluaXQnO1xuaW1wb3J0IHtleGVjfSBmcm9tICdjaGlsZF9wcm9jZXNzJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgR2VuZXJhdG9yIGV4dGVuZHMgQmFzZSB7XG5cbiAgY29uc3RydWN0b3IoLi4uYXJncykge1xuICAgIHN1cGVyKC4uLmFyZ3MpO1xuXG4gICAgdGhpcy5hcmd1bWVudCgnbmFtZScsIHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogZmFsc2UgfSk7XG5cbiAgICB0aGlzLm9wdGlvbignc2tpcC1pbnN0YWxsJywge1xuICAgICAgZGVzYzogJ0RvIG5vdCBpbnN0YWxsIGRlcGVuZGVuY2llcycsXG4gICAgICB0eXBlOiBCb29sZWFuLFxuICAgICAgZGVmYXVsdHM6IGZhbHNlXG4gICAgfSk7XG5cbiAgICB0aGlzLm9wdGlvbignYXBwLXN1ZmZpeCcsIHtcbiAgICAgIGRlc2M6ICdBbGxvdyBhIGN1c3RvbSBzdWZmaXggdG8gYmUgYWRkZWQgdG8gdGhlIG1vZHVsZSBuYW1lJyxcbiAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgIGRlZmF1bHRzOiAnQXBwJ1xuICAgIH0pO1xuICB9XG5cbiAgZ2V0IGluaXRpYWxpemluZygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgaW5pdDogZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgY2IgPSB0aGlzLmFzeW5jKCk7XG5cbiAgICAgICAgdGhpcy5jb25maWcuc2V0KCdnZW5lcmF0b3JWZXJzaW9uJywgdGhpcy5yb290R2VuZXJhdG9yVmVyc2lvbigpKTtcbiAgICAgICAgdGhpcy5maWx0ZXJzID0ge307XG5cbiAgICAgICAgLy8gaW5pdCBzaGFyZWQgZ2VuZXJhdG9yIHByb3BlcmllcyBhbmQgbWV0aG9kc1xuICAgICAgICBnZW5CYXNlKHRoaXMpO1xuXG4gICAgICAgIGlmKHByb2Nlc3MuZW52LkNJKSB7XG4gICAgICAgICAgaW5zaWdodC5vcHRPdXQgPSB0cnVlO1xuICAgICAgICAgIHJldHVybiBjYigpO1xuICAgICAgICB9IGVsc2UgaWYoaW5zaWdodC5vcHRPdXQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIGluc2lnaHQuYXNrUGVybWlzc2lvbihudWxsLCBjYik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIGNiKCk7XG4gICAgICAgIH1cbiAgICAgIH0sXG5cbiAgICAgIGluZm86IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaW5zaWdodC50cmFjaygnZ2VuZXJhdG9yJywgdGhpcy5yb290R2VuZXJhdG9yVmVyc2lvbigpKTtcbiAgICAgICAgaW5zaWdodC50cmFjaygnbm9kZScsIHByb2Nlc3MudmVyc2lvbik7XG4gICAgICAgIGV4ZWMoJ25wbSAtLXZlcnNpb24nLCAoZXJyLCBzdGRpbiwgc3RkZXJyKSA9PiB7XG4gICAgICAgICAgaWYoZXJyIHx8IHN0ZGVyci5sZW5ndGggPiAwKSByZXR1cm4gaW5zaWdodC50cmFjaygnbnBtJywgJ2Vycm9yJyk7XG4gICAgICAgICAgZWxzZSByZXR1cm4gaW5zaWdodC50cmFjaygnbnBtJywgc3RkaW4udG9TdHJpbmcoKS50cmltKCkpO1xuICAgICAgICB9KTtcbiAgICAgICAgaW5zaWdodC50cmFjaygncGxhdGZvcm0nLCBwcm9jZXNzLnBsYXRmb3JtKTtcblxuICAgICAgICB0aGlzLmxvZyh0aGlzLnlvV2VsY29tZSk7XG4gICAgICAgIHRoaXMubG9nKCdPdXQgb2YgdGhlIGJveCBJIGNyZWF0ZSBhbiBBbmd1bGFySlMgYXBwIHdpdGggYW4gRXhwcmVzcyBzZXJ2ZXIuXFxuJyk7XG4gICAgICB9LFxuXG4gICAgICBjaGVja0ZvckNvbmZpZzogZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBjYiA9IHRoaXMuYXN5bmMoKTtcbiAgICAgICAgdmFyIGV4aXN0aW5nRmlsdGVycyA9IHRoaXMuY29uZmlnLmdldCgnZmlsdGVycycpO1xuXG4gICAgICAgIGlmKGV4aXN0aW5nRmlsdGVycykge1xuICAgICAgICAgIHRoaXMucHJvbXB0KFt7XG4gICAgICAgICAgICB0eXBlOiAnY29uZmlybScsXG4gICAgICAgICAgICBuYW1lOiAnc2tpcENvbmZpZycsXG4gICAgICAgICAgICBtZXNzYWdlOiAnRXhpc3RpbmcgLnlvLXJjIGNvbmZpZ3VyYXRpb24gZm91bmQsIHdvdWxkIHlvdSBsaWtlIHRvIHVzZSBpdD8nLFxuICAgICAgICAgICAgZGVmYXVsdDogdHJ1ZSxcbiAgICAgICAgICB9XSwgZnVuY3Rpb24gKGFuc3dlcnMpIHtcbiAgICAgICAgICAgIHRoaXMuc2tpcENvbmZpZyA9IGFuc3dlcnMuc2tpcENvbmZpZztcblxuICAgICAgICAgICAgaWYodGhpcy5za2lwQ29uZmlnKSB7XG4gICAgICAgICAgICAgIGluc2lnaHQudHJhY2soJ3NraXBDb25maWcnLCAndHJ1ZScpO1xuICAgICAgICAgICAgICB0aGlzLmZpbHRlcnMgPSBleGlzdGluZ0ZpbHRlcnM7XG5cbiAgICAgICAgICAgICAgdGhpcy5zY3JpcHRFeHQgPSB0aGlzLmZpbHRlcnMudHMgPyAndHMnIDogJ2pzJztcbiAgICAgICAgICAgICAgdGhpcy50ZW1wbGF0ZUV4dCA9IHRoaXMuZmlsdGVycy5qYWRlID8gJ2phZGUnIDogJ2h0bWwnO1xuICAgICAgICAgICAgICB0aGlzLnN0eWxlRXh0ID0gdGhpcy5maWx0ZXJzLnNhc3MgPyAnc2NzcycgOiBcbiAgICAgICAgICAgICAgICB0aGlzLmZpbHRlcnMubGVzcyA/ICdsZXNzJyA6IFxuICAgICAgICAgICAgICAgIHRoaXMuZmlsdGVycy5zdHlsdXMgPyAnc3R5bCcgOiBcbiAgICAgICAgICAgICAgICAnY3NzJztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGluc2lnaHQudHJhY2soJ3NraXBDb25maWcnLCAnZmFsc2UnKTtcbiAgICAgICAgICAgICAgdGhpcy5maWx0ZXJzID0ge307XG4gICAgICAgICAgICAgIHRoaXMuZm9yY2VDb25maWcgPSB0cnVlO1xuICAgICAgICAgICAgICB0aGlzLmNvbmZpZy5zZXQoJ2ZpbHRlcnMnLCB0aGlzLmZpbHRlcnMpO1xuICAgICAgICAgICAgICB0aGlzLmNvbmZpZy5mb3JjZVNhdmUoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY2IoKTtcbiAgICAgICAgICB9LmJpbmQodGhpcykpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNiKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgZ2V0IHByb21wdGluZygpIHtcbiAgICByZXR1cm4ge1xuXG4gICAgICBjbGllbnRQcm9tcHRzOiBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYodGhpcy5za2lwQ29uZmlnKSByZXR1cm47XG4gICAgICAgIHZhciBjYiA9IHRoaXMuYXN5bmMoKTtcblxuICAgICAgICB0aGlzLmxvZygnIyBDbGllbnRcXG4nKTtcblxuICAgICAgICB0aGlzLnByb21wdChbe1xuICAgICAgICAgICAgdHlwZTogJ2xpc3QnLFxuICAgICAgICAgICAgbmFtZTogJ3RyYW5zcGlsZXInLFxuICAgICAgICAgICAgbWVzc2FnZTogJ1doYXQgd291bGQgeW91IGxpa2UgdG8gd3JpdGUgc2NyaXB0cyB3aXRoPycsXG4gICAgICAgICAgICBjaG9pY2VzOiBbJ0JhYmVsJywgJ1R5cGVTY3JpcHQnXSxcbiAgICAgICAgICAgIGZpbHRlcjogdmFsID0+IHtcbiAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAnQmFiZWwnOiAnYmFiZWwnLFxuICAgICAgICAgICAgICAgICdUeXBlU2NyaXB0JzogJ3RzJ1xuICAgICAgICAgICAgICB9W3ZhbF07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSwge1xuICAgICAgICAgICAgdHlwZTogJ2xpc3QnLFxuICAgICAgICAgICAgbmFtZTogJ21hcmt1cCcsXG4gICAgICAgICAgICBtZXNzYWdlOiAnV2hhdCB3b3VsZCB5b3UgbGlrZSB0byB3cml0ZSBtYXJrdXAgd2l0aD8nLFxuICAgICAgICAgICAgY2hvaWNlczogWydIVE1MJywgJ0phZGUnXSxcbiAgICAgICAgICAgIGZpbHRlcjogZnVuY3Rpb24oIHZhbCApIHsgcmV0dXJuIHZhbC50b0xvd2VyQ2FzZSgpOyB9XG4gICAgICAgICAgfSwge1xuICAgICAgICAgICAgdHlwZTogJ2xpc3QnLFxuICAgICAgICAgICAgbmFtZTogJ3N0eWxlc2hlZXQnLFxuICAgICAgICAgICAgZGVmYXVsdDogMSxcbiAgICAgICAgICAgIG1lc3NhZ2U6ICdXaGF0IHdvdWxkIHlvdSBsaWtlIHRvIHdyaXRlIHN0eWxlc2hlZXRzIHdpdGg/JyxcbiAgICAgICAgICAgIGNob2ljZXM6IFsgJ0NTUycsICdTYXNzJywgJ1N0eWx1cycsICdMZXNzJ10sXG4gICAgICAgICAgICBmaWx0ZXI6IGZ1bmN0aW9uKCB2YWwgKSB7IHJldHVybiB2YWwudG9Mb3dlckNhc2UoKTsgfVxuICAgICAgICAgIH0sICB7XG4gICAgICAgICAgICB0eXBlOiAnbGlzdCcsXG4gICAgICAgICAgICBuYW1lOiAncm91dGVyJyxcbiAgICAgICAgICAgIGRlZmF1bHQ6IDEsXG4gICAgICAgICAgICBtZXNzYWdlOiAnV2hhdCBBbmd1bGFyIHJvdXRlciB3b3VsZCB5b3UgbGlrZSB0byB1c2U/JyxcbiAgICAgICAgICAgIGNob2ljZXM6IFsgJ25nUm91dGUnLCAndWlSb3V0ZXInXSxcbiAgICAgICAgICAgIGZpbHRlcjogZnVuY3Rpb24oIHZhbCApIHsgcmV0dXJuIHZhbC50b0xvd2VyQ2FzZSgpOyB9XG4gICAgICAgICAgfSwge1xuICAgICAgICAgICAgdHlwZTogJ2NvbmZpcm0nLFxuICAgICAgICAgICAgbmFtZTogJ2Jvb3RzdHJhcCcsXG4gICAgICAgICAgICBtZXNzYWdlOiAnV291bGQgeW91IGxpa2UgdG8gaW5jbHVkZSBCb290c3RyYXA/J1xuICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgIHR5cGU6ICdjb25maXJtJyxcbiAgICAgICAgICAgIG5hbWU6ICd1aWJvb3RzdHJhcCcsXG4gICAgICAgICAgICBtZXNzYWdlOiAnV291bGQgeW91IGxpa2UgdG8gaW5jbHVkZSBVSSBCb290c3RyYXA/JyxcbiAgICAgICAgICAgIHdoZW46IGZ1bmN0aW9uIChhbnN3ZXJzKSB7XG4gICAgICAgICAgICAgIHJldHVybiBhbnN3ZXJzLmJvb3RzdHJhcDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XSwgZnVuY3Rpb24gKGFuc3dlcnMpIHtcbiAgICAgICAgICAgIHRoaXMuZmlsdGVycy5qcyA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLmZpbHRlcnNbYW5zd2Vycy50cmFuc3BpbGVyXSA9IHRydWU7XG4gICAgICAgICAgICBpbnNpZ2h0LnRyYWNrKCd0cmFuc3BpbGVyJywgYW5zd2Vycy50cmFuc3BpbGVyKTtcblxuICAgICAgICAgICAgdGhpcy5maWx0ZXJzW2Fuc3dlcnMubWFya3VwXSA9IHRydWU7XG4gICAgICAgICAgICBpbnNpZ2h0LnRyYWNrKCdtYXJrdXAnLCBhbnN3ZXJzLm1hcmt1cCk7XG5cbiAgICAgICAgICAgIHRoaXMuZmlsdGVyc1thbnN3ZXJzLnN0eWxlc2hlZXRdID0gdHJ1ZTtcbiAgICAgICAgICAgIGluc2lnaHQudHJhY2soJ3N0eWxlc2hlZXQnLCBhbnN3ZXJzLnN0eWxlc2hlZXQpO1xuXG4gICAgICAgICAgICB0aGlzLmZpbHRlcnNbYW5zd2Vycy5yb3V0ZXJdID0gdHJ1ZTtcbiAgICAgICAgICAgIGluc2lnaHQudHJhY2soJ3JvdXRlcicsIGFuc3dlcnMucm91dGVyKTtcblxuICAgICAgICAgICAgdGhpcy5maWx0ZXJzLmJvb3RzdHJhcCA9ICEhYW5zd2Vycy5ib290c3RyYXA7XG4gICAgICAgICAgICBpbnNpZ2h0LnRyYWNrKCdib290c3RyYXAnLCAhIWFuc3dlcnMuYm9vdHN0cmFwKTtcblxuICAgICAgICAgICAgdGhpcy5maWx0ZXJzLnVpYm9vdHN0cmFwID0gICEhYW5zd2Vycy51aWJvb3RzdHJhcDtcbiAgICAgICAgICAgIGluc2lnaHQudHJhY2soJ3VpYm9vdHN0cmFwJywgISFhbnN3ZXJzLnVpYm9vdHN0cmFwKTtcblxuICAgICAgICAgICAgdGhpcy5zY3JpcHRFeHQgPSBhbnN3ZXJzLnRyYW5zcGlsZXIgPT09ICd0cycgPyAndHMnIDogJ2pzJztcbiAgICAgICAgICAgIHRoaXMudGVtcGxhdGVFeHQgPSBhbnN3ZXJzLm1hcmt1cDtcblxuICAgICAgICAgICAgdmFyIHN0eWxlRXh0ID0ge3Nhc3M6ICdzY3NzJywgc3R5bHVzOiAnc3R5bCd9W2Fuc3dlcnMuc3R5bGVzaGVldF07XG4gICAgICAgICAgICB0aGlzLnN0eWxlRXh0ID0gc3R5bGVFeHQgPyBzdHlsZUV4dCA6IGFuc3dlcnMuc3R5bGVzaGVldDtcblxuICAgICAgICAgICAgY2IoKTtcbiAgICAgICAgICB9LmJpbmQodGhpcykpO1xuICAgICAgfSxcblxuICAgICAgc2VydmVyUHJvbXB0czogZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmKHRoaXMuc2tpcENvbmZpZykgcmV0dXJuO1xuICAgICAgICB2YXIgY2IgPSB0aGlzLmFzeW5jKCk7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgICAgICB0aGlzLmxvZygnXFxuIyBTZXJ2ZXJcXG4nKTtcblxuICAgICAgICB0aGlzLnByb21wdChbe1xuICAgICAgICAgIHR5cGU6ICdjaGVja2JveCcsXG4gICAgICAgICAgbmFtZTogJ29kbXMnLFxuICAgICAgICAgIG1lc3NhZ2U6ICdXaGF0IHdvdWxkIHlvdSBsaWtlIHRvIHVzZSBmb3IgZGF0YSBtb2RlbGluZz8nLFxuICAgICAgICAgIGNob2ljZXM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgdmFsdWU6ICdtb25nb29zZScsXG4gICAgICAgICAgICAgIG5hbWU6ICdNb25nb29zZSAoTW9uZ29EQiknLFxuICAgICAgICAgICAgICBjaGVja2VkOiB0cnVlXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICB2YWx1ZTogJ3NlcXVlbGl6ZScsXG4gICAgICAgICAgICAgIG5hbWU6ICdTZXF1ZWxpemUgKE15U1FMLCBTUUxpdGUsIE1hcmlhREIsIFBvc3RncmVTUUwpJyxcbiAgICAgICAgICAgICAgY2hlY2tlZDogZmFsc2VcbiAgICAgICAgICAgIH1cbiAgICAgICAgICBdXG4gICAgICAgIH0sIHtcbiAgICAgICAgICB0eXBlOiAnbGlzdCcsXG4gICAgICAgICAgbmFtZTogJ21vZGVscycsXG4gICAgICAgICAgbWVzc2FnZTogJ1doYXQgd291bGQgeW91IGxpa2UgdG8gdXNlIGZvciB0aGUgZGVmYXVsdCBtb2RlbHM/JyxcbiAgICAgICAgICBjaG9pY2VzOiBbICdNb25nb29zZScsICdTZXF1ZWxpemUnIF0sXG4gICAgICAgICAgZmlsdGVyOiBmdW5jdGlvbiggdmFsICkge1xuICAgICAgICAgICAgcmV0dXJuIHZhbC50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgd2hlbjogZnVuY3Rpb24oYW5zd2Vycykge1xuICAgICAgICAgICAgcmV0dXJuIGFuc3dlcnMub2RtcyAmJiBhbnN3ZXJzLm9kbXMubGVuZ3RoID4gMTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICB0eXBlOiAnY29uZmlybScsXG4gICAgICAgICAgbmFtZTogJ2F1dGgnLFxuICAgICAgICAgIG1lc3NhZ2U6ICdXb3VsZCB5b3Ugc2NhZmZvbGQgb3V0IGFuIGF1dGhlbnRpY2F0aW9uIGJvaWxlcnBsYXRlPycsXG4gICAgICAgICAgd2hlbjogZnVuY3Rpb24gKGFuc3dlcnMpIHtcbiAgICAgICAgICAgIHJldHVybiBhbnN3ZXJzLm9kbXMgJiYgYW5zd2Vycy5vZG1zLmxlbmd0aCAhPT0gMDtcbiAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICB0eXBlOiAnY2hlY2tib3gnLFxuICAgICAgICAgIG5hbWU6ICdvYXV0aCcsXG4gICAgICAgICAgbWVzc2FnZTogJ1dvdWxkIHlvdSBsaWtlIHRvIGluY2x1ZGUgYWRkaXRpb25hbCBvQXV0aCBzdHJhdGVnaWVzPycsXG4gICAgICAgICAgd2hlbjogZnVuY3Rpb24gKGFuc3dlcnMpIHtcbiAgICAgICAgICAgIHJldHVybiBhbnN3ZXJzLmF1dGg7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBjaG9pY2VzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHZhbHVlOiAnZ29vZ2xlQXV0aCcsXG4gICAgICAgICAgICAgIG5hbWU6ICdHb29nbGUnLFxuICAgICAgICAgICAgICBjaGVja2VkOiBmYWxzZVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgdmFsdWU6ICdmYWNlYm9va0F1dGgnLFxuICAgICAgICAgICAgICBuYW1lOiAnRmFjZWJvb2snLFxuICAgICAgICAgICAgICBjaGVja2VkOiBmYWxzZVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgdmFsdWU6ICd0d2l0dGVyQXV0aCcsXG4gICAgICAgICAgICAgIG5hbWU6ICdUd2l0dGVyJyxcbiAgICAgICAgICAgICAgY2hlY2tlZDogZmFsc2VcbiAgICAgICAgICAgIH1cbiAgICAgICAgICBdXG4gICAgICAgIH0sIHtcbiAgICAgICAgICB0eXBlOiAnY29uZmlybScsXG4gICAgICAgICAgbmFtZTogJ3NvY2tldGlvJyxcbiAgICAgICAgICBtZXNzYWdlOiAnV291bGQgeW91IGxpa2UgdG8gdXNlIHNvY2tldC5pbz8nLFxuICAgICAgICAgIC8vIHRvLWRvOiBzaG91bGQgbm90IGJlIGRlcGVuZGVudCBvbiBPRE1zXG4gICAgICAgICAgd2hlbjogZnVuY3Rpb24gKGFuc3dlcnMpIHtcbiAgICAgICAgICAgIHJldHVybiBhbnN3ZXJzLm9kbXMgJiYgYW5zd2Vycy5vZG1zLmxlbmd0aCAhPT0gMDtcbiAgICAgICAgICB9LFxuICAgICAgICAgIGRlZmF1bHQ6IHRydWVcbiAgICAgICAgfV0sIGZ1bmN0aW9uIChhbnN3ZXJzKSB7XG4gICAgICAgICAgaWYoYW5zd2Vycy5zb2NrZXRpbykgdGhpcy5maWx0ZXJzLnNvY2tldGlvID0gdHJ1ZTtcbiAgICAgICAgICBpbnNpZ2h0LnRyYWNrKCdzb2NrZXRpbycsICEhYW5zd2Vycy5zb2NrZXRpbyk7XG5cbiAgICAgICAgICBpZihhbnN3ZXJzLmF1dGgpIHRoaXMuZmlsdGVycy5hdXRoID0gdHJ1ZTtcbiAgICAgICAgICBpbnNpZ2h0LnRyYWNrKCdhdXRoJywgISFhbnN3ZXJzLmF1dGgpO1xuXG4gICAgICAgICAgaWYoYW5zd2Vycy5vZG1zICYmIGFuc3dlcnMub2Rtcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB2YXIgbW9kZWxzO1xuICAgICAgICAgICAgaWYoIWFuc3dlcnMubW9kZWxzKSB7XG4gICAgICAgICAgICAgIG1vZGVscyA9IGFuc3dlcnMub2Rtc1swXTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIG1vZGVscyA9IGFuc3dlcnMubW9kZWxzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5maWx0ZXJzLm1vZGVscyA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLmZpbHRlcnNbbW9kZWxzICsgJ01vZGVscyddID0gdHJ1ZTtcbiAgICAgICAgICAgIGFuc3dlcnMub2Rtcy5mb3JFYWNoKGZ1bmN0aW9uKG9kbSkge1xuICAgICAgICAgICAgICB0aGlzLmZpbHRlcnNbb2RtXSA9IHRydWU7XG4gICAgICAgICAgICB9LmJpbmQodGhpcykpO1xuICAgICAgICAgICAgaW5zaWdodC50cmFjaygnb2F1dGgnLCAhIWFuc3dlcnMub2F1dGgpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmZpbHRlcnMubm9Nb2RlbHMgPSB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpbnNpZ2h0LnRyYWNrKCdvZG1zJywgYW5zd2Vycy5vZG1zICYmIGFuc3dlcnMub2Rtcy5sZW5ndGggPiAwKTtcbiAgICAgICAgICBpbnNpZ2h0LnRyYWNrKCdtb25nb29zZScsICEhdGhpcy5maWx0ZXJzLm1vbmdvb3NlKTtcbiAgICAgICAgICBpbnNpZ2h0LnRyYWNrKCdtb25nb29zZU1vZGVscycsICEhdGhpcy5maWx0ZXJzLm1vbmdvb3NlTW9kZWxzKTtcbiAgICAgICAgICBpbnNpZ2h0LnRyYWNrKCdzZXF1ZWxpemUnLCAhIXRoaXMuZmlsdGVycy5zZXF1ZWxpemUpO1xuICAgICAgICAgIGluc2lnaHQudHJhY2soJ3NlcXVlbGl6ZU1vZGVscycsICEhdGhpcy5maWx0ZXJzLnNlcXVlbGl6ZU1vZGVscyk7XG5cbiAgICAgICAgICBpZihhbnN3ZXJzLm9hdXRoKSB7XG4gICAgICAgICAgICBpZihhbnN3ZXJzLm9hdXRoLmxlbmd0aCkgdGhpcy5maWx0ZXJzLm9hdXRoID0gdHJ1ZTtcbiAgICAgICAgICAgIGFuc3dlcnMub2F1dGguZm9yRWFjaChmdW5jdGlvbihvYXV0aFN0cmF0ZWd5KSB7XG4gICAgICAgICAgICAgIHRoaXMuZmlsdGVyc1tvYXV0aFN0cmF0ZWd5XSA9IHRydWU7XG4gICAgICAgICAgICB9LmJpbmQodGhpcykpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpbnNpZ2h0LnRyYWNrKCdvYXV0aCcsICEhdGhpcy5maWx0ZXJzLm9hdXRoKTtcbiAgICAgICAgICBpbnNpZ2h0LnRyYWNrKCdnb29nbGUtb2F1dGgnLCAhIXRoaXMuZmlsdGVyc1snZ29vZ2xlQXV0aCddKTtcbiAgICAgICAgICBpbnNpZ2h0LnRyYWNrKCdmYWNlYm9vay1vYXV0aCcsICEhdGhpcy5maWx0ZXJzWydmYWNlYm9va0F1dGgnXSk7XG4gICAgICAgICAgaW5zaWdodC50cmFjaygndHdpdHRlci1vYXV0aCcsICEhdGhpcy5maWx0ZXJzWyd0d2l0dGVyQXV0aCddKTtcblxuICAgICAgICAgIGNiKCk7XG4gICAgICAgIH0uYmluZCh0aGlzKSk7XG4gICAgICB9LFxuXG4gICAgICBwcm9qZWN0UHJvbXB0czogZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmKHRoaXMuc2tpcENvbmZpZykgcmV0dXJuO1xuICAgICAgICB2YXIgY2IgPSB0aGlzLmFzeW5jKCk7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgICAgICB0aGlzLmxvZygnXFxuIyBQcm9qZWN0XFxuJyk7XG5cbiAgICAgICAgdGhpcy5wcm9tcHQoW3tcbiAgICAgICAgICB0eXBlOiAnbGlzdCcsXG4gICAgICAgICAgbmFtZTogJ2J1aWxkdG9vbCcsXG4gICAgICAgICAgbWVzc2FnZTogJ1dvdWxkIHlvdSBsaWtlIHRvIHVzZSBHdWxwIG9yIEdydW50PycsXG4gICAgICAgICAgY2hvaWNlczogWydHcnVudCcsICdHdWxwJ10sXG4gICAgICAgICAgZGVmYXVsdDogMCxcbiAgICAgICAgICBmaWx0ZXI6IHZhbCA9PiB2YWwudG9Mb3dlckNhc2UoKVxuICAgICAgICB9LCB7XG4gICAgICAgICAgdHlwZTogJ2xpc3QnLFxuICAgICAgICAgIG5hbWU6ICd0ZXN0aW5nJyxcbiAgICAgICAgICBtZXNzYWdlOiAnV2hhdCB3b3VsZCB5b3UgbGlrZSB0byB3cml0ZSB0ZXN0cyB3aXRoPycsXG4gICAgICAgICAgY2hvaWNlczogWyAnSmFzbWluZScsICdNb2NoYSArIENoYWkgKyBTaW5vbiddLFxuICAgICAgICAgIGZpbHRlcjogZnVuY3Rpb24oIHZhbCApIHtcbiAgICAgICAgICAgIHZhciBmaWx0ZXJNYXAgPSB7XG4gICAgICAgICAgICAgICdKYXNtaW5lJzogJ2phc21pbmUnLFxuICAgICAgICAgICAgICAnTW9jaGEgKyBDaGFpICsgU2lub24nOiAnbW9jaGEnXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICByZXR1cm4gZmlsdGVyTWFwW3ZhbF07XG4gICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgdHlwZTogJ2xpc3QnLFxuICAgICAgICAgIG5hbWU6ICdjaGFpJyxcbiAgICAgICAgICBtZXNzYWdlOiAnV2hhdCB3b3VsZCB5b3UgbGlrZSB0byB3cml0ZSBDaGFpIGFzc2VydGlvbnMgd2l0aD8nLFxuICAgICAgICAgIGNob2ljZXM6IFsnRXhwZWN0JywgJ1Nob3VsZCddLFxuICAgICAgICAgIGZpbHRlcjogZnVuY3Rpb24oIHZhbCApIHtcbiAgICAgICAgICAgIHJldHVybiB2YWwudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIHdoZW46IGZ1bmN0aW9uKCBhbnN3ZXJzICkge1xuICAgICAgICAgICAgcmV0dXJuICBhbnN3ZXJzLnRlc3RpbmcgPT09ICdtb2NoYSc7XG4gICAgICAgICAgfVxuICAgICAgICB9XSwgZnVuY3Rpb24gKGFuc3dlcnMpIHtcbiAgICAgICAgICB0aGlzLmZpbHRlcnNbYW5zd2Vycy5idWlsZHRvb2xdID0gdHJ1ZTtcbiAgICAgICAgICBpbnNpZ2h0LnRyYWNrKCdidWlsZHRvb2wnLCBhbnN3ZXJzLmJ1aWxkdG9vbCk7XG5cbiAgICAgICAgICB0aGlzLmZpbHRlcnNbYW5zd2Vycy50ZXN0aW5nXSA9IHRydWU7XG4gICAgICAgICAgaW5zaWdodC50cmFjaygndGVzdGluZycsIGFuc3dlcnMudGVzdGluZyk7XG4gICAgICAgICAgaWYgKGFuc3dlcnMudGVzdGluZyA9PT0gJ21vY2hhJykge1xuICAgICAgICAgICAgdGhpcy5maWx0ZXJzLmphc21pbmUgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuZmlsdGVycy5zaG91bGQgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuZmlsdGVycy5leHBlY3QgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuZmlsdGVyc1thbnN3ZXJzLmNoYWldID0gdHJ1ZTtcbiAgICAgICAgICAgIGluc2lnaHQudHJhY2soJ2NoYWktYXNzZXJ0aW9ucycsIGFuc3dlcnMuY2hhaSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChhbnN3ZXJzLnRlc3RpbmcgPT09ICdqYXNtaW5lJykge1xuICAgICAgICAgICAgdGhpcy5maWx0ZXJzLm1vY2hhID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLmZpbHRlcnMuc2hvdWxkID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLmZpbHRlcnMuZXhwZWN0ID0gZmFsc2U7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY2IoKTtcbiAgICAgICAgfS5iaW5kKHRoaXMpKTtcbiAgICAgIH1cblxuICAgIH07XG4gIH1cblxuICBnZXQgY29uZmlndXJpbmcoKSB7XG4gICAgcmV0dXJuIHtcblxuICAgICAgc2F2ZVNldHRpbmdzOiBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYodGhpcy5za2lwQ29uZmlnKSByZXR1cm47XG4gICAgICAgIHRoaXMuY29uZmlnLnNldCgnZW5kcG9pbnREaXJlY3RvcnknLCAnc2VydmVyL2FwaS8nKTtcbiAgICAgICAgdGhpcy5jb25maWcuc2V0KCdpbnNlcnRSb3V0ZXMnLCB0cnVlKTtcbiAgICAgICAgdGhpcy5jb25maWcuc2V0KCdyZWdpc3RlclJvdXRlc0ZpbGUnLCAnc2VydmVyL3JvdXRlcy5qcycpO1xuICAgICAgICB0aGlzLmNvbmZpZy5zZXQoJ3JvdXRlc05lZWRsZScsICcvLyBJbnNlcnQgcm91dGVzIGJlbG93Jyk7XG5cbiAgICAgICAgdGhpcy5jb25maWcuc2V0KCdyb3V0ZXNCYXNlJywgJy9hcGkvJyk7XG4gICAgICAgIHRoaXMuY29uZmlnLnNldCgncGx1cmFsaXplUm91dGVzJywgdHJ1ZSk7XG5cbiAgICAgICAgdGhpcy5jb25maWcuc2V0KCdpbnNlcnRTb2NrZXRzJywgdHJ1ZSk7XG4gICAgICAgIHRoaXMuY29uZmlnLnNldCgncmVnaXN0ZXJTb2NrZXRzRmlsZScsICdzZXJ2ZXIvY29uZmlnL3NvY2tldGlvLmpzJyk7XG4gICAgICAgIHRoaXMuY29uZmlnLnNldCgnc29ja2V0c05lZWRsZScsICcvLyBJbnNlcnQgc29ja2V0cyBiZWxvdycpO1xuXG4gICAgICAgIHRoaXMuY29uZmlnLnNldCgnaW5zZXJ0TW9kZWxzJywgdHJ1ZSk7XG4gICAgICAgIHRoaXMuY29uZmlnLnNldCgncmVnaXN0ZXJNb2RlbHNGaWxlJywgJ3NlcnZlci9zcWxkYi9pbmRleC5qcycpO1xuICAgICAgICB0aGlzLmNvbmZpZy5zZXQoJ21vZGVsc05lZWRsZScsICcvLyBJbnNlcnQgbW9kZWxzIGJlbG93Jyk7XG5cbiAgICAgICAgdGhpcy5jb25maWcuc2V0KCdmaWx0ZXJzJywgdGhpcy5maWx0ZXJzKTtcbiAgICAgICAgdGhpcy5jb25maWcuZm9yY2VTYXZlKCk7XG4gICAgICB9LFxuXG4gICAgICBuZ0NvbXBvbmVudDogZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmKHRoaXMuc2tpcENvbmZpZykgcmV0dXJuO1xuICAgICAgICB2YXIgYXBwUGF0aCA9ICdjbGllbnQvYXBwLyc7XG4gICAgICAgIHZhciBleHRlbnNpb25zID0gW107XG4gICAgICAgIHZhciBmaWx0ZXJzID0gW1xuICAgICAgICAgICduZ3JvdXRlJyxcbiAgICAgICAgICAndWlyb3V0ZXInLFxuICAgICAgICAgICdqYXNtaW5lJyxcbiAgICAgICAgICAnbW9jaGEnLFxuICAgICAgICAgICdleHBlY3QnLFxuICAgICAgICAgICdzaG91bGQnXG4gICAgICAgIF0uZmlsdGVyKGZ1bmN0aW9uKHYpIHtyZXR1cm4gdGhpcy5maWx0ZXJzW3ZdO30sIHRoaXMpO1xuXG4gICAgICAgIGlmKHRoaXMuZmlsdGVycy5uZ3JvdXRlKSBmaWx0ZXJzLnB1c2goJ25ncm91dGUnKTtcbiAgICAgICAgaWYodGhpcy5maWx0ZXJzLnVpcm91dGVyKSBmaWx0ZXJzLnB1c2goJ3Vpcm91dGVyJyk7XG4gICAgICAgIGlmKHRoaXMuZmlsdGVycy5iYWJlbCkgZXh0ZW5zaW9ucy5wdXNoKCdiYWJlbCcpO1xuICAgICAgICBpZih0aGlzLmZpbHRlcnMudHMpIGV4dGVuc2lvbnMucHVzaCgndHMnKTtcbiAgICAgICAgaWYodGhpcy5maWx0ZXJzLmpzKSBleHRlbnNpb25zLnB1c2goJ2pzJyk7XG4gICAgICAgIGlmKHRoaXMuZmlsdGVycy5odG1sKSBleHRlbnNpb25zLnB1c2goJ2h0bWwnKTtcbiAgICAgICAgaWYodGhpcy5maWx0ZXJzLmphZGUpIGV4dGVuc2lvbnMucHVzaCgnamFkZScpO1xuICAgICAgICBpZih0aGlzLmZpbHRlcnMuY3NzKSBleHRlbnNpb25zLnB1c2goJ2NzcycpO1xuICAgICAgICBpZih0aGlzLmZpbHRlcnMuc3R5bHVzKSBleHRlbnNpb25zLnB1c2goJ3N0eWwnKTtcbiAgICAgICAgaWYodGhpcy5maWx0ZXJzLnNhc3MpIGV4dGVuc2lvbnMucHVzaCgnc2NzcycpO1xuICAgICAgICBpZih0aGlzLmZpbHRlcnMubGVzcykgZXh0ZW5zaW9ucy5wdXNoKCdsZXNzJyk7XG5cbiAgICAgICAgZmlsdGVycy5wdXNoKCdlczYnKTsgLy8gR2VuZXJhdGUgRVM2IHN5bnRheCBjb2RlXG5cbiAgICAgICAgdGhpcy5jb21wb3NlV2l0aCgnbmctY29tcG9uZW50Jywge1xuICAgICAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgICAgICdyb3V0ZURpcmVjdG9yeSc6IGFwcFBhdGgsXG4gICAgICAgICAgICAnZGlyZWN0aXZlRGlyZWN0b3J5JzogYXBwUGF0aCxcbiAgICAgICAgICAgICdmaWx0ZXJEaXJlY3RvcnknOiBhcHBQYXRoLFxuICAgICAgICAgICAgJ3NlcnZpY2VEaXJlY3RvcnknOiBhcHBQYXRoLFxuICAgICAgICAgICAgJ2ZpbHRlcnMnOiBmaWx0ZXJzLFxuICAgICAgICAgICAgJ2V4dGVuc2lvbnMnOiBleHRlbnNpb25zLFxuICAgICAgICAgICAgJ2Jhc2VQYXRoJzogJ2NsaWVudCcsXG4gICAgICAgICAgICAnZm9yY2VDb25maWcnOiB0aGlzLmZvcmNlQ29uZmlnXG4gICAgICAgICAgfVxuICAgICAgICB9LCB7IGxvY2FsOiByZXF1aXJlLnJlc29sdmUoJ2dlbmVyYXRvci1uZy1jb21wb25lbnQvYXBwL2luZGV4LmpzJykgfSk7XG4gICAgICB9LFxuXG4gICAgICBuZ01vZHVsZXM6IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgYW5nTW9kdWxlcyA9IFtcbiAgICAgICAgICBgJyR7dGhpcy5zY3JpcHRBcHBOYW1lfS5jb25zdGFudHMnYCxcbiAgICAgICAgICBcIiduZ0Nvb2tpZXMnXCIsXG4gICAgICAgICAgXCInbmdSZXNvdXJjZSdcIixcbiAgICAgICAgICBcIiduZ1Nhbml0aXplJ1wiXG4gICAgICAgIF07XG4gICAgICAgIGlmKHRoaXMuZmlsdGVycy5uZ3JvdXRlKSBhbmdNb2R1bGVzLnB1c2goXCInbmdSb3V0ZSdcIik7XG4gICAgICAgIGlmKHRoaXMuZmlsdGVycy5zb2NrZXRpbykgYW5nTW9kdWxlcy5wdXNoKFwiJ2J0Zm9yZC5zb2NrZXQtaW8nXCIpO1xuICAgICAgICBpZih0aGlzLmZpbHRlcnMudWlyb3V0ZXIpIGFuZ01vZHVsZXMucHVzaChcIid1aS5yb3V0ZXInXCIpO1xuICAgICAgICBpZih0aGlzLmZpbHRlcnMudWlib290c3RyYXApIGFuZ01vZHVsZXMucHVzaChcIid1aS5ib290c3RyYXAnXCIpO1xuICAgICAgICBpZih0aGlzLmZpbHRlcnMuYXV0aCkge1xuICAgICAgICAgIGFuZ01vZHVsZXMudW5zaGlmdChgJyR7dGhpcy5zY3JpcHRBcHBOYW1lfS5hZG1pbidgKTtcbiAgICAgICAgICBhbmdNb2R1bGVzLnVuc2hpZnQoYCcke3RoaXMuc2NyaXB0QXBwTmFtZX0uYXV0aCdgKTtcbiAgICAgICAgICBhbmdNb2R1bGVzLnB1c2goXCIndmFsaWRhdGlvbi5tYXRjaCdcIik7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmFuZ3VsYXJNb2R1bGVzID0gJ1xcbiAgJyArIGFuZ01vZHVsZXMuam9pbignLFxcbiAgJykgKydcXG4nO1xuICAgICAgfVxuXG4gICAgfTtcbiAgfVxuXG4gIGdldCBkZWZhdWx0KCkge1xuICAgIHJldHVybiB7fTtcbiAgfVxuXG4gIGdldCB3cml0aW5nKCkge1xuICAgIHJldHVybiB7XG5cbiAgICAgIGdlbmVyYXRlUHJvamVjdDogZnVuY3Rpb24oKSB7XG4gICAgICAgIGxldCBzZWxmID0gdGhpcztcbiAgICAgICAgdGhpcy5zb3VyY2VSb290KHBhdGguam9pbihfX2Rpcm5hbWUsICcuL3RlbXBsYXRlcycpKTtcbiAgICAgICAgdGhpcy5wcm9jZXNzRGlyZWN0b3J5KCcuJywgJy4nLCBmdW5jdGlvbihkZXN0KSB7XG4gICAgICAgICAgaWYoc2VsZi5maWx0ZXJzLnRzICYmIGRlc3QuaW5kZXhPZignY2xpZW50JykgPiAtMSAmJiBkZXN0LmluZGV4T2YoJy5qc29uJykgPT09IC0xKSB7XG4gICAgICAgICAgICBkZXN0ID0gZGVzdC5yZXBsYWNlKCcuanMnLCAnLnRzJyk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIGRlc3Q7XG4gICAgICAgIH0pO1xuICAgICAgfSxcblxuICAgICAgZ2VuZXJhdGVFbmRwb2ludDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBtb2RlbHM7XG4gICAgICAgIGlmICh0aGlzLmZpbHRlcnMubW9uZ29vc2VNb2RlbHMpIHtcbiAgICAgICAgICBtb2RlbHMgPSAnbW9uZ29vc2UnO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuZmlsdGVycy5zZXF1ZWxpemVNb2RlbHMpIHtcbiAgICAgICAgICBtb2RlbHMgPSAnc2VxdWVsaXplJztcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNvbXBvc2VXaXRoKCdhbmd1bGFyLWZ1bGxzdGFjazplbmRwb2ludCcsIHtcbiAgICAgICAgICBvcHRpb25zOiB7XG4gICAgICAgICAgICByb3V0ZTogJy9hcGkvdGhpbmdzJyxcbiAgICAgICAgICAgIG1vZGVsczogbW9kZWxzXG4gICAgICAgICAgfSxcbiAgICAgICAgICBhcmdzOiBbJ3RoaW5nJ11cbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICB9O1xuICB9XG5cbiAgZ2V0IGluc3RhbGwoKSB7XG4gICAgcmV0dXJuIHtcblxuICAgICAgaW5zdGFsbERlcHM6IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLmluc3RhbGxEZXBlbmRlbmNpZXMoe1xuICAgICAgICAgIHNraXBJbnN0YWxsOiB0aGlzLm9wdGlvbnNbJ3NraXAtaW5zdGFsbCddXG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgfTtcbiAgfVxuXG4gIGdldCBlbmQoKSB7XG4gICAgcmV0dXJuIHt9O1xuICB9XG5cbn1cbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "generator.js"
      ],
      "names": [],
      "mappings": "AAAA;;;;;;;;AAEA;;;;AACA;;;;AACA;;;;AACA;;AACA;;AACA;;;;AACA;;;;;;;;;;IAEqB;;;AAEnB,WAFmB,SAEnB,GAAqB;;;0BAFF,WAEE;;sCAAN;;KAAM;;gGAFF,4DAGR,QADU;;AAGnB,UAAK,QAAL,CAAc,MAAd,EAAsB,EAAE,MAAM,MAAN,EAAc,UAAU,KAAV,EAAtC,EAHmB;;AAKnB,UAAK,MAAL,CAAY,cAAZ,EAA4B;AAC1B,YAAM,6BAAN;AACA,YAAM,OAAN;AACA,gBAAU,KAAV;KAHF,EALmB;;AAWnB,UAAK,MAAL,CAAY,YAAZ,EAA0B;AACxB,YAAM,sDAAN;AACA,YAAM,MAAN;AACA,gBAAU,KAAV;KAHF,EAXmB;;GAArB;;eAFmB;;wBAoBA;AACjB,aAAO;AACL,cAAM,gBAAY;AAChB,cAAI,KAAK,KAAK,KAAL,EAAL,CADY;;AAGhB,eAAK,MAAL,CAAY,GAAZ,CAAgB,kBAAhB,EAAoC,KAAK,oBAAL,EAApC,EAHgB;AAIhB,eAAK,OAAL,GAAe,EAAf;;;AAJgB,qCAOhB,CAAQ,IAAR,EAPgB;;AAShB,cAAG,QAAQ,GAAR,CAAY,EAAZ,EAAgB;AACjB,kCAAQ,MAAR,GAAiB,IAAjB,CADiB;AAEjB,mBAAO,IAAP,CAFiB;WAAnB,MAGO,IAAG,sBAAQ,MAAR,KAAmB,SAAnB,EAA8B;AACtC,kCAAQ,aAAR,CAAsB,IAAtB,EAA4B,EAA5B,EADsC;WAAjC,MAEA;AACL,mBAAO,IAAP,CADK;WAFA;SAZH;;AAmBN,cAAM,gBAAY;AAChB,gCAAQ,KAAR,CAAc,WAAd,EAA2B,KAAK,oBAAL,EAA3B,EADgB;AAEhB,gCAAQ,KAAR,CAAc,MAAd,EAAsB,QAAQ,OAAR,CAAtB,CAFgB;AAGhB,mCAAK,eAAL,EAAsB,UAAC,GAAD,EAAM,KAAN,EAAa,MAAb,EAAwB;AAC5C,gBAAG,OAAO,OAAO,MAAP,GAAgB,CAAhB,EAAmB,OAAO,sBAAQ,KAAR,CAAc,KAAd,EAAqB,OAArB,CAAP,CAA7B,KACK,OAAO,sBAAQ,KAAR,CAAc,KAAd,EAAqB,MAAM,QAAN,GAAiB,IAAjB,EAArB,CAAP,CADL;WADoB,CAAtB,CAHgB;AAOhB,gCAAQ,KAAR,CAAc,UAAd,EAA0B,QAAQ,QAAR,CAA1B,CAPgB;;AAShB,eAAK,GAAL,CAAS,KAAK,SAAL,CAAT,CATgB;AAUhB,eAAK,GAAL,CAAS,oEAAT,EAVgB;SAAZ;;AAaN,wBAAgB,0BAAW;AACzB,cAAI,KAAK,KAAK,KAAL,EAAL,CADqB;AAEzB,cAAI,kBAAkB,KAAK,MAAL,CAAY,GAAZ,CAAgB,SAAhB,CAAlB,CAFqB;;AAIzB,cAAG,eAAH,EAAoB;AAClB,iBAAK,MAAL,CAAY,CAAC;AACX,oBAAM,SAAN;AACA,oBAAM,YAAN;AACA,uBAAS,gEAAT;AACA,uBAAS,IAAT;aAJU,CAAZ,EAKI,UAAU,OAAV,EAAmB;AACrB,mBAAK,UAAL,GAAkB,QAAQ,UAAR,CADG;;AAGrB,kBAAG,KAAK,UAAL,EAAiB;AAClB,sCAAQ,KAAR,CAAc,YAAd,EAA4B,MAA5B,EADkB;AAElB,qBAAK,OAAL,GAAe,eAAf,CAFkB;;AAIlB,qBAAK,SAAL,GAAiB,KAAK,OAAL,CAAa,EAAb,GAAkB,IAAlB,GAAyB,IAAzB,CAJC;AAKlB,qBAAK,WAAL,GAAmB,KAAK,OAAL,CAAa,IAAb,GAAoB,MAApB,GAA6B,MAA7B,CALD;AAMlB,qBAAK,QAAL,GAAgB,KAAK,OAAL,CAAa,IAAb,GAAoB,MAApB,GACd,KAAK,OAAL,CAAa,IAAb,GAAoB,MAApB,GACA,KAAK,OAAL,CAAa,MAAb,GAAsB,MAAtB,GACA,KADA,CARgB;eAApB,MAUO;AACL,sCAAQ,KAAR,CAAc,YAAd,EAA4B,OAA5B,EADK;AAEL,qBAAK,OAAL,GAAe,EAAf,CAFK;AAGL,qBAAK,WAAL,GAAmB,IAAnB,CAHK;AAIL,qBAAK,MAAL,CAAY,GAAZ,CAAgB,SAAhB,EAA2B,KAAK,OAAL,CAA3B,CAJK;AAKL,qBAAK,MAAL,CAAY,SAAZ,GALK;eAVP;;AAkBA,mBArBqB;aAAnB,CAsBF,IAtBE,CAsBG,IAtBH,CALJ,EADkB;WAApB,MA6BO;AACL,iBADK;WA7BP;SAJc;OAjClB,CADiB;;;;wBA0EH;AACd,aAAO;;AAEL,uBAAe,yBAAW;AACxB,cAAG,KAAK,UAAL,EAAiB,OAApB;AACA,cAAI,KAAK,KAAK,KAAL,EAAL,CAFoB;;AAIxB,eAAK,GAAL,CAAS,YAAT,EAJwB;;AAMxB,eAAK,MAAL,CAAY,CAAC;AACT,kBAAM,MAAN;AACA,kBAAM,YAAN;AACA,qBAAS,4CAAT;AACA,qBAAS,CAAC,OAAD,EAAU,YAAV,CAAT;AACA,oBAAQ,qBAAO;AACb,qBAAO;AACL,yBAAS,OAAT;AACA,8BAAc,IAAd;eAFK,CAGL,GAHK,CAAP,CADa;aAAP;WALA,EAWP;AACD,kBAAM,MAAN;AACA,kBAAM,QAAN;AACA,qBAAS,2CAAT;AACA,qBAAS,CAAC,MAAD,EAAS,MAAT,CAAT;AACA,oBAAQ,gBAAU,GAAV,EAAgB;AAAE,qBAAO,IAAI,WAAJ,EAAP,CAAF;aAAhB;WAhBA,EAiBP;AACD,kBAAM,MAAN;AACA,kBAAM,YAAN;AACA,qBAAS,CAAT;AACA,qBAAS,gDAAT;AACA,qBAAS,CAAE,KAAF,EAAS,MAAT,EAAiB,QAAjB,EAA2B,MAA3B,CAAT;AACA,oBAAQ,gBAAU,GAAV,EAAgB;AAAE,qBAAO,IAAI,WAAJ,EAAP,CAAF;aAAhB;WAvBA,EAwBN;AACF,kBAAM,MAAN;AACA,kBAAM,QAAN;AACA,qBAAS,CAAT;AACA,qBAAS,4CAAT;AACA,qBAAS,CAAE,SAAF,EAAa,UAAb,CAAT;AACA,oBAAQ,gBAAU,GAAV,EAAgB;AAAE,qBAAO,IAAI,WAAJ,EAAP,CAAF;aAAhB;WA9BA,EA+BP;AACD,kBAAM,SAAN;AACA,kBAAM,WAAN;AACA,qBAAS,sCAAT;WAlCQ,EAmCP;AACD,kBAAM,SAAN;AACA,kBAAM,aAAN;AACA,qBAAS,yCAAT;AACA,kBAAM,cAAU,OAAV,EAAmB;AACvB,qBAAO,QAAQ,SAAR,CADgB;aAAnB;WAvCE,CAAZ,EA0CM,UAAU,OAAV,EAAmB;AACrB,iBAAK,OAAL,CAAa,EAAb,GAAkB,IAAlB,CADqB;AAErB,iBAAK,OAAL,CAAa,QAAQ,UAAR,CAAb,GAAmC,IAAnC,CAFqB;AAGrB,kCAAQ,KAAR,CAAc,YAAd,EAA4B,QAAQ,UAAR,CAA5B,CAHqB;;AAKrB,iBAAK,OAAL,CAAa,QAAQ,MAAR,CAAb,GAA+B,IAA/B,CALqB;AAMrB,kCAAQ,KAAR,CAAc,QAAd,EAAwB,QAAQ,MAAR,CAAxB,CANqB;;AAQrB,iBAAK,OAAL,CAAa,QAAQ,UAAR,CAAb,GAAmC,IAAnC,CARqB;AASrB,kCAAQ,KAAR,CAAc,YAAd,EAA4B,QAAQ,UAAR,CAA5B,CATqB;;AAWrB,iBAAK,OAAL,CAAa,QAAQ,MAAR,CAAb,GAA+B,IAA/B,CAXqB;AAYrB,kCAAQ,KAAR,CAAc,QAAd,EAAwB,QAAQ,MAAR,CAAxB,CAZqB;;AAcrB,iBAAK,OAAL,CAAa,SAAb,GAAyB,CAAC,CAAC,QAAQ,SAAR,CAdN;AAerB,kCAAQ,KAAR,CAAc,WAAd,EAA2B,CAAC,CAAC,QAAQ,SAAR,CAA7B,CAfqB;;AAiBrB,iBAAK,OAAL,CAAa,WAAb,GAA4B,CAAC,CAAC,QAAQ,WAAR,CAjBT;AAkBrB,kCAAQ,KAAR,CAAc,aAAd,EAA6B,CAAC,CAAC,QAAQ,WAAR,CAA/B,CAlBqB;;AAoBrB,iBAAK,SAAL,GAAiB,QAAQ,UAAR,KAAuB,IAAvB,GAA8B,IAA9B,GAAqC,IAArC,CApBI;AAqBrB,iBAAK,WAAL,GAAmB,QAAQ,MAAR,CArBE;;AAuBrB,gBAAI,WAAW,EAAC,MAAM,MAAN,EAAc,QAAQ,MAAR,EAAf,CAA+B,QAAQ,UAAR,CAA1C,CAvBiB;AAwBrB,iBAAK,QAAL,GAAgB,WAAW,QAAX,GAAsB,QAAQ,UAAR,CAxBjB;;AA0BrB,iBA1BqB;WAAnB,CA2BF,IA3BE,CA2BG,IA3BH,CA1CN,EANwB;SAAX;;AA8Ef,uBAAe,yBAAW;AACxB,cAAG,KAAK,UAAL,EAAiB,OAApB;AACA,cAAI,KAAK,KAAK,KAAL,EAAL,CAFoB;AAGxB,cAAI,OAAO,IAAP,CAHoB;;AAKxB,eAAK,GAAL,CAAS,cAAT,EALwB;;AAOxB,eAAK,MAAL,CAAY,CAAC;AACX,kBAAM,UAAN;AACA,kBAAM,MAAN;AACA,qBAAS,+CAAT;AACA,qBAAS,CACP;AACE,qBAAO,UAAP;AACA,oBAAM,oBAAN;AACA,uBAAS,IAAT;aAJK,EAMP;AACE,qBAAO,WAAP;AACA,oBAAM,gDAAN;AACA,uBAAS,KAAT;aATK,CAAT;WAJU,EAgBT;AACD,kBAAM,MAAN;AACA,kBAAM,QAAN;AACA,qBAAS,oDAAT;AACA,qBAAS,CAAE,UAAF,EAAc,WAAd,CAAT;AACA,oBAAQ,gBAAU,GAAV,EAAgB;AACtB,qBAAO,IAAI,WAAJ,EAAP,CADsB;aAAhB;AAGR,kBAAM,cAAS,OAAT,EAAkB;AACtB,qBAAO,QAAQ,IAAR,IAAgB,QAAQ,IAAR,CAAa,MAAb,GAAsB,CAAtB,CADD;aAAlB;WAxBI,EA2BT;AACD,kBAAM,SAAN;AACA,kBAAM,MAAN;AACA,qBAAS,uDAAT;AACA,kBAAM,cAAU,OAAV,EAAmB;AACvB,qBAAO,QAAQ,IAAR,IAAgB,QAAQ,IAAR,CAAa,MAAb,KAAwB,CAAxB,CADA;aAAnB;WA/BI,EAkCT;AACD,kBAAM,UAAN;AACA,kBAAM,OAAN;AACA,qBAAS,wDAAT;AACA,kBAAM,cAAU,OAAV,EAAmB;AACvB,qBAAO,QAAQ,IAAR,CADgB;aAAnB;AAGN,qBAAS,CACP;AACE,qBAAO,YAAP;AACA,oBAAM,QAAN;AACA,uBAAS,KAAT;aAJK,EAMP;AACE,qBAAO,cAAP;AACA,oBAAM,UAAN;AACA,uBAAS,KAAT;aATK,EAWP;AACE,qBAAO,aAAP;AACA,oBAAM,SAAN;AACA,uBAAS,KAAT;aAdK,CAAT;WAzCU,EA0DT;AACD,kBAAM,SAAN;AACA,kBAAM,UAAN;AACA,qBAAS,kCAAT;;AAEA,kBAAM,cAAU,OAAV,EAAmB;AACvB,qBAAO,QAAQ,IAAR,IAAgB,QAAQ,IAAR,CAAa,MAAb,KAAwB,CAAxB,CADA;aAAnB;AAGN,qBAAS,IAAT;WAlEU,CAAZ,EAmEI,UAAU,OAAV,EAAmB;AACrB,gBAAG,QAAQ,QAAR,EAAkB,KAAK,OAAL,CAAa,QAAb,GAAwB,IAAxB,CAArB;AACA,kCAAQ,KAAR,CAAc,UAAd,EAA0B,CAAC,CAAC,QAAQ,QAAR,CAA5B,CAFqB;;AAIrB,gBAAG,QAAQ,IAAR,EAAc,KAAK,OAAL,CAAa,IAAb,GAAoB,IAApB,CAAjB;AACA,kCAAQ,KAAR,CAAc,MAAd,EAAsB,CAAC,CAAC,QAAQ,IAAR,CAAxB,CALqB;;AAOrB,gBAAG,QAAQ,IAAR,IAAgB,QAAQ,IAAR,CAAa,MAAb,GAAsB,CAAtB,EAAyB;AAC1C,kBAAI,MAAJ,CAD0C;AAE1C,kBAAG,CAAC,QAAQ,MAAR,EAAgB;AAClB,yBAAS,QAAQ,IAAR,CAAa,CAAb,CAAT,CADkB;eAApB,MAEO;AACL,yBAAS,QAAQ,MAAR,CADJ;eAFP;AAKA,mBAAK,OAAL,CAAa,MAAb,GAAsB,IAAtB,CAP0C;AAQ1C,mBAAK,OAAL,CAAa,SAAS,QAAT,CAAb,GAAkC,IAAlC,CAR0C;AAS1C,sBAAQ,IAAR,CAAa,OAAb,CAAqB,UAAS,GAAT,EAAc;AACjC,qBAAK,OAAL,CAAa,GAAb,IAAoB,IAApB,CADiC;eAAd,CAEnB,IAFmB,CAEd,IAFc,CAArB,EAT0C;AAY1C,oCAAQ,KAAR,CAAc,OAAd,EAAuB,CAAC,CAAC,QAAQ,KAAR,CAAzB,CAZ0C;aAA5C,MAaO;AACL,mBAAK,OAAL,CAAa,QAAb,GAAwB,IAAxB,CADK;aAbP;AAgBA,kCAAQ,KAAR,CAAc,MAAd,EAAsB,QAAQ,IAAR,IAAgB,QAAQ,IAAR,CAAa,MAAb,GAAsB,CAAtB,CAAtC,CAvBqB;AAwBrB,kCAAQ,KAAR,CAAc,UAAd,EAA0B,CAAC,CAAC,KAAK,OAAL,CAAa,QAAb,CAA5B,CAxBqB;AAyBrB,kCAAQ,KAAR,CAAc,gBAAd,EAAgC,CAAC,CAAC,KAAK,OAAL,CAAa,cAAb,CAAlC,CAzBqB;AA0BrB,kCAAQ,KAAR,CAAc,WAAd,EAA2B,CAAC,CAAC,KAAK,OAAL,CAAa,SAAb,CAA7B,CA1BqB;AA2BrB,kCAAQ,KAAR,CAAc,iBAAd,EAAiC,CAAC,CAAC,KAAK,OAAL,CAAa,eAAb,CAAnC,CA3BqB;;AA6BrB,gBAAG,QAAQ,KAAR,EAAe;AAChB,kBAAG,QAAQ,KAAR,CAAc,MAAd,EAAsB,KAAK,OAAL,CAAa,KAAb,GAAqB,IAArB,CAAzB;AACA,sBAAQ,KAAR,CAAc,OAAd,CAAsB,UAAS,aAAT,EAAwB;AAC5C,qBAAK,OAAL,CAAa,aAAb,IAA8B,IAA9B,CAD4C;eAAxB,CAEpB,IAFoB,CAEf,IAFe,CAAtB,EAFgB;aAAlB;AAMA,kCAAQ,KAAR,CAAc,OAAd,EAAuB,CAAC,CAAC,KAAK,OAAL,CAAa,KAAb,CAAzB,CAnCqB;AAoCrB,kCAAQ,KAAR,CAAc,cAAd,EAA8B,CAAC,CAAC,KAAK,OAAL,CAAa,YAAb,CAAD,CAA/B,CApCqB;AAqCrB,kCAAQ,KAAR,CAAc,gBAAd,EAAgC,CAAC,CAAC,KAAK,OAAL,CAAa,cAAb,CAAD,CAAjC,CArCqB;AAsCrB,kCAAQ,KAAR,CAAc,eAAd,EAA+B,CAAC,CAAC,KAAK,OAAL,CAAa,aAAb,CAAD,CAAhC,CAtCqB;;AAwCrB,iBAxCqB;WAAnB,CAyCF,IAzCE,CAyCG,IAzCH,CAnEJ,EAPwB;SAAX;;AAsHf,wBAAgB,0BAAW;AACzB,cAAG,KAAK,UAAL,EAAiB,OAApB;AACA,cAAI,KAAK,KAAK,KAAL,EAAL,CAFqB;AAGzB,cAAI,OAAO,IAAP,CAHqB;;AAKzB,eAAK,GAAL,CAAS,eAAT,EALyB;;AAOzB,eAAK,MAAL,CAAY,CAAC;AACX,kBAAM,MAAN;AACA,kBAAM,WAAN;AACA,qBAAS,sCAAT;AACA,qBAAS,CAAC,OAAD,EAAU,MAAV,CAAT;AACA,qBAAS,CAAT;AACA,oBAAQ;qBAAO,IAAI,WAAJ;aAAP;WANE,EAOT;AACD,kBAAM,MAAN;AACA,kBAAM,SAAN;AACA,qBAAS,0CAAT;AACA,qBAAS,CAAE,SAAF,EAAa,sBAAb,CAAT;AACA,oBAAQ,gBAAU,GAAV,EAAgB;AACtB,kBAAI,YAAY;AACd,2BAAW,SAAX;AACA,wCAAwB,OAAxB;eAFE,CADkB;;AAMtB,qBAAO,UAAU,GAAV,CAAP,CANsB;aAAhB;WAZE,EAoBT;AACD,kBAAM,MAAN;AACA,kBAAM,MAAN;AACA,qBAAS,oDAAT;AACA,qBAAS,CAAC,QAAD,EAAW,QAAX,CAAT;AACA,oBAAQ,gBAAU,GAAV,EAAgB;AACtB,qBAAO,IAAI,WAAJ,EAAP,CADsB;aAAhB;AAGR,kBAAM,cAAU,OAAV,EAAoB;AACxB,qBAAQ,QAAQ,OAAR,KAAoB,OAApB,CADgB;aAApB;WA5BI,CAAZ,EA+BI,UAAU,OAAV,EAAmB;AACrB,iBAAK,OAAL,CAAa,QAAQ,SAAR,CAAb,GAAkC,IAAlC,CADqB;AAErB,kCAAQ,KAAR,CAAc,WAAd,EAA2B,QAAQ,SAAR,CAA3B,CAFqB;;AAIrB,iBAAK,OAAL,CAAa,QAAQ,OAAR,CAAb,GAAgC,IAAhC,CAJqB;AAKrB,kCAAQ,KAAR,CAAc,SAAd,EAAyB,QAAQ,OAAR,CAAzB,CALqB;AAMrB,gBAAI,QAAQ,OAAR,KAAoB,OAApB,EAA6B;AAC/B,mBAAK,OAAL,CAAa,OAAb,GAAuB,KAAvB,CAD+B;AAE/B,mBAAK,OAAL,CAAa,MAAb,GAAsB,KAAtB,CAF+B;AAG/B,mBAAK,OAAL,CAAa,MAAb,GAAsB,KAAtB,CAH+B;AAI/B,mBAAK,OAAL,CAAa,QAAQ,IAAR,CAAb,GAA6B,IAA7B,CAJ+B;AAK/B,oCAAQ,KAAR,CAAc,iBAAd,EAAiC,QAAQ,IAAR,CAAjC,CAL+B;aAAjC;AAOA,gBAAI,QAAQ,OAAR,KAAoB,SAApB,EAA+B;AACjC,mBAAK,OAAL,CAAa,KAAb,GAAqB,KAArB,CADiC;AAEjC,mBAAK,OAAL,CAAa,MAAb,GAAsB,KAAtB,CAFiC;AAGjC,mBAAK,OAAL,CAAa,MAAb,GAAsB,KAAtB,CAHiC;aAAnC;;AAMA,iBAnBqB;WAAnB,CAoBF,IApBE,CAoBG,IApBH,CA/BJ,EAPyB;SAAX;;OAtMlB,CADc;;;;wBAuQE;AAChB,aAAO;;AAEL,sBAAc,wBAAW;AACvB,cAAG,KAAK,UAAL,EAAiB,OAApB;AACA,eAAK,MAAL,CAAY,GAAZ,CAAgB,mBAAhB,EAAqC,aAArC,EAFuB;AAGvB,eAAK,MAAL,CAAY,GAAZ,CAAgB,cAAhB,EAAgC,IAAhC,EAHuB;AAIvB,eAAK,MAAL,CAAY,GAAZ,CAAgB,oBAAhB,EAAsC,kBAAtC,EAJuB;AAKvB,eAAK,MAAL,CAAY,GAAZ,CAAgB,cAAhB,EAAgC,wBAAhC,EALuB;;AAOvB,eAAK,MAAL,CAAY,GAAZ,CAAgB,YAAhB,EAA8B,OAA9B,EAPuB;AAQvB,eAAK,MAAL,CAAY,GAAZ,CAAgB,iBAAhB,EAAmC,IAAnC,EARuB;;AAUvB,eAAK,MAAL,CAAY,GAAZ,CAAgB,eAAhB,EAAiC,IAAjC,EAVuB;AAWvB,eAAK,MAAL,CAAY,GAAZ,CAAgB,qBAAhB,EAAuC,2BAAvC,EAXuB;AAYvB,eAAK,MAAL,CAAY,GAAZ,CAAgB,eAAhB,EAAiC,yBAAjC,EAZuB;;AAcvB,eAAK,MAAL,CAAY,GAAZ,CAAgB,cAAhB,EAAgC,IAAhC,EAduB;AAevB,eAAK,MAAL,CAAY,GAAZ,CAAgB,oBAAhB,EAAsC,uBAAtC,EAfuB;AAgBvB,eAAK,MAAL,CAAY,GAAZ,CAAgB,cAAhB,EAAgC,wBAAhC,EAhBuB;;AAkBvB,eAAK,MAAL,CAAY,GAAZ,CAAgB,SAAhB,EAA2B,KAAK,OAAL,CAA3B,CAlBuB;AAmBvB,eAAK,MAAL,CAAY,SAAZ,GAnBuB;SAAX;;AAsBd,qBAAa,uBAAW;AACtB,cAAG,KAAK,UAAL,EAAiB,OAApB;AACA,cAAI,UAAU,aAAV,CAFkB;AAGtB,cAAI,aAAa,EAAb,CAHkB;AAItB,cAAI,UAAU,CACZ,SADY,EAEZ,UAFY,EAGZ,SAHY,EAIZ,OAJY,EAKZ,QALY,EAMZ,QANY,EAOZ,MAPY,CAOL,UAAS,CAAT,EAAY;AAAC,mBAAO,KAAK,OAAL,CAAa,CAAb,CAAP,CAAD;WAAZ,EAAuC,IAPlC,CAAV,CAJkB;;AAatB,cAAG,KAAK,OAAL,CAAa,OAAb,EAAsB,QAAQ,IAAR,CAAa,SAAb,EAAzB;AACA,cAAG,KAAK,OAAL,CAAa,QAAb,EAAuB,QAAQ,IAAR,CAAa,UAAb,EAA1B;AACA,cAAG,KAAK,OAAL,CAAa,KAAb,EAAoB,WAAW,IAAX,CAAgB,OAAhB,EAAvB;AACA,cAAG,KAAK,OAAL,CAAa,EAAb,EAAiB,WAAW,IAAX,CAAgB,IAAhB,EAApB;AACA,cAAG,KAAK,OAAL,CAAa,EAAb,EAAiB,WAAW,IAAX,CAAgB,IAAhB,EAApB;AACA,cAAG,KAAK,OAAL,CAAa,IAAb,EAAmB,WAAW,IAAX,CAAgB,MAAhB,EAAtB;AACA,cAAG,KAAK,OAAL,CAAa,IAAb,EAAmB,WAAW,IAAX,CAAgB,MAAhB,EAAtB;AACA,cAAG,KAAK,OAAL,CAAa,GAAb,EAAkB,WAAW,IAAX,CAAgB,KAAhB,EAArB;AACA,cAAG,KAAK,OAAL,CAAa,MAAb,EAAqB,WAAW,IAAX,CAAgB,MAAhB,EAAxB;AACA,cAAG,KAAK,OAAL,CAAa,IAAb,EAAmB,WAAW,IAAX,CAAgB,MAAhB,EAAtB;AACA,cAAG,KAAK,OAAL,CAAa,IAAb,EAAmB,WAAW,IAAX,CAAgB,MAAhB,EAAtB;;AAEA,kBAAQ,IAAR,CAAa,KAAb;;AAzBsB,cA2BtB,CAAK,WAAL,CAAiB,cAAjB,EAAiC;AAC/B,qBAAS;AACP,gCAAkB,OAAlB;AACA,oCAAsB,OAAtB;AACA,iCAAmB,OAAnB;AACA,kCAAoB,OAApB;AACA,yBAAW,OAAX;AACA,4BAAc,UAAd;AACA,0BAAY,QAAZ;AACA,6BAAe,KAAK,WAAL;aARjB;WADF,EAWG,EAAE,OAAO,QAAQ,OAAR,CAAgB,qCAAhB,CAAP,EAXL,EA3BsB;SAAX;;AAyCb,mBAAW,qBAAW;AACpB,cAAI,aAAa,QACX,KAAK,aAAL,iBADW,EAEf,aAFe,EAGf,cAHe,EAIf,cAJe,CAAb,CADgB;AAOpB,cAAG,KAAK,OAAL,CAAa,OAAb,EAAsB,WAAW,IAAX,CAAgB,WAAhB,EAAzB;AACA,cAAG,KAAK,OAAL,CAAa,QAAb,EAAuB,WAAW,IAAX,CAAgB,oBAAhB,EAA1B;AACA,cAAG,KAAK,OAAL,CAAa,QAAb,EAAuB,WAAW,IAAX,CAAgB,aAAhB,EAA1B;AACA,cAAG,KAAK,OAAL,CAAa,WAAb,EAA0B,WAAW,IAAX,CAAgB,gBAAhB,EAA7B;AACA,cAAG,KAAK,OAAL,CAAa,IAAb,EAAmB;AACpB,uBAAW,OAAX,QAAuB,KAAK,aAAL,aAAvB,EADoB;AAEpB,uBAAW,OAAX,QAAuB,KAAK,aAAL,YAAvB,EAFoB;AAGpB,uBAAW,IAAX,CAAgB,oBAAhB,EAHoB;WAAtB;;AAMA,eAAK,cAAL,GAAsB,SAAS,WAAW,IAAX,CAAgB,OAAhB,CAAT,GAAmC,IAAnC,CAjBF;SAAX;;OAjEb,CADgB;;;;wBAyFJ;AACZ,aAAO,EAAP,CADY;;;;wBAIA;AACZ,aAAO;;AAEL,yBAAiB,2BAAW;AAC1B,cAAI,OAAO,IAAP,CADsB;AAE1B,eAAK,UAAL,CAAgB,eAAK,IAAL,CAAU,SAAV,EAAqB,aAArB,CAAhB,EAF0B;AAG1B,eAAK,gBAAL,CAAsB,GAAtB,EAA2B,GAA3B,EAAgC,UAAS,IAAT,EAAe;AAC7C,gBAAG,KAAK,OAAL,CAAa,EAAb,IAAmB,KAAK,OAAL,CAAa,QAAb,IAAyB,CAAC,CAAD,IAAM,KAAK,OAAL,CAAa,OAAb,MAA0B,CAAC,CAAD,EAAI;AACjF,qBAAO,KAAK,OAAL,CAAa,KAAb,EAAoB,KAApB,CAAP,CADiF;aAAnF;;AAIA,mBAAO,IAAP,CAL6C;WAAf,CAAhC,CAH0B;SAAX;;AAYjB,0BAAkB,4BAAW;AAC3B,cAAI,MAAJ,CAD2B;AAE3B,cAAI,KAAK,OAAL,CAAa,cAAb,EAA6B;AAC/B,qBAAS,UAAT,CAD+B;WAAjC,MAEO,IAAI,KAAK,OAAL,CAAa,eAAb,EAA8B;AACvC,qBAAS,WAAT,CADuC;WAAlC;AAGP,eAAK,WAAL,CAAiB,4BAAjB,EAA+C;AAC7C,qBAAS;AACP,qBAAO,aAAP;AACA,sBAAQ,MAAR;aAFF;AAIA,kBAAM,CAAC,OAAD,CAAN;WALF,EAP2B;SAAX;;OAdpB,CADY;;;;wBAkCA;AACZ,aAAO;;AAEL,qBAAa,uBAAW;AACtB,eAAK,mBAAL,CAAyB;AACvB,yBAAa,KAAK,OAAL,CAAa,cAAb,CAAb;WADF,EADsB;SAAX;;OAFf,CADY;;;;wBAYJ;AACR,aAAO,EAAP,CADQ;;;;SAhfS",
      "file": "generator.js",
      "sourcesContent": [
        "'use strict';\n\nimport fs from 'fs';\nimport path from 'path';\nimport chalk from 'chalk';\nimport {Base} from 'yeoman-generator';\nimport {genBase} from '../generator-base';\nimport insight from '../insight-init';\nimport {exec} from 'child_process';\n\nexport default class Generator extends Base {\n\n  constructor(...args) {\n    super(...args);\n\n    this.argument('name', { type: String, required: false });\n\n    this.option('skip-install', {\n      desc: 'Do not install dependencies',\n      type: Boolean,\n      defaults: false\n    });\n\n    this.option('app-suffix', {\n      desc: 'Allow a custom suffix to be added to the module name',\n      type: String,\n      defaults: 'App'\n    });\n  }\n\n  get initializing() {\n    return {\n      init: function () {\n        var cb = this.async();\n\n        this.config.set('generatorVersion', this.rootGeneratorVersion());\n        this.filters = {};\n\n        // init shared generator properies and methods\n        genBase(this);\n\n        if(process.env.CI) {\n          insight.optOut = true;\n          return cb();\n        } else if(insight.optOut === undefined) {\n          insight.askPermission(null, cb);\n        } else {\n          return cb();\n        }\n      },\n\n      info: function () {\n        insight.track('generator', this.rootGeneratorVersion());\n        insight.track('node', process.version);\n        exec('npm --version', (err, stdin, stderr) => {\n          if(err || stderr.length > 0) return insight.track('npm', 'error');\n          else return insight.track('npm', stdin.toString().trim());\n        });\n        insight.track('platform', process.platform);\n\n        this.log(this.yoWelcome);\n        this.log('Out of the box I create an AngularJS app with an Express server.\\n');\n      },\n\n      checkForConfig: function() {\n        var cb = this.async();\n        var existingFilters = this.config.get('filters');\n\n        if(existingFilters) {\n          this.prompt([{\n            type: 'confirm',\n            name: 'skipConfig',\n            message: 'Existing .yo-rc configuration found, would you like to use it?',\n            default: true,\n          }], function (answers) {\n            this.skipConfig = answers.skipConfig;\n\n            if(this.skipConfig) {\n              insight.track('skipConfig', 'true');\n              this.filters = existingFilters;\n\n              this.scriptExt = this.filters.ts ? 'ts' : 'js';\n              this.templateExt = this.filters.jade ? 'jade' : 'html';\n              this.styleExt = this.filters.sass ? 'scss' : \n                this.filters.less ? 'less' : \n                this.filters.stylus ? 'styl' : \n                'css';\n            } else {\n              insight.track('skipConfig', 'false');\n              this.filters = {};\n              this.forceConfig = true;\n              this.config.set('filters', this.filters);\n              this.config.forceSave();\n            }\n\n            cb();\n          }.bind(this));\n        } else {\n          cb();\n        }\n      }\n    };\n  }\n\n  get prompting() {\n    return {\n\n      clientPrompts: function() {\n        if(this.skipConfig) return;\n        var cb = this.async();\n\n        this.log('# Client\\n');\n\n        this.prompt([{\n            type: 'list',\n            name: 'transpiler',\n            message: 'What would you like to write scripts with?',\n            choices: ['Babel', 'TypeScript'],\n            filter: val => {\n              return {\n                'Babel': 'babel',\n                'TypeScript': 'ts'\n              }[val];\n            }\n          }, {\n            type: 'list',\n            name: 'markup',\n            message: 'What would you like to write markup with?',\n            choices: ['HTML', 'Jade'],\n            filter: function( val ) { return val.toLowerCase(); }\n          }, {\n            type: 'list',\n            name: 'stylesheet',\n            default: 1,\n            message: 'What would you like to write stylesheets with?',\n            choices: [ 'CSS', 'Sass', 'Stylus', 'Less'],\n            filter: function( val ) { return val.toLowerCase(); }\n          },  {\n            type: 'list',\n            name: 'router',\n            default: 1,\n            message: 'What Angular router would you like to use?',\n            choices: [ 'ngRoute', 'uiRouter'],\n            filter: function( val ) { return val.toLowerCase(); }\n          }, {\n            type: 'confirm',\n            name: 'bootstrap',\n            message: 'Would you like to include Bootstrap?'\n          }, {\n            type: 'confirm',\n            name: 'uibootstrap',\n            message: 'Would you like to include UI Bootstrap?',\n            when: function (answers) {\n              return answers.bootstrap;\n            }\n          }], function (answers) {\n            this.filters.js = true;\n            this.filters[answers.transpiler] = true;\n            insight.track('transpiler', answers.transpiler);\n\n            this.filters[answers.markup] = true;\n            insight.track('markup', answers.markup);\n\n            this.filters[answers.stylesheet] = true;\n            insight.track('stylesheet', answers.stylesheet);\n\n            this.filters[answers.router] = true;\n            insight.track('router', answers.router);\n\n            this.filters.bootstrap = !!answers.bootstrap;\n            insight.track('bootstrap', !!answers.bootstrap);\n\n            this.filters.uibootstrap =  !!answers.uibootstrap;\n            insight.track('uibootstrap', !!answers.uibootstrap);\n\n            this.scriptExt = answers.transpiler === 'ts' ? 'ts' : 'js';\n            this.templateExt = answers.markup;\n\n            var styleExt = {sass: 'scss', stylus: 'styl'}[answers.stylesheet];\n            this.styleExt = styleExt ? styleExt : answers.stylesheet;\n\n            cb();\n          }.bind(this));\n      },\n\n      serverPrompts: function() {\n        if(this.skipConfig) return;\n        var cb = this.async();\n        var self = this;\n\n        this.log('\\n# Server\\n');\n\n        this.prompt([{\n          type: 'checkbox',\n          name: 'odms',\n          message: 'What would you like to use for data modeling?',\n          choices: [\n            {\n              value: 'mongoose',\n              name: 'Mongoose (MongoDB)',\n              checked: true\n            },\n            {\n              value: 'sequelize',\n              name: 'Sequelize (MySQL, SQLite, MariaDB, PostgreSQL)',\n              checked: false\n            }\n          ]\n        }, {\n          type: 'list',\n          name: 'models',\n          message: 'What would you like to use for the default models?',\n          choices: [ 'Mongoose', 'Sequelize' ],\n          filter: function( val ) {\n            return val.toLowerCase();\n          },\n          when: function(answers) {\n            return answers.odms && answers.odms.length > 1;\n          }\n        }, {\n          type: 'confirm',\n          name: 'auth',\n          message: 'Would you scaffold out an authentication boilerplate?',\n          when: function (answers) {\n            return answers.odms && answers.odms.length !== 0;\n          }\n        }, {\n          type: 'checkbox',\n          name: 'oauth',\n          message: 'Would you like to include additional oAuth strategies?',\n          when: function (answers) {\n            return answers.auth;\n          },\n          choices: [\n            {\n              value: 'googleAuth',\n              name: 'Google',\n              checked: false\n            },\n            {\n              value: 'facebookAuth',\n              name: 'Facebook',\n              checked: false\n            },\n            {\n              value: 'twitterAuth',\n              name: 'Twitter',\n              checked: false\n            }\n          ]\n        }, {\n          type: 'confirm',\n          name: 'socketio',\n          message: 'Would you like to use socket.io?',\n          // to-do: should not be dependent on ODMs\n          when: function (answers) {\n            return answers.odms && answers.odms.length !== 0;\n          },\n          default: true\n        }], function (answers) {\n          if(answers.socketio) this.filters.socketio = true;\n          insight.track('socketio', !!answers.socketio);\n\n          if(answers.auth) this.filters.auth = true;\n          insight.track('auth', !!answers.auth);\n\n          if(answers.odms && answers.odms.length > 0) {\n            var models;\n            if(!answers.models) {\n              models = answers.odms[0];\n            } else {\n              models = answers.models;\n            }\n            this.filters.models = true;\n            this.filters[models + 'Models'] = true;\n            answers.odms.forEach(function(odm) {\n              this.filters[odm] = true;\n            }.bind(this));\n            insight.track('oauth', !!answers.oauth);\n          } else {\n            this.filters.noModels = true;\n          }\n          insight.track('odms', answers.odms && answers.odms.length > 0);\n          insight.track('mongoose', !!this.filters.mongoose);\n          insight.track('mongooseModels', !!this.filters.mongooseModels);\n          insight.track('sequelize', !!this.filters.sequelize);\n          insight.track('sequelizeModels', !!this.filters.sequelizeModels);\n\n          if(answers.oauth) {\n            if(answers.oauth.length) this.filters.oauth = true;\n            answers.oauth.forEach(function(oauthStrategy) {\n              this.filters[oauthStrategy] = true;\n            }.bind(this));\n          }\n          insight.track('oauth', !!this.filters.oauth);\n          insight.track('google-oauth', !!this.filters['googleAuth']);\n          insight.track('facebook-oauth', !!this.filters['facebookAuth']);\n          insight.track('twitter-oauth', !!this.filters['twitterAuth']);\n\n          cb();\n        }.bind(this));\n      },\n\n      projectPrompts: function() {\n        if(this.skipConfig) return;\n        var cb = this.async();\n        var self = this;\n\n        this.log('\\n# Project\\n');\n\n        this.prompt([{\n          type: 'list',\n          name: 'buildtool',\n          message: 'Would you like to use Gulp or Grunt?',\n          choices: ['Grunt', 'Gulp'],\n          default: 0,\n          filter: val => val.toLowerCase()\n        }, {\n          type: 'list',\n          name: 'testing',\n          message: 'What would you like to write tests with?',\n          choices: [ 'Jasmine', 'Mocha + Chai + Sinon'],\n          filter: function( val ) {\n            var filterMap = {\n              'Jasmine': 'jasmine',\n              'Mocha + Chai + Sinon': 'mocha'\n            };\n\n            return filterMap[val];\n          }\n        }, {\n          type: 'list',\n          name: 'chai',\n          message: 'What would you like to write Chai assertions with?',\n          choices: ['Expect', 'Should'],\n          filter: function( val ) {\n            return val.toLowerCase();\n          },\n          when: function( answers ) {\n            return  answers.testing === 'mocha';\n          }\n        }], function (answers) {\n          this.filters[answers.buildtool] = true;\n          insight.track('buildtool', answers.buildtool);\n\n          this.filters[answers.testing] = true;\n          insight.track('testing', answers.testing);\n          if (answers.testing === 'mocha') {\n            this.filters.jasmine = false;\n            this.filters.should = false;\n            this.filters.expect = false;\n            this.filters[answers.chai] = true;\n            insight.track('chai-assertions', answers.chai);\n          }\n          if (answers.testing === 'jasmine') {\n            this.filters.mocha = false;\n            this.filters.should = false;\n            this.filters.expect = false;\n          }\n\n          cb();\n        }.bind(this));\n      }\n\n    };\n  }\n\n  get configuring() {\n    return {\n\n      saveSettings: function() {\n        if(this.skipConfig) return;\n        this.config.set('endpointDirectory', 'server/api/');\n        this.config.set('insertRoutes', true);\n        this.config.set('registerRoutesFile', 'server/routes.js');\n        this.config.set('routesNeedle', '// Insert routes below');\n\n        this.config.set('routesBase', '/api/');\n        this.config.set('pluralizeRoutes', true);\n\n        this.config.set('insertSockets', true);\n        this.config.set('registerSocketsFile', 'server/config/socketio.js');\n        this.config.set('socketsNeedle', '// Insert sockets below');\n\n        this.config.set('insertModels', true);\n        this.config.set('registerModelsFile', 'server/sqldb/index.js');\n        this.config.set('modelsNeedle', '// Insert models below');\n\n        this.config.set('filters', this.filters);\n        this.config.forceSave();\n      },\n\n      ngComponent: function() {\n        if(this.skipConfig) return;\n        var appPath = 'client/app/';\n        var extensions = [];\n        var filters = [\n          'ngroute',\n          'uirouter',\n          'jasmine',\n          'mocha',\n          'expect',\n          'should'\n        ].filter(function(v) {return this.filters[v];}, this);\n\n        if(this.filters.ngroute) filters.push('ngroute');\n        if(this.filters.uirouter) filters.push('uirouter');\n        if(this.filters.babel) extensions.push('babel');\n        if(this.filters.ts) extensions.push('ts');\n        if(this.filters.js) extensions.push('js');\n        if(this.filters.html) extensions.push('html');\n        if(this.filters.jade) extensions.push('jade');\n        if(this.filters.css) extensions.push('css');\n        if(this.filters.stylus) extensions.push('styl');\n        if(this.filters.sass) extensions.push('scss');\n        if(this.filters.less) extensions.push('less');\n\n        filters.push('es6'); // Generate ES6 syntax code\n\n        this.composeWith('ng-component', {\n          options: {\n            'routeDirectory': appPath,\n            'directiveDirectory': appPath,\n            'filterDirectory': appPath,\n            'serviceDirectory': appPath,\n            'filters': filters,\n            'extensions': extensions,\n            'basePath': 'client',\n            'forceConfig': this.forceConfig\n          }\n        }, { local: require.resolve('generator-ng-component/app/index.js') });\n      },\n\n      ngModules: function() {\n        var angModules = [\n          `'${this.scriptAppName}.constants'`,\n          \"'ngCookies'\",\n          \"'ngResource'\",\n          \"'ngSanitize'\"\n        ];\n        if(this.filters.ngroute) angModules.push(\"'ngRoute'\");\n        if(this.filters.socketio) angModules.push(\"'btford.socket-io'\");\n        if(this.filters.uirouter) angModules.push(\"'ui.router'\");\n        if(this.filters.uibootstrap) angModules.push(\"'ui.bootstrap'\");\n        if(this.filters.auth) {\n          angModules.unshift(`'${this.scriptAppName}.admin'`);\n          angModules.unshift(`'${this.scriptAppName}.auth'`);\n          angModules.push(\"'validation.match'\");\n        }\n\n        this.angularModules = '\\n  ' + angModules.join(',\\n  ') +'\\n';\n      }\n\n    };\n  }\n\n  get default() {\n    return {};\n  }\n\n  get writing() {\n    return {\n\n      generateProject: function() {\n        let self = this;\n        this.sourceRoot(path.join(__dirname, './templates'));\n        this.processDirectory('.', '.', function(dest) {\n          if(self.filters.ts && dest.indexOf('client') > -1 && dest.indexOf('.json') === -1) {\n            dest = dest.replace('.js', '.ts');\n          }\n\n          return dest;\n        });\n      },\n\n      generateEndpoint: function() {\n        var models;\n        if (this.filters.mongooseModels) {\n          models = 'mongoose';\n        } else if (this.filters.sequelizeModels) {\n          models = 'sequelize';\n        }\n        this.composeWith('angular-fullstack:endpoint', {\n          options: {\n            route: '/api/things',\n            models: models\n          },\n          args: ['thing']\n        });\n      }\n\n    };\n  }\n\n  get install() {\n    return {\n\n      installDeps: function() {\n        this.installDependencies({\n          skipInstall: this.options['skip-install']\n        });\n      }\n\n    };\n  }\n\n  get end() {\n    return {};\n  }\n\n}\n"
      ]
    },
    "mtime": 1458484026000
  },
  "{\"filename\":\"/usr/local/lib/node_modules/generator-angular-fullstack/generator-base.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false}:6.7.4": {
    "metadata": {
      "usedHelpers": [
        "interopRequireDefault",
        "interopRequireWildcard"
      ],
      "marked": [],
      "modules": {
        "imports": [
          {
            "source": "util",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "util"
              }
            ]
          },
          {
            "source": "path",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "path"
              }
            ]
          },
          {
            "source": "lodash",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "lodash"
              }
            ]
          },
          {
            "source": "underscore.string",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "s"
              }
            ]
          },
          {
            "source": "yeoman-welcome",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "yoWelcome"
              }
            ]
          },
          {
            "source": "./util",
            "imported": [
              "*"
            ],
            "specifiers": [
              {
                "kind": "namespace",
                "local": "genUtils"
              }
            ]
          }
        ],
        "exports": {
          "exported": [
            "genBase",
            "self",
            "genNamedBase",
            "self"
          ],
          "specifiers": [
            {
              "kind": "local",
              "local": "genBase",
              "exported": "genBase"
            },
            {
              "kind": "local",
              "local": "self",
              "exported": "self"
            },
            {
              "kind": "local",
              "local": "genNamedBase",
              "exported": "genNamedBase"
            },
            {
              "kind": "local",
              "local": "self",
              "exported": "self"
            }
          ]
        }
      }
    },
    "options": {
      "filename": "/usr/local/lib/node_modules/generator-angular-fullstack/generator-base.js",
      "filenameRelative": "/usr/local/lib/node_modules/generator-angular-fullstack/generator-base.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMap": "both",
      "sourceMaps": "both",
      "sourceMapTarget": "generator-base.js",
      "sourceFileName": "generator-base.js",
      "babelrc": false,
      "sourceType": "module",
      "moduleIds": false,
      "passPerPreset": false,
      "basename": "generator-base"
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.genBase = genBase;\nexports.genNamedBase = genNamedBase;\n\nvar _util = require('util');\n\nvar _util2 = _interopRequireDefault(_util);\n\nvar _path = require('path');\n\nvar _path2 = _interopRequireDefault(_path);\n\nvar _lodash = require('lodash');\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nvar _underscore = require('underscore.string');\n\nvar _underscore2 = _interopRequireDefault(_underscore);\n\nvar _yeomanWelcome = require('yeoman-welcome');\n\nvar _yeomanWelcome2 = _interopRequireDefault(_yeomanWelcome);\n\nvar _util3 = require('./util');\n\nvar genUtils = _interopRequireWildcard(_util3);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// extend lodash with underscore.string\n_lodash2.default.mixin(_underscore2.default.exports());\n\nfunction genBase(self) {\n  self = self || this;\n\n  self.lodash = _lodash2.default;\n  self.yoWelcome = _yeomanWelcome2.default;\n\n  var baseDetermineAppname = self.determineAppname.bind(self);\n  self.determineAppname = function () {\n    if (self['name']) {\n      return self['name'];\n    } else {\n      return baseDetermineAppname();\n    }\n  };\n\n  self.appname = _lodash2.default.camelize(_lodash2.default.slugify(_lodash2.default.humanize(self.determineAppname())));\n  self.scriptAppName = self.appname + genUtils.appSuffix(self);\n\n  self.filters = self.filters || self.config.get('filters');\n\n  // dynamic assertion statements\n  self.expect = function () {\n    return self.filters.expect ? 'expect(' : '';\n  };\n  self.to = function () {\n    return self.filters.expect ? ').to' : '.should';\n  };\n\n  // dynamic relative require path\n  self.relativeRequire = genUtils.relativeRequire.bind(self);\n  // process template directory\n  self.processDirectory = genUtils.processDirectory.bind(self);\n  // rewrite a file in place\n  self.rewriteFile = genUtils.rewriteFile;\n}\n\nfunction genNamedBase(self) {\n  self = self || this;\n\n  // extend genBase\n  genBase(self);\n\n  var name = self.name.replace(/\\//g, '-');\n\n  self.cameledName = _lodash2.default.camelize(name);\n  self.classedName = _lodash2.default.classify(name);\n\n  self.basename = _path2.default.basename(self.name);\n  self.dirname = self.name.indexOf('/') >= 0 ? _path2.default.dirname(self.name) : self.name;\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImdlbmVyYXRvci1iYXNlLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7OztRQVlnQjtRQXNDQTs7QUFoRGhCOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7SUFBWTs7Ozs7OztBQUdaLGlCQUFPLEtBQVAsQ0FBYSxxQkFBRSxPQUFGLEVBQWI7O0FBRU8sU0FBUyxPQUFULENBQWlCLElBQWpCLEVBQXVCO0FBQzVCLFNBQU8sUUFBUSxJQUFSLENBRHFCOztBQUc1QixPQUFLLE1BQUwsb0JBSDRCO0FBSTVCLE9BQUssU0FBTCwyQkFKNEI7O0FBTTVCLE1BQUksdUJBQXVCLEtBQUssZ0JBQUwsQ0FBc0IsSUFBdEIsQ0FBMkIsSUFBM0IsQ0FBdkIsQ0FOd0I7QUFPNUIsT0FBSyxnQkFBTCxHQUF3QixZQUFNO0FBQzVCLFFBQUcsS0FBSyxNQUFMLENBQUgsRUFBaUI7QUFDZixhQUFPLEtBQUssTUFBTCxDQUFQLENBRGU7S0FBakIsTUFFTztBQUNMLGFBQU8sc0JBQVAsQ0FESztLQUZQO0dBRHNCLENBUEk7O0FBZTVCLE9BQUssT0FBTCxHQUFlLGlCQUFPLFFBQVAsQ0FBZ0IsaUJBQU8sT0FBUCxDQUM3QixpQkFBTyxRQUFQLENBQWdCLEtBQUssZ0JBQUwsRUFBaEIsQ0FENkIsQ0FBaEIsQ0FBZixDQWY0QjtBQWtCNUIsT0FBSyxhQUFMLEdBQXFCLEtBQUssT0FBTCxHQUFlLFNBQVMsU0FBVCxDQUFtQixJQUFuQixDQUFmLENBbEJPOztBQW9CNUIsT0FBSyxPQUFMLEdBQWUsS0FBSyxPQUFMLElBQWdCLEtBQUssTUFBTCxDQUFZLEdBQVosQ0FBZ0IsU0FBaEIsQ0FBaEI7OztBQXBCYSxNQXVCNUIsQ0FBSyxNQUFMLEdBQWMsWUFBVztBQUN2QixXQUFPLEtBQUssT0FBTCxDQUFhLE1BQWIsR0FBc0IsU0FBdEIsR0FBa0MsRUFBbEMsQ0FEZ0I7R0FBWCxDQXZCYztBQTBCNUIsT0FBSyxFQUFMLEdBQVUsWUFBVztBQUNuQixXQUFPLEtBQUssT0FBTCxDQUFhLE1BQWIsR0FBc0IsTUFBdEIsR0FBK0IsU0FBL0IsQ0FEWTtHQUFYOzs7QUExQmtCLE1BK0I1QixDQUFLLGVBQUwsR0FBdUIsU0FBUyxlQUFULENBQXlCLElBQXpCLENBQThCLElBQTlCLENBQXZCOztBQS9CNEIsTUFpQzVCLENBQUssZ0JBQUwsR0FBd0IsU0FBUyxnQkFBVCxDQUEwQixJQUExQixDQUErQixJQUEvQixDQUF4Qjs7QUFqQzRCLE1BbUM1QixDQUFLLFdBQUwsR0FBbUIsU0FBUyxXQUFULENBbkNTO0NBQXZCOztBQXNDQSxTQUFTLFlBQVQsQ0FBc0IsSUFBdEIsRUFBNEI7QUFDakMsU0FBTyxRQUFRLElBQVI7OztBQUQwQixTQUlqQyxDQUFRLElBQVIsRUFKaUM7O0FBTWpDLE1BQUksT0FBTyxLQUFLLElBQUwsQ0FBVSxPQUFWLENBQWtCLEtBQWxCLEVBQXlCLEdBQXpCLENBQVAsQ0FONkI7O0FBUWpDLE9BQUssV0FBTCxHQUFtQixpQkFBTyxRQUFQLENBQWdCLElBQWhCLENBQW5CLENBUmlDO0FBU2pDLE9BQUssV0FBTCxHQUFtQixpQkFBTyxRQUFQLENBQWdCLElBQWhCLENBQW5CLENBVGlDOztBQVdqQyxPQUFLLFFBQUwsR0FBZ0IsZUFBSyxRQUFMLENBQWMsS0FBSyxJQUFMLENBQTlCLENBWGlDO0FBWWpDLE9BQUssT0FBTCxHQUFlLElBQUMsQ0FBSyxJQUFMLENBQVUsT0FBVixDQUFrQixHQUFsQixLQUEwQixDQUExQixHQUErQixlQUFLLE9BQUwsQ0FBYSxLQUFLLElBQUwsQ0FBN0MsR0FBMEQsS0FBSyxJQUFMLENBWnhDO0NBQTVCIiwiZmlsZSI6ImdlbmVyYXRvci1iYXNlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgdXRpbCBmcm9tICd1dGlsJztcbmltcG9ydCBwYXRoIGZyb20gJ3BhdGgnO1xuaW1wb3J0IGxvZGFzaCBmcm9tICdsb2Rhc2gnO1xuaW1wb3J0IHMgZnJvbSAndW5kZXJzY29yZS5zdHJpbmcnO1xuaW1wb3J0IHlvV2VsY29tZSBmcm9tICd5ZW9tYW4td2VsY29tZSc7XG5pbXBvcnQgKiBhcyBnZW5VdGlscyBmcm9tICcuL3V0aWwnO1xuXG4vLyBleHRlbmQgbG9kYXNoIHdpdGggdW5kZXJzY29yZS5zdHJpbmdcbmxvZGFzaC5taXhpbihzLmV4cG9ydHMoKSk7XG5cbmV4cG9ydCBmdW5jdGlvbiBnZW5CYXNlKHNlbGYpIHtcbiAgc2VsZiA9IHNlbGYgfHwgdGhpcztcblxuICBzZWxmLmxvZGFzaCA9IGxvZGFzaDtcbiAgc2VsZi55b1dlbGNvbWUgPSB5b1dlbGNvbWU7XG5cbiAgbGV0IGJhc2VEZXRlcm1pbmVBcHBuYW1lID0gc2VsZi5kZXRlcm1pbmVBcHBuYW1lLmJpbmQoc2VsZik7XG4gIHNlbGYuZGV0ZXJtaW5lQXBwbmFtZSA9ICgpID0+IHtcbiAgICBpZihzZWxmWyduYW1lJ10pIHtcbiAgICAgIHJldHVybiBzZWxmWyduYW1lJ107XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBiYXNlRGV0ZXJtaW5lQXBwbmFtZSgpO1xuICAgIH1cbiAgfVxuXG4gIHNlbGYuYXBwbmFtZSA9IGxvZGFzaC5jYW1lbGl6ZShsb2Rhc2guc2x1Z2lmeShcbiAgICBsb2Rhc2guaHVtYW5pemUoc2VsZi5kZXRlcm1pbmVBcHBuYW1lKCkpXG4gICkpO1xuICBzZWxmLnNjcmlwdEFwcE5hbWUgPSBzZWxmLmFwcG5hbWUgKyBnZW5VdGlscy5hcHBTdWZmaXgoc2VsZik7XG5cbiAgc2VsZi5maWx0ZXJzID0gc2VsZi5maWx0ZXJzIHx8IHNlbGYuY29uZmlnLmdldCgnZmlsdGVycycpO1xuXG4gIC8vIGR5bmFtaWMgYXNzZXJ0aW9uIHN0YXRlbWVudHNcbiAgc2VsZi5leHBlY3QgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gc2VsZi5maWx0ZXJzLmV4cGVjdCA/ICdleHBlY3QoJyA6ICcnO1xuICB9O1xuICBzZWxmLnRvID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHNlbGYuZmlsdGVycy5leHBlY3QgPyAnKS50bycgOiAnLnNob3VsZCc7XG4gIH07XG5cbiAgLy8gZHluYW1pYyByZWxhdGl2ZSByZXF1aXJlIHBhdGhcbiAgc2VsZi5yZWxhdGl2ZVJlcXVpcmUgPSBnZW5VdGlscy5yZWxhdGl2ZVJlcXVpcmUuYmluZChzZWxmKTtcbiAgLy8gcHJvY2VzcyB0ZW1wbGF0ZSBkaXJlY3RvcnlcbiAgc2VsZi5wcm9jZXNzRGlyZWN0b3J5ID0gZ2VuVXRpbHMucHJvY2Vzc0RpcmVjdG9yeS5iaW5kKHNlbGYpO1xuICAvLyByZXdyaXRlIGEgZmlsZSBpbiBwbGFjZVxuICBzZWxmLnJld3JpdGVGaWxlID0gZ2VuVXRpbHMucmV3cml0ZUZpbGU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZW5OYW1lZEJhc2Uoc2VsZikge1xuICBzZWxmID0gc2VsZiB8fCB0aGlzO1xuXG4gIC8vIGV4dGVuZCBnZW5CYXNlXG4gIGdlbkJhc2Uoc2VsZik7XG5cbiAgdmFyIG5hbWUgPSBzZWxmLm5hbWUucmVwbGFjZSgvXFwvL2csICctJyk7XG5cbiAgc2VsZi5jYW1lbGVkTmFtZSA9IGxvZGFzaC5jYW1lbGl6ZShuYW1lKTtcbiAgc2VsZi5jbGFzc2VkTmFtZSA9IGxvZGFzaC5jbGFzc2lmeShuYW1lKTtcblxuICBzZWxmLmJhc2VuYW1lID0gcGF0aC5iYXNlbmFtZShzZWxmLm5hbWUpO1xuICBzZWxmLmRpcm5hbWUgPSAoc2VsZi5uYW1lLmluZGV4T2YoJy8nKSA+PSAwKSA/IHBhdGguZGlybmFtZShzZWxmLm5hbWUpIDogc2VsZi5uYW1lO1xufVxuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "generator-base.js"
      ],
      "names": [],
      "mappings": "AAAA;;;;;QAYgB;QAsCA;;AAhDhB;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;IAAY;;;;;;;AAGZ,iBAAO,KAAP,CAAa,qBAAE,OAAF,EAAb;;AAEO,SAAS,OAAT,CAAiB,IAAjB,EAAuB;AAC5B,SAAO,QAAQ,IAAR,CADqB;;AAG5B,OAAK,MAAL,oBAH4B;AAI5B,OAAK,SAAL,2BAJ4B;;AAM5B,MAAI,uBAAuB,KAAK,gBAAL,CAAsB,IAAtB,CAA2B,IAA3B,CAAvB,CANwB;AAO5B,OAAK,gBAAL,GAAwB,YAAM;AAC5B,QAAG,KAAK,MAAL,CAAH,EAAiB;AACf,aAAO,KAAK,MAAL,CAAP,CADe;KAAjB,MAEO;AACL,aAAO,sBAAP,CADK;KAFP;GADsB,CAPI;;AAe5B,OAAK,OAAL,GAAe,iBAAO,QAAP,CAAgB,iBAAO,OAAP,CAC7B,iBAAO,QAAP,CAAgB,KAAK,gBAAL,EAAhB,CAD6B,CAAhB,CAAf,CAf4B;AAkB5B,OAAK,aAAL,GAAqB,KAAK,OAAL,GAAe,SAAS,SAAT,CAAmB,IAAnB,CAAf,CAlBO;;AAoB5B,OAAK,OAAL,GAAe,KAAK,OAAL,IAAgB,KAAK,MAAL,CAAY,GAAZ,CAAgB,SAAhB,CAAhB;;;AApBa,MAuB5B,CAAK,MAAL,GAAc,YAAW;AACvB,WAAO,KAAK,OAAL,CAAa,MAAb,GAAsB,SAAtB,GAAkC,EAAlC,CADgB;GAAX,CAvBc;AA0B5B,OAAK,EAAL,GAAU,YAAW;AACnB,WAAO,KAAK,OAAL,CAAa,MAAb,GAAsB,MAAtB,GAA+B,SAA/B,CADY;GAAX;;;AA1BkB,MA+B5B,CAAK,eAAL,GAAuB,SAAS,eAAT,CAAyB,IAAzB,CAA8B,IAA9B,CAAvB;;AA/B4B,MAiC5B,CAAK,gBAAL,GAAwB,SAAS,gBAAT,CAA0B,IAA1B,CAA+B,IAA/B,CAAxB;;AAjC4B,MAmC5B,CAAK,WAAL,GAAmB,SAAS,WAAT,CAnCS;CAAvB;;AAsCA,SAAS,YAAT,CAAsB,IAAtB,EAA4B;AACjC,SAAO,QAAQ,IAAR;;;AAD0B,SAIjC,CAAQ,IAAR,EAJiC;;AAMjC,MAAI,OAAO,KAAK,IAAL,CAAU,OAAV,CAAkB,KAAlB,EAAyB,GAAzB,CAAP,CAN6B;;AAQjC,OAAK,WAAL,GAAmB,iBAAO,QAAP,CAAgB,IAAhB,CAAnB,CARiC;AASjC,OAAK,WAAL,GAAmB,iBAAO,QAAP,CAAgB,IAAhB,CAAnB,CATiC;;AAWjC,OAAK,QAAL,GAAgB,eAAK,QAAL,CAAc,KAAK,IAAL,CAA9B,CAXiC;AAYjC,OAAK,OAAL,GAAe,IAAC,CAAK,IAAL,CAAU,OAAV,CAAkB,GAAlB,KAA0B,CAA1B,GAA+B,eAAK,OAAL,CAAa,KAAK,IAAL,CAA7C,GAA0D,KAAK,IAAL,CAZxC;CAA5B",
      "file": "generator-base.js",
      "sourcesContent": [
        "'use strict';\n\nimport util from 'util';\nimport path from 'path';\nimport lodash from 'lodash';\nimport s from 'underscore.string';\nimport yoWelcome from 'yeoman-welcome';\nimport * as genUtils from './util';\n\n// extend lodash with underscore.string\nlodash.mixin(s.exports());\n\nexport function genBase(self) {\n  self = self || this;\n\n  self.lodash = lodash;\n  self.yoWelcome = yoWelcome;\n\n  let baseDetermineAppname = self.determineAppname.bind(self);\n  self.determineAppname = () => {\n    if(self['name']) {\n      return self['name'];\n    } else {\n      return baseDetermineAppname();\n    }\n  }\n\n  self.appname = lodash.camelize(lodash.slugify(\n    lodash.humanize(self.determineAppname())\n  ));\n  self.scriptAppName = self.appname + genUtils.appSuffix(self);\n\n  self.filters = self.filters || self.config.get('filters');\n\n  // dynamic assertion statements\n  self.expect = function() {\n    return self.filters.expect ? 'expect(' : '';\n  };\n  self.to = function() {\n    return self.filters.expect ? ').to' : '.should';\n  };\n\n  // dynamic relative require path\n  self.relativeRequire = genUtils.relativeRequire.bind(self);\n  // process template directory\n  self.processDirectory = genUtils.processDirectory.bind(self);\n  // rewrite a file in place\n  self.rewriteFile = genUtils.rewriteFile;\n}\n\nexport function genNamedBase(self) {\n  self = self || this;\n\n  // extend genBase\n  genBase(self);\n\n  var name = self.name.replace(/\\//g, '-');\n\n  self.cameledName = lodash.camelize(name);\n  self.classedName = lodash.classify(name);\n\n  self.basename = path.basename(self.name);\n  self.dirname = (self.name.indexOf('/') >= 0) ? path.dirname(self.name) : self.name;\n}\n"
      ]
    },
    "mtime": 1457982042000
  },
  "{\"filename\":\"/usr/local/lib/node_modules/generator-angular-fullstack/util.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false}:6.7.4": {
    "metadata": {
      "usedHelpers": [
        "interopRequireDefault"
      ],
      "marked": [],
      "modules": {
        "imports": [
          {
            "source": "path",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "path"
              }
            ]
          },
          {
            "source": "fs",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "fs"
              }
            ]
          },
          {
            "source": "glob",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "glob"
              }
            ]
          }
        ],
        "exports": {
          "exported": [
            "rewriteFile",
            "args",
            "rewrite",
            "args",
            "appSuffix",
            "self",
            "relativeRequire",
            "to",
            "fr",
            "processDirectory",
            "source",
            "destination",
            "iteratee"
          ],
          "specifiers": [
            {
              "kind": "local",
              "local": "rewriteFile",
              "exported": "rewriteFile"
            },
            {
              "kind": "local",
              "local": "args",
              "exported": "args"
            },
            {
              "kind": "local",
              "local": "rewrite",
              "exported": "rewrite"
            },
            {
              "kind": "local",
              "local": "args",
              "exported": "args"
            },
            {
              "kind": "local",
              "local": "appSuffix",
              "exported": "appSuffix"
            },
            {
              "kind": "local",
              "local": "self",
              "exported": "self"
            },
            {
              "kind": "local",
              "local": "relativeRequire",
              "exported": "relativeRequire"
            },
            {
              "kind": "local",
              "local": "to",
              "exported": "to"
            },
            {
              "kind": "local",
              "local": "fr",
              "exported": "fr"
            },
            {
              "kind": "local",
              "local": "processDirectory",
              "exported": "processDirectory"
            },
            {
              "kind": "local",
              "local": "source",
              "exported": "source"
            },
            {
              "kind": "local",
              "local": "destination",
              "exported": "destination"
            },
            {
              "kind": "local",
              "local": "iteratee",
              "exported": "iteratee"
            }
          ]
        }
      }
    },
    "options": {
      "filename": "/usr/local/lib/node_modules/generator-angular-fullstack/util.js",
      "filenameRelative": "/usr/local/lib/node_modules/generator-angular-fullstack/util.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMap": "both",
      "sourceMaps": "both",
      "sourceMapTarget": "util.js",
      "sourceFileName": "util.js",
      "babelrc": false,
      "sourceType": "module",
      "moduleIds": false,
      "passPerPreset": false,
      "basename": "util"
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.rewriteFile = rewriteFile;\nexports.rewrite = rewrite;\nexports.appSuffix = appSuffix;\nexports.relativeRequire = relativeRequire;\nexports.processDirectory = processDirectory;\n\nvar _path = require('path');\n\nvar _path2 = _interopRequireDefault(_path);\n\nvar _fs = require('fs');\n\nvar _fs2 = _interopRequireDefault(_fs);\n\nvar _glob = require('glob');\n\nvar _glob2 = _interopRequireDefault(_glob);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction expandFiles(pattern, options) {\n  options = options || {};\n  var cwd = options.cwd || process.cwd();\n  return _glob2.default.sync(pattern, options).filter(function (filepath) {\n    return _fs2.default.statSync(_path2.default.join(cwd, filepath)).isFile();\n  });\n}\n\nfunction rewriteFile(args) {\n  args.path = args.path || process.cwd();\n  var fullPath = _path2.default.join(args.path, args.file);\n\n  args.haystack = _fs2.default.readFileSync(fullPath, 'utf8');\n  var body = rewrite(args);\n\n  _fs2.default.writeFileSync(fullPath, body);\n}\n\nfunction escapeRegExp(str) {\n  return str.replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g, '\\\\$&');\n}\n\nfunction rewrite(args) {\n  // check if splicable is already in the body text\n  var re = new RegExp(args.splicable.map(function (line) {\n    return '\\s*' + escapeRegExp(line);\n  }).join('\\n'));\n\n  if (re.test(args.haystack)) {\n    return args.haystack;\n  }\n\n  var lines = args.haystack.split('\\n');\n\n  var otherwiseLineIndex = -1;\n  lines.forEach(function (line, i) {\n    if (line.indexOf(args.needle) !== -1) {\n      otherwiseLineIndex = i;\n    }\n  });\n  if (otherwiseLineIndex === -1) return lines.join('\\n');\n\n  var spaces = 0;\n  while (lines[otherwiseLineIndex].charAt(spaces) === ' ') {\n    spaces += 1;\n  }\n\n  var spaceStr = '';\n  while ((spaces -= 1) >= 0) {\n    spaceStr += ' ';\n  }\n\n  lines.splice(otherwiseLineIndex + 1, 0, args.splicable.map(function (line) {\n    return spaceStr + line;\n  }).join('\\n'));\n\n  return lines.join('\\n');\n}\n\nfunction appSuffix(self) {\n  var suffix = self.options['app-suffix'];\n  return typeof suffix === 'string' ? self.lodash.classify(suffix) : '';\n}\n\nfunction relativeRequire(to, fr) {\n  fr = this.destinationPath(fr || this.filePath);\n  to = this.destinationPath(to);\n  return _path2.default.relative(_path2.default.dirname(fr), to).replace(/\\\\/g, '/') // convert win32 separator to posix\n  .replace(/^(?!\\.\\.)(.*)/, './$1') // prefix non parent path with ./\n  .replace(/[\\/\\\\]index\\.js$/, ''); // strip index.js suffix from path\n}\n\nfunction filterFile(template) {\n  // Find matches for parans\n  var filterMatches = template.match(/\\(([^)]+)\\)/g);\n  var filters = [];\n  if (filterMatches) {\n    filterMatches.forEach(function (filter) {\n      filters.push(filter.replace('(', '').replace(')', ''));\n      template = template.replace(filter, '');\n    });\n  }\n\n  return { name: template, filters: filters };\n}\n\nfunction templateIsUsable(self, filteredFile) {\n  var filters = self.filters || self.config.get('filters');\n  var enabledFilters = [];\n  for (var key in filters) {\n    if (filters[key]) enabledFilters.push(key);\n  }\n  var matchedFilters = self.lodash.intersection(filteredFile.filters, enabledFilters);\n  // check that all filters on file are matched\n  if (filteredFile.filters.length && matchedFilters.length !== filteredFile.filters.length) {\n    return false;\n  }\n  return true;\n}\n\nfunction defaultIteratee(dest) {\n  return dest;\n}\n\n/**\n * \n */\nfunction processDirectory(source, destination) {\n  var iteratee = arguments.length <= 2 || arguments[2] === undefined ? defaultIteratee : arguments[2];\n\n  var self = this;\n  var root = _path2.default.isAbsolute(source) ? source : _path2.default.join(self.sourceRoot(), source);\n  var files = expandFiles('**', { dot: true, cwd: root });\n  var dest, src;\n\n  files.forEach(function (f) {\n    var filteredFile = filterFile(f);\n    if (self.basename) {\n      filteredFile.name = filteredFile.name.replace('basename', self.basename);\n    }\n    if (self.name) {\n      filteredFile.name = filteredFile.name.replace('name', self.name);\n    }\n    var name = filteredFile.name;\n    var copy = false,\n        stripped;\n\n    src = _path2.default.join(root, f);\n    dest = _path2.default.join(destination, name);\n\n    dest = iteratee(dest);\n\n    if (_path2.default.basename(dest).indexOf('_') === 0) {\n      stripped = _path2.default.basename(dest).replace(/^_/, '');\n      dest = _path2.default.join(_path2.default.dirname(dest), stripped);\n    }\n\n    if (_path2.default.basename(dest).indexOf('!') === 0) {\n      stripped = _path2.default.basename(dest).replace(/^!/, '');\n      dest = _path2.default.join(_path2.default.dirname(dest), stripped);\n      copy = true;\n    }\n\n    if (templateIsUsable(self, filteredFile)) {\n      if (copy) {\n        self.fs.copy(src, dest);\n      } else {\n        self.filePath = dest;\n        self.fs.copyTpl(src, dest, self);\n        delete self.filePath;\n      }\n    }\n  });\n}\n//# sourceMappingURL=data:application/json;base64,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QWQsRUFBb0IsT0FBcEIsQ0FBNEIsSUFBNUIsRUFBa0MsRUFBbEMsQ0FBWCxDQUR5QztBQUV6QyxhQUFPLGVBQUssSUFBTCxDQUFVLGVBQUssT0FBTCxDQUFhLElBQWIsQ0FBVixFQUE4QixRQUE5QixDQUFQLENBRnlDO0FBR3pDLGFBQU8sSUFBUCxDQUh5QztLQUEzQzs7QUFNQSxRQUFHLGlCQUFpQixJQUFqQixFQUF1QixZQUF2QixDQUFILEVBQXlDO0FBQ3ZDLFVBQUcsSUFBSCxFQUFTO0FBQ1AsYUFBSyxFQUFMLENBQVEsSUFBUixDQUFhLEdBQWIsRUFBa0IsSUFBbEIsRUFETztPQUFULE1BRU87QUFDTCxhQUFLLFFBQUwsR0FBZ0IsSUFBaEIsQ0FESztBQUVMLGFBQUssRUFBTCxDQUFRLE9BQVIsQ0FBZ0IsR0FBaEIsRUFBcUIsSUFBckIsRUFBMkIsSUFBM0IsRUFGSztBQUdMLGVBQU8sS0FBSyxRQUFMLENBSEY7T0FGUDtLQURGO0dBM0JZLENBQWQsQ0FOZ0Y7Q0FBM0UiLCJmaWxlIjoidXRpbC5qcyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IHBhdGggZnJvbSAncGF0aCc7XG5pbXBvcnQgZnMgZnJvbSAnZnMnO1xuaW1wb3J0IGdsb2IgZnJvbSAnZ2xvYic7XG5cbmZ1bmN0aW9uIGV4cGFuZEZpbGVzKHBhdHRlcm4sIG9wdGlvbnMpIHtcbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gIHZhciBjd2QgPSBvcHRpb25zLmN3ZCB8fCBwcm9jZXNzLmN3ZCgpO1xuICByZXR1cm4gZ2xvYi5zeW5jKHBhdHRlcm4sIG9wdGlvbnMpLmZpbHRlcihmdW5jdGlvbiAoZmlsZXBhdGgpIHtcbiAgICByZXR1cm4gZnMuc3RhdFN5bmMocGF0aC5qb2luKGN3ZCwgZmlsZXBhdGgpKS5pc0ZpbGUoKTtcbiAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZXdyaXRlRmlsZShhcmdzKSB7XG4gIGFyZ3MucGF0aCA9IGFyZ3MucGF0aCB8fCBwcm9jZXNzLmN3ZCgpO1xuICB2YXIgZnVsbFBhdGggPSBwYXRoLmpvaW4oYXJncy5wYXRoLCBhcmdzLmZpbGUpO1xuXG4gIGFyZ3MuaGF5c3RhY2sgPSBmcy5yZWFkRmlsZVN5bmMoZnVsbFBhdGgsICd1dGY4Jyk7XG4gIHZhciBib2R5ID0gcmV3cml0ZShhcmdzKTtcblxuICBmcy53cml0ZUZpbGVTeW5jKGZ1bGxQYXRoLCBib2R5KTtcbn1cblxuZnVuY3Rpb24gZXNjYXBlUmVnRXhwKHN0cikge1xuICByZXR1cm4gc3RyLnJlcGxhY2UoL1tcXC1cXFtcXF1cXC9cXHtcXH1cXChcXClcXCpcXCtcXD9cXC5cXFxcXFxeXFwkXFx8XS9nLCAnXFxcXCQmJyk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZXdyaXRlKGFyZ3MpIHtcbiAgLy8gY2hlY2sgaWYgc3BsaWNhYmxlIGlzIGFscmVhZHkgaW4gdGhlIGJvZHkgdGV4dFxuICB2YXIgcmUgPSBuZXcgUmVnRXhwKGFyZ3Muc3BsaWNhYmxlLm1hcChmdW5jdGlvbihsaW5lKSB7XG4gICAgcmV0dXJuICdcXHMqJyArIGVzY2FwZVJlZ0V4cChsaW5lKTtcbiAgfSkuam9pbignXFxuJykpO1xuXG4gIGlmIChyZS50ZXN0KGFyZ3MuaGF5c3RhY2spKSB7XG4gICAgcmV0dXJuIGFyZ3MuaGF5c3RhY2s7XG4gIH1cblxuICB2YXIgbGluZXMgPSBhcmdzLmhheXN0YWNrLnNwbGl0KCdcXG4nKTtcblxuICB2YXIgb3RoZXJ3aXNlTGluZUluZGV4ID0gLTE7XG4gIGxpbmVzLmZvckVhY2goZnVuY3Rpb24gKGxpbmUsIGkpIHtcbiAgICBpZiAobGluZS5pbmRleE9mKGFyZ3MubmVlZGxlKSAhPT0gLTEpIHtcbiAgICAgIG90aGVyd2lzZUxpbmVJbmRleCA9IGk7XG4gICAgfVxuICB9KTtcbiAgaWYob3RoZXJ3aXNlTGluZUluZGV4ID09PSAtMSkgcmV0dXJuIGxpbmVzLmpvaW4oJ1xcbicpO1xuXG4gIHZhciBzcGFjZXMgPSAwO1xuICB3aGlsZSAobGluZXNbb3RoZXJ3aXNlTGluZUluZGV4XS5jaGFyQXQoc3BhY2VzKSA9PT0gJyAnKSB7XG4gICAgc3BhY2VzICs9IDE7XG4gIH1cblxuICB2YXIgc3BhY2VTdHIgPSAnJztcbiAgd2hpbGUgKChzcGFjZXMgLT0gMSkgPj0gMCkge1xuICAgIHNwYWNlU3RyICs9ICcgJztcbiAgfVxuXG4gIGxpbmVzLnNwbGljZShvdGhlcndpc2VMaW5lSW5kZXggKyAxLCAwLCBhcmdzLnNwbGljYWJsZS5tYXAoZnVuY3Rpb24obGluZSkge1xuICAgIHJldHVybiBzcGFjZVN0ciArIGxpbmU7XG4gIH0pLmpvaW4oJ1xcbicpKTtcblxuICByZXR1cm4gbGluZXMuam9pbignXFxuJyk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhcHBTdWZmaXgoc2VsZikge1xuICB2YXIgc3VmZml4ID0gc2VsZi5vcHRpb25zWydhcHAtc3VmZml4J107XG4gIHJldHVybiAodHlwZW9mIHN1ZmZpeCA9PT0gJ3N0cmluZycpID8gc2VsZi5sb2Rhc2guY2xhc3NpZnkoc3VmZml4KSA6ICcnO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVsYXRpdmVSZXF1aXJlKHRvLCBmcikge1xuICBmciA9IHRoaXMuZGVzdGluYXRpb25QYXRoKGZyIHx8IHRoaXMuZmlsZVBhdGgpO1xuICB0byA9IHRoaXMuZGVzdGluYXRpb25QYXRoKHRvKTtcbiAgcmV0dXJuIHBhdGgucmVsYXRpdmUocGF0aC5kaXJuYW1lKGZyKSwgdG8pXG4gICAgLnJlcGxhY2UoL1xcXFwvZywgJy8nKSAvLyBjb252ZXJ0IHdpbjMyIHNlcGFyYXRvciB0byBwb3NpeFxuICAgIC5yZXBsYWNlKC9eKD8hXFwuXFwuKSguKikvLCAnLi8kMScpIC8vIHByZWZpeCBub24gcGFyZW50IHBhdGggd2l0aCAuL1xuICAgIC5yZXBsYWNlKC9bXFwvXFxcXF1pbmRleFxcLmpzJC8sICcnKTsgLy8gc3RyaXAgaW5kZXguanMgc3VmZml4IGZyb20gcGF0aFxufVxuXG5mdW5jdGlvbiBmaWx0ZXJGaWxlKHRlbXBsYXRlKSB7XG4gIC8vIEZpbmQgbWF0Y2hlcyBmb3IgcGFyYW5zXG4gIHZhciBmaWx0ZXJNYXRjaGVzID0gdGVtcGxhdGUubWF0Y2goL1xcKChbXildKylcXCkvZyk7XG4gIHZhciBmaWx0ZXJzID0gW107XG4gIGlmKGZpbHRlck1hdGNoZXMpIHtcbiAgICBmaWx0ZXJNYXRjaGVzLmZvckVhY2goZnVuY3Rpb24oZmlsdGVyKSB7XG4gICAgICBmaWx0ZXJzLnB1c2goZmlsdGVyLnJlcGxhY2UoJygnLCAnJykucmVwbGFjZSgnKScsICcnKSk7XG4gICAgICB0ZW1wbGF0ZSA9IHRlbXBsYXRlLnJlcGxhY2UoZmlsdGVyLCAnJyk7XG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4geyBuYW1lOiB0ZW1wbGF0ZSwgZmlsdGVyczogZmlsdGVycyB9O1xufVxuXG5mdW5jdGlvbiB0ZW1wbGF0ZUlzVXNhYmxlKHNlbGYsIGZpbHRlcmVkRmlsZSkge1xuICB2YXIgZmlsdGVycyA9IHNlbGYuZmlsdGVycyB8fCBzZWxmLmNvbmZpZy5nZXQoJ2ZpbHRlcnMnKTtcbiAgdmFyIGVuYWJsZWRGaWx0ZXJzID0gW107XG4gIGZvcih2YXIga2V5IGluIGZpbHRlcnMpIHtcbiAgICBpZihmaWx0ZXJzW2tleV0pIGVuYWJsZWRGaWx0ZXJzLnB1c2goa2V5KTtcbiAgfVxuICB2YXIgbWF0Y2hlZEZpbHRlcnMgPSBzZWxmLmxvZGFzaC5pbnRlcnNlY3Rpb24oZmlsdGVyZWRGaWxlLmZpbHRlcnMsIGVuYWJsZWRGaWx0ZXJzKTtcbiAgLy8gY2hlY2sgdGhhdCBhbGwgZmlsdGVycyBvbiBmaWxlIGFyZSBtYXRjaGVkXG4gIGlmKGZpbHRlcmVkRmlsZS5maWx0ZXJzLmxlbmd0aCAmJiBtYXRjaGVkRmlsdGVycy5sZW5ndGggIT09IGZpbHRlcmVkRmlsZS5maWx0ZXJzLmxlbmd0aCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gZGVmYXVsdEl0ZXJhdGVlKGRlc3QpIHtcbiAgcmV0dXJuIGRlc3Q7XG59XG5cbi8qKlxuICogXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwcm9jZXNzRGlyZWN0b3J5KHNvdXJjZSwgZGVzdGluYXRpb24sIGl0ZXJhdGVlID0gZGVmYXVsdEl0ZXJhdGVlKSB7XG4gIHZhciBzZWxmID0gdGhpcztcbiAgdmFyIHJvb3QgPSBwYXRoLmlzQWJzb2x1dGUoc291cmNlKSA/IHNvdXJjZSA6IHBhdGguam9pbihzZWxmLnNvdXJjZVJvb3QoKSwgc291cmNlKTtcbiAgdmFyIGZpbGVzID0gZXhwYW5kRmlsZXMoJyoqJywgeyBkb3Q6IHRydWUsIGN3ZDogcm9vdCB9KTtcbiAgdmFyIGRlc3QsIHNyYztcblxuICBmaWxlcy5mb3JFYWNoKGZ1bmN0aW9uKGYpIHtcbiAgICB2YXIgZmlsdGVyZWRGaWxlID0gZmlsdGVyRmlsZShmKTtcbiAgICBpZihzZWxmLmJhc2VuYW1lKSB7XG4gICAgICBmaWx0ZXJlZEZpbGUubmFtZSA9IGZpbHRlcmVkRmlsZS5uYW1lLnJlcGxhY2UoJ2Jhc2VuYW1lJywgc2VsZi5iYXNlbmFtZSk7XG4gICAgfVxuICAgIGlmKHNlbGYubmFtZSkge1xuICAgICAgZmlsdGVyZWRGaWxlLm5hbWUgPSBmaWx0ZXJlZEZpbGUubmFtZS5yZXBsYWNlKCduYW1lJywgc2VsZi5uYW1lKTtcbiAgICB9XG4gICAgdmFyIG5hbWUgPSBmaWx0ZXJlZEZpbGUubmFtZTtcbiAgICB2YXIgY29weSA9IGZhbHNlLCBzdHJpcHBlZDtcblxuICAgIHNyYyA9IHBhdGguam9pbihyb290LCBmKTtcbiAgICBkZXN0ID0gcGF0aC5qb2luKGRlc3RpbmF0aW9uLCBuYW1lKTtcblxuICAgIGRlc3QgPSBpdGVyYXRlZShkZXN0KTtcblxuICAgIGlmKHBhdGguYmFzZW5hbWUoZGVzdCkuaW5kZXhPZignXycpID09PSAwKSB7XG4gICAgICBzdHJpcHBlZCA9IHBhdGguYmFzZW5hbWUoZGVzdCkucmVwbGFjZSgvXl8vLCAnJyk7XG4gICAgICBkZXN0ID0gcGF0aC5qb2luKHBhdGguZGlybmFtZShkZXN0KSwgc3RyaXBwZWQpO1xuICAgIH1cblxuICAgIGlmKHBhdGguYmFzZW5hbWUoZGVzdCkuaW5kZXhPZignIScpID09PSAwKSB7XG4gICAgICBzdHJpcHBlZCA9IHBhdGguYmFzZW5hbWUoZGVzdCkucmVwbGFjZSgvXiEvLCAnJyk7XG4gICAgICBkZXN0ID0gcGF0aC5qb2luKHBhdGguZGlybmFtZShkZXN0KSwgc3RyaXBwZWQpO1xuICAgICAgY29weSA9IHRydWU7XG4gICAgfVxuXG4gICAgaWYodGVtcGxhdGVJc1VzYWJsZShzZWxmLCBmaWx0ZXJlZEZpbGUpKSB7XG4gICAgICBpZihjb3B5KSB7XG4gICAgICAgIHNlbGYuZnMuY29weShzcmMsIGRlc3QpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2VsZi5maWxlUGF0aCA9IGRlc3Q7XG4gICAgICAgIHNlbGYuZnMuY29weVRwbChzcmMsIGRlc3QsIHNlbGYpO1xuICAgICAgICBkZWxldGUgc2VsZi5maWxlUGF0aDtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xufVxuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "util.js"
      ],
      "names": [],
      "mappings": "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",
      "file": "util.js",
      "sourcesContent": [
        "'use strict';\n\nimport path from 'path';\nimport fs from 'fs';\nimport glob from 'glob';\n\nfunction expandFiles(pattern, options) {\n  options = options || {};\n  var cwd = options.cwd || process.cwd();\n  return glob.sync(pattern, options).filter(function (filepath) {\n    return fs.statSync(path.join(cwd, filepath)).isFile();\n  });\n}\n\nexport function rewriteFile(args) {\n  args.path = args.path || process.cwd();\n  var fullPath = path.join(args.path, args.file);\n\n  args.haystack = fs.readFileSync(fullPath, 'utf8');\n  var body = rewrite(args);\n\n  fs.writeFileSync(fullPath, body);\n}\n\nfunction escapeRegExp(str) {\n  return str.replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g, '\\\\$&');\n}\n\nexport function rewrite(args) {\n  // check if splicable is already in the body text\n  var re = new RegExp(args.splicable.map(function(line) {\n    return '\\s*' + escapeRegExp(line);\n  }).join('\\n'));\n\n  if (re.test(args.haystack)) {\n    return args.haystack;\n  }\n\n  var lines = args.haystack.split('\\n');\n\n  var otherwiseLineIndex = -1;\n  lines.forEach(function (line, i) {\n    if (line.indexOf(args.needle) !== -1) {\n      otherwiseLineIndex = i;\n    }\n  });\n  if(otherwiseLineIndex === -1) return lines.join('\\n');\n\n  var spaces = 0;\n  while (lines[otherwiseLineIndex].charAt(spaces) === ' ') {\n    spaces += 1;\n  }\n\n  var spaceStr = '';\n  while ((spaces -= 1) >= 0) {\n    spaceStr += ' ';\n  }\n\n  lines.splice(otherwiseLineIndex + 1, 0, args.splicable.map(function(line) {\n    return spaceStr + line;\n  }).join('\\n'));\n\n  return lines.join('\\n');\n}\n\nexport function appSuffix(self) {\n  var suffix = self.options['app-suffix'];\n  return (typeof suffix === 'string') ? self.lodash.classify(suffix) : '';\n}\n\nexport function relativeRequire(to, fr) {\n  fr = this.destinationPath(fr || this.filePath);\n  to = this.destinationPath(to);\n  return path.relative(path.dirname(fr), to)\n    .replace(/\\\\/g, '/') // convert win32 separator to posix\n    .replace(/^(?!\\.\\.)(.*)/, './$1') // prefix non parent path with ./\n    .replace(/[\\/\\\\]index\\.js$/, ''); // strip index.js suffix from path\n}\n\nfunction filterFile(template) {\n  // Find matches for parans\n  var filterMatches = template.match(/\\(([^)]+)\\)/g);\n  var filters = [];\n  if(filterMatches) {\n    filterMatches.forEach(function(filter) {\n      filters.push(filter.replace('(', '').replace(')', ''));\n      template = template.replace(filter, '');\n    });\n  }\n\n  return { name: template, filters: filters };\n}\n\nfunction templateIsUsable(self, filteredFile) {\n  var filters = self.filters || self.config.get('filters');\n  var enabledFilters = [];\n  for(var key in filters) {\n    if(filters[key]) enabledFilters.push(key);\n  }\n  var matchedFilters = self.lodash.intersection(filteredFile.filters, enabledFilters);\n  // check that all filters on file are matched\n  if(filteredFile.filters.length && matchedFilters.length !== filteredFile.filters.length) {\n    return false;\n  }\n  return true;\n}\n\nfunction defaultIteratee(dest) {\n  return dest;\n}\n\n/**\n * \n */\nexport function processDirectory(source, destination, iteratee = defaultIteratee) {\n  var self = this;\n  var root = path.isAbsolute(source) ? source : path.join(self.sourceRoot(), source);\n  var files = expandFiles('**', { dot: true, cwd: root });\n  var dest, src;\n\n  files.forEach(function(f) {\n    var filteredFile = filterFile(f);\n    if(self.basename) {\n      filteredFile.name = filteredFile.name.replace('basename', self.basename);\n    }\n    if(self.name) {\n      filteredFile.name = filteredFile.name.replace('name', self.name);\n    }\n    var name = filteredFile.name;\n    var copy = false, stripped;\n\n    src = path.join(root, f);\n    dest = path.join(destination, name);\n\n    dest = iteratee(dest);\n\n    if(path.basename(dest).indexOf('_') === 0) {\n      stripped = path.basename(dest).replace(/^_/, '');\n      dest = path.join(path.dirname(dest), stripped);\n    }\n\n    if(path.basename(dest).indexOf('!') === 0) {\n      stripped = path.basename(dest).replace(/^!/, '');\n      dest = path.join(path.dirname(dest), stripped);\n      copy = true;\n    }\n\n    if(templateIsUsable(self, filteredFile)) {\n      if(copy) {\n        self.fs.copy(src, dest);\n      } else {\n        self.filePath = dest;\n        self.fs.copyTpl(src, dest, self);\n        delete self.filePath;\n      }\n    }\n  });\n}\n"
      ]
    },
    "mtime": 1457751342000
  },
  "{\"filename\":\"/usr/local/lib/node_modules/generator-angular-fullstack/insight-init.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false}:6.7.4": {
    "metadata": {
      "usedHelpers": [],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/usr/local/lib/node_modules/generator-angular-fullstack/insight-init.js",
      "filenameRelative": "/usr/local/lib/node_modules/generator-angular-fullstack/insight-init.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMap": "both",
      "sourceMaps": "both",
      "sourceMapTarget": "insight-init.js",
      "sourceFileName": "insight-init.js",
      "babelrc": false,
      "sourceType": "module",
      "moduleIds": false,
      "passPerPreset": false,
      "basename": "insight-init"
    },
    "ignored": false,
    "code": "'use strict';\n\nvar Insight = require('insight');\nvar pkg = require('./package.json');\n\nvar insight = new Insight({\n    // Google Analytics tracking code\n    trackingCode: 'UA-48443700-4',\n    pkg: pkg\n});\n\nif (process.stdout.isTTY === undefined) insight.optOut = false;\n\n// ask for permission the first time\n// if(insight.optOut === undefined) {\n//     insight.askPermission();\n// }\n\n// insight.track('foo', 'bar');\n// recorded in Analytics as `/foo/bar`\n\nmodule.exports = insight;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluc2lnaHQtaW5pdC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7QUFDQSxJQUFJLFVBQVUsUUFBUSxTQUFSLENBQVY7QUFDSixJQUFJLE1BQU0sUUFBUSxnQkFBUixDQUFOOztBQUVKLElBQUksVUFBVSxJQUFJLE9BQUosQ0FBWTs7QUFFdEIsa0JBQWMsZUFBZDtBQUNBLFNBQUssR0FBTDtDQUhVLENBQVY7O0FBTUosSUFBRyxRQUFRLE1BQVIsQ0FBZSxLQUFmLEtBQXlCLFNBQXpCLEVBQW9DLFFBQVEsTUFBUixHQUFpQixLQUFqQixDQUF2Qzs7Ozs7Ozs7OztBQVVBLE9BQU8sT0FBUCxHQUFpQixPQUFqQiIsImZpbGUiOiJpbnNpZ2h0LWluaXQuanMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG52YXIgSW5zaWdodCA9IHJlcXVpcmUoJ2luc2lnaHQnKTtcbnZhciBwa2cgPSByZXF1aXJlKCcuL3BhY2thZ2UuanNvbicpO1xuXG52YXIgaW5zaWdodCA9IG5ldyBJbnNpZ2h0KHtcbiAgICAvLyBHb29nbGUgQW5hbHl0aWNzIHRyYWNraW5nIGNvZGVcbiAgICB0cmFja2luZ0NvZGU6ICdVQS00ODQ0MzcwMC00JyxcbiAgICBwa2c6IHBrZ1xufSk7XG5cbmlmKHByb2Nlc3Muc3Rkb3V0LmlzVFRZID09PSB1bmRlZmluZWQpIGluc2lnaHQub3B0T3V0ID0gZmFsc2U7XG5cbi8vIGFzayBmb3IgcGVybWlzc2lvbiB0aGUgZmlyc3QgdGltZVxuLy8gaWYoaW5zaWdodC5vcHRPdXQgPT09IHVuZGVmaW5lZCkge1xuLy8gICAgIGluc2lnaHQuYXNrUGVybWlzc2lvbigpO1xuLy8gfVxuXG4vLyBpbnNpZ2h0LnRyYWNrKCdmb28nLCAnYmFyJyk7XG4vLyByZWNvcmRlZCBpbiBBbmFseXRpY3MgYXMgYC9mb28vYmFyYFxuXG5tb2R1bGUuZXhwb3J0cyA9IGluc2lnaHQ7XG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "insight-init.js"
      ],
      "names": [],
      "mappings": "AAAA;;AACA,IAAI,UAAU,QAAQ,SAAR,CAAV;AACJ,IAAI,MAAM,QAAQ,gBAAR,CAAN;;AAEJ,IAAI,UAAU,IAAI,OAAJ,CAAY;;AAEtB,kBAAc,eAAd;AACA,SAAK,GAAL;CAHU,CAAV;;AAMJ,IAAG,QAAQ,MAAR,CAAe,KAAf,KAAyB,SAAzB,EAAoC,QAAQ,MAAR,GAAiB,KAAjB,CAAvC;;;;;;;;;;AAUA,OAAO,OAAP,GAAiB,OAAjB",
      "file": "insight-init.js",
      "sourcesContent": [
        "'use strict';\nvar Insight = require('insight');\nvar pkg = require('./package.json');\n\nvar insight = new Insight({\n    // Google Analytics tracking code\n    trackingCode: 'UA-48443700-4',\n    pkg: pkg\n});\n\nif(process.stdout.isTTY === undefined) insight.optOut = false;\n\n// ask for permission the first time\n// if(insight.optOut === undefined) {\n//     insight.askPermission();\n// }\n\n// insight.track('foo', 'bar');\n// recorded in Analytics as `/foo/bar`\n\nmodule.exports = insight;\n"
      ]
    },
    "mtime": 1458249362000
  },
  "{\"filename\":\"/usr/local/lib/node_modules/generator-angular-fullstack/endpoint/index.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false}:6.7.4": {
    "metadata": {
      "usedHelpers": [],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/usr/local/lib/node_modules/generator-angular-fullstack/endpoint/index.js",
      "filenameRelative": "/usr/local/lib/node_modules/generator-angular-fullstack/endpoint/index.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMap": "both",
      "sourceMaps": "both",
      "sourceMapTarget": "index.js",
      "sourceFileName": "index.js",
      "babelrc": false,
      "sourceType": "module",
      "moduleIds": false,
      "passPerPreset": false,
      "basename": "index"
    },
    "ignored": false,
    "code": "'use strict';\n\n// Register the Babel require hook\n\nrequire('babel-register')({\n  only: /generator-angular-fullstack\\/(?!node_modules)/\n});\n\n// Export the generator\nmodule.exports = require('./generator').default;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7O0FBR0EsUUFBUSxnQkFBUixFQUEwQjtBQUN4QixRQUFNLCtDQUFOO0NBREY7OztBQUtBLE9BQU8sT0FBUCxHQUFpQixRQUFRLGFBQVIsRUFBdUIsT0FBdkIiLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbi8vIFJlZ2lzdGVyIHRoZSBCYWJlbCByZXF1aXJlIGhvb2tcbnJlcXVpcmUoJ2JhYmVsLXJlZ2lzdGVyJykoe1xuICBvbmx5OiAvZ2VuZXJhdG9yLWFuZ3VsYXItZnVsbHN0YWNrXFwvKD8hbm9kZV9tb2R1bGVzKS9cbn0pO1xuXG4vLyBFeHBvcnQgdGhlIGdlbmVyYXRvclxubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2dlbmVyYXRvcicpLmRlZmF1bHQ7XG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [],
      "mappings": "AAAA;;;;AAGA,QAAQ,gBAAR,EAA0B;AACxB,QAAM,+CAAN;CADF;;;AAKA,OAAO,OAAP,GAAiB,QAAQ,aAAR,EAAuB,OAAvB",
      "file": "index.js",
      "sourcesContent": [
        "'use strict';\n\n// Register the Babel require hook\nrequire('babel-register')({\n  only: /generator-angular-fullstack\\/(?!node_modules)/\n});\n\n// Export the generator\nmodule.exports = require('./generator').default;\n"
      ]
    },
    "mtime": 1458249362000
  },
  "{\"filename\":\"/usr/local/lib/node_modules/generator-angular-fullstack/endpoint/generator.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false}:6.7.4": {
    "metadata": {
      "usedHelpers": [
        "inherits",
        "possibleConstructorReturn",
        "createClass",
        "classCallCheck",
        "interopRequireDefault"
      ],
      "marked": [],
      "modules": {
        "imports": [
          {
            "source": "path",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "path"
              }
            ]
          },
          {
            "source": "yeoman-generator",
            "imported": [
              "NamedBase"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "NamedBase",
                "local": "NamedBase"
              }
            ]
          },
          {
            "source": "../generator-base",
            "imported": [
              "genNamedBase"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "genNamedBase",
                "local": "genNamedBase"
              }
            ]
          }
        ],
        "exports": {
          "exported": [
            "Generator"
          ],
          "specifiers": [
            {
              "kind": "local",
              "local": "Generator",
              "exported": "default"
            }
          ]
        }
      }
    },
    "options": {
      "filename": "/usr/local/lib/node_modules/generator-angular-fullstack/endpoint/generator.js",
      "filenameRelative": "/usr/local/lib/node_modules/generator-angular-fullstack/endpoint/generator.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMap": "both",
      "sourceMaps": "both",
      "sourceMapTarget": "generator.js",
      "sourceFileName": "generator.js",
      "babelrc": false,
      "sourceType": "module",
      "moduleIds": false,
      "passPerPreset": false,
      "basename": "generator"
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _path = require('path');\n\nvar _path2 = _interopRequireDefault(_path);\n\nvar _yeomanGenerator = require('yeoman-generator');\n\nvar _generatorBase = require('../generator-base');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Generator = function (_NamedBase) {\n  _inherits(Generator, _NamedBase);\n\n  function Generator() {\n    var _Object$getPrototypeO;\n\n    _classCallCheck(this, Generator);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    var _this = _possibleConstructorReturn(this, (_Object$getPrototypeO = Object.getPrototypeOf(Generator)).call.apply(_Object$getPrototypeO, [this].concat(args)));\n\n    _this.option('route', {\n      desc: 'URL for the endpoint',\n      type: String\n    });\n\n    _this.option('models', {\n      desc: 'Specify which model(s) to use',\n      type: String\n    });\n\n    _this.option('endpointDirectory', {\n      desc: 'Parent directory for enpoints',\n      type: String\n    });\n    return _this;\n  }\n\n  _createClass(Generator, [{\n    key: 'initializing',\n    value: function initializing() {\n      // init shared generator properies and methods\n      (0, _generatorBase.genNamedBase)(this);\n    }\n  }, {\n    key: 'prompting',\n    value: function prompting() {\n      var _this2 = this;\n\n      var done = this.async();\n      var promptCb = function promptCb(props) {\n        if (props.route.charAt(0) !== '/') {\n          props.route = '/' + props.route;\n        }\n\n        _this2.route = props.route;\n\n        if (props.models) {\n          delete _this2.filters.mongoose;\n          delete _this2.filters.mongooseModels;\n          delete _this2.filters.sequelize;\n          delete _this2.filters.sequelizeModels;\n\n          _this2.filters[props.models] = true;\n          _this2.filters[props.models + 'Models'] = true;\n        }\n        done();\n      };\n\n      if (this.options.route) {\n        if (this.filters.mongoose && this.filters.sequelize) {\n          if (this.options.models) {\n            return promptCb(this.options);\n          }\n        } else {\n          if (this.filters.mongooseModels) {\n            this.options.models = 'mongoose';\n          } else if (this.filters.sequelizeModels) {\n            this.options.models = 'sequelize';\n          } else {\n            delete this.options.models;\n          }\n          return promptCb(this.options);\n        }\n      }\n\n      var name = this.name;\n\n      var base = this.config.get('routesBase') || '/api/';\n      if (base.charAt(base.length - 1) !== '/') {\n        base = base + '/';\n      }\n\n      // pluralization defaults to true for backwards compat\n      if (this.config.get('pluralizeRoutes') !== false) {\n        name = name + 's';\n      }\n\n      var prompts = [{\n        name: 'route',\n        message: 'What will the url of your endpoint be?',\n        default: base + name\n      }, {\n        type: 'list',\n        name: 'models',\n        message: 'What would you like to use for the endpoint\\'s models?',\n        choices: ['Mongoose', 'Sequelize'],\n        default: this.filters.sequelizeModels ? 1 : 0,\n        filter: function filter(val) {\n          return val.toLowerCase();\n        },\n        when: function when() {\n          return _this2.filters.mongoose && _this2.filters.sequelize;\n        }\n      }];\n\n      this.prompt(prompts, promptCb);\n    }\n  }, {\n    key: 'configuring',\n    value: function configuring() {\n      this.routeDest = _path2.default.join(this.options.endpointDirectory || this.config.get('endpointDirectory') || 'server/api/', this.name);\n    }\n  }, {\n    key: 'writing',\n    value: function writing() {\n      this.sourceRoot(_path2.default.join(__dirname, './templates'));\n      this.processDirectory('.', this.routeDest);\n    }\n  }, {\n    key: 'end',\n    value: function end() {\n      if (this.config.get('insertRoutes')) {\n        var routesFile = this.config.get('registerRoutesFile');\n        var reqPath = this.relativeRequire(this.routeDest, routesFile);\n        var routeConfig = {\n          file: routesFile,\n          needle: this.config.get('routesNeedle'),\n          splicable: [\"app.use(\\'\" + this.route + \"\\', require(\\'\" + reqPath + \"\\'));\"]\n        };\n        this.rewriteFile(routeConfig);\n      }\n\n      if (this.filters.socketio && this.config.get('insertSockets')) {\n        var socketsFile = this.config.get('registerSocketsFile');\n        var reqPath = this.relativeRequire(this.routeDest + '/' + this.basename + '.socket', socketsFile);\n        var socketConfig = {\n          file: socketsFile,\n          needle: this.config.get('socketsNeedle'),\n          splicable: [\"require(\\'\" + reqPath + \"\\').register(socket);\"]\n        };\n        this.rewriteFile(socketConfig);\n      }\n\n      if (this.filters.sequelize && this.config.get('insertModels')) {\n        var modelsFile = this.config.get('registerModelsFile');\n        var reqPath = this.relativeRequire(this.routeDest + '/' + this.basename + '.model', modelsFile);\n        var modelConfig = {\n          file: modelsFile,\n          needle: this.config.get('modelsNeedle'),\n          splicable: [\"db.\" + this.classedName + \" = db.sequelize.import(\\'\" + reqPath + \"\\');\"]\n        };\n        this.rewriteFile(modelConfig);\n      }\n    }\n  }]);\n\n  return Generator;\n}(_yeomanGenerator.NamedBase);\n\nexports.default = Generator;\n//# sourceMappingURL=data:application/json;base64,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QUwsR0FBbUIsMkJBQTNCLEdBQXlELE9BQXpELEdBQWtFLE1BQWxFLENBREY7U0FIRSxDQUh5RDtBQVU3RCxhQUFLLFdBQUwsQ0FBaUIsV0FBakIsRUFWNkQ7T0FBL0Q7Ozs7U0EvSGlCIiwiZmlsZSI6ImdlbmVyYXRvci5qcyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IHBhdGggZnJvbSAncGF0aCc7XG5pbXBvcnQge05hbWVkQmFzZX0gZnJvbSAneWVvbWFuLWdlbmVyYXRvcic7XG5pbXBvcnQge2dlbk5hbWVkQmFzZX0gZnJvbSAnLi4vZ2VuZXJhdG9yLWJhc2UnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBHZW5lcmF0b3IgZXh0ZW5kcyBOYW1lZEJhc2Uge1xuXG4gIGNvbnN0cnVjdG9yKC4uLmFyZ3MpIHtcbiAgICBzdXBlciguLi5hcmdzKTtcblxuICAgIHRoaXMub3B0aW9uKCdyb3V0ZScsIHtcbiAgICAgIGRlc2M6ICdVUkwgZm9yIHRoZSBlbmRwb2ludCcsXG4gICAgICB0eXBlOiBTdHJpbmdcbiAgICB9KTtcblxuICAgIHRoaXMub3B0aW9uKCdtb2RlbHMnLCB7XG4gICAgICBkZXNjOiAnU3BlY2lmeSB3aGljaCBtb2RlbChzKSB0byB1c2UnLFxuICAgICAgdHlwZTogU3RyaW5nXG4gICAgfSk7XG5cbiAgICB0aGlzLm9wdGlvbignZW5kcG9pbnREaXJlY3RvcnknLCB7XG4gICAgICBkZXNjOiAnUGFyZW50IGRpcmVjdG9yeSBmb3IgZW5wb2ludHMnLFxuICAgICAgdHlwZTogU3RyaW5nXG4gICAgfSk7XG4gIH1cblxuICBpbml0aWFsaXppbmcoKSB7XG4gICAgLy8gaW5pdCBzaGFyZWQgZ2VuZXJhdG9yIHByb3BlcmllcyBhbmQgbWV0aG9kc1xuICAgIGdlbk5hbWVkQmFzZSh0aGlzKTtcbiAgfVxuXG4gIHByb21wdGluZygpIHtcbiAgICB2YXIgZG9uZSA9IHRoaXMuYXN5bmMoKTtcbiAgICB2YXIgcHJvbXB0Q2IgPSAocHJvcHMpID0+IHtcbiAgICAgIGlmKHByb3BzLnJvdXRlLmNoYXJBdCgwKSAhPT0gJy8nKSB7XG4gICAgICAgIHByb3BzLnJvdXRlID0gJy8nICsgcHJvcHMucm91dGU7XG4gICAgICB9XG5cbiAgICAgIHRoaXMucm91dGUgPSBwcm9wcy5yb3V0ZTtcblxuICAgICAgaWYgKHByb3BzLm1vZGVscykge1xuICAgICAgICBkZWxldGUgdGhpcy5maWx0ZXJzLm1vbmdvb3NlO1xuICAgICAgICBkZWxldGUgdGhpcy5maWx0ZXJzLm1vbmdvb3NlTW9kZWxzO1xuICAgICAgICBkZWxldGUgdGhpcy5maWx0ZXJzLnNlcXVlbGl6ZTtcbiAgICAgICAgZGVsZXRlIHRoaXMuZmlsdGVycy5zZXF1ZWxpemVNb2RlbHM7XG5cbiAgICAgICAgdGhpcy5maWx0ZXJzW3Byb3BzLm1vZGVsc10gPSB0cnVlO1xuICAgICAgICB0aGlzLmZpbHRlcnNbcHJvcHMubW9kZWxzICsgJ01vZGVscyddID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGRvbmUoKTtcbiAgICB9O1xuXG4gICAgaWYgKHRoaXMub3B0aW9ucy5yb3V0ZSkge1xuICAgICAgaWYgKHRoaXMuZmlsdGVycy5tb25nb29zZSAmJiB0aGlzLmZpbHRlcnMuc2VxdWVsaXplKSB7XG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMubW9kZWxzKSB7XG4gICAgICAgICAgcmV0dXJuIHByb21wdENiKHRoaXMub3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmICh0aGlzLmZpbHRlcnMubW9uZ29vc2VNb2RlbHMpIHsgdGhpcy5vcHRpb25zLm1vZGVscyA9ICdtb25nb29zZSc7IH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5maWx0ZXJzLnNlcXVlbGl6ZU1vZGVscykgeyB0aGlzLm9wdGlvbnMubW9kZWxzID0gJ3NlcXVlbGl6ZSc7IH1cbiAgICAgICAgZWxzZSB7IGRlbGV0ZSB0aGlzLm9wdGlvbnMubW9kZWxzOyB9XG4gICAgICAgIHJldHVybiBwcm9tcHRDYih0aGlzLm9wdGlvbnMpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHZhciBuYW1lID0gdGhpcy5uYW1lO1xuXG4gICAgdmFyIGJhc2UgPSB0aGlzLmNvbmZpZy5nZXQoJ3JvdXRlc0Jhc2UnKSB8fCAnL2FwaS8nO1xuICAgIGlmKGJhc2UuY2hhckF0KGJhc2UubGVuZ3RoLTEpICE9PSAnLycpIHtcbiAgICAgIGJhc2UgPSBiYXNlICsgJy8nO1xuICAgIH1cblxuICAgIC8vIHBsdXJhbGl6YXRpb24gZGVmYXVsdHMgdG8gdHJ1ZSBmb3IgYmFja3dhcmRzIGNvbXBhdFxuICAgIGlmICh0aGlzLmNvbmZpZy5nZXQoJ3BsdXJhbGl6ZVJvdXRlcycpICE9PSBmYWxzZSkge1xuICAgICAgbmFtZSA9IG5hbWUgKyAncyc7XG4gICAgfVxuXG4gICAgdmFyIHByb21wdHMgPSBbe1xuICAgICAgbmFtZTogJ3JvdXRlJyxcbiAgICAgIG1lc3NhZ2U6ICdXaGF0IHdpbGwgdGhlIHVybCBvZiB5b3VyIGVuZHBvaW50IGJlPycsXG4gICAgICBkZWZhdWx0OiBiYXNlICsgbmFtZVxuICAgIH0sIHtcbiAgICAgIHR5cGU6ICdsaXN0JyxcbiAgICAgIG5hbWU6ICdtb2RlbHMnLFxuICAgICAgbWVzc2FnZTogJ1doYXQgd291bGQgeW91IGxpa2UgdG8gdXNlIGZvciB0aGUgZW5kcG9pbnRcXCdzIG1vZGVscz8nLFxuICAgICAgY2hvaWNlczogWyAnTW9uZ29vc2UnLCAnU2VxdWVsaXplJyBdLFxuICAgICAgZGVmYXVsdDogdGhpcy5maWx0ZXJzLnNlcXVlbGl6ZU1vZGVscyA/IDEgOiAwLFxuICAgICAgZmlsdGVyOiAodmFsKSA9PiB2YWwudG9Mb3dlckNhc2UoKSxcbiAgICAgIHdoZW46ICgpID0+IHRoaXMuZmlsdGVycy5tb25nb29zZSAmJiB0aGlzLmZpbHRlcnMuc2VxdWVsaXplXG4gICAgfV07XG5cbiAgICB0aGlzLnByb21wdChwcm9tcHRzLCBwcm9tcHRDYik7XG4gIH1cblxuICBjb25maWd1cmluZygpIHtcbiAgICB0aGlzLnJvdXRlRGVzdCA9IHBhdGguam9pbih0aGlzLm9wdGlvbnMuZW5kcG9pbnREaXJlY3RvcnkgfHxcbiAgICAgIHRoaXMuY29uZmlnLmdldCgnZW5kcG9pbnREaXJlY3RvcnknKSB8fCAnc2VydmVyL2FwaS8nLCB0aGlzLm5hbWUpO1xuICB9XG5cbiAgd3JpdGluZygpIHtcbiAgICB0aGlzLnNvdXJjZVJvb3QocGF0aC5qb2luKF9fZGlybmFtZSwgJy4vdGVtcGxhdGVzJykpO1xuICAgIHRoaXMucHJvY2Vzc0RpcmVjdG9yeSgnLicsIHRoaXMucm91dGVEZXN0KTtcbiAgfVxuXG4gIGVuZCgpIHtcbiAgICBpZih0aGlzLmNvbmZpZy5nZXQoJ2luc2VydFJvdXRlcycpKSB7XG4gICAgICB2YXIgcm91dGVzRmlsZSA9IHRoaXMuY29uZmlnLmdldCgncmVnaXN0ZXJSb3V0ZXNGaWxlJyk7XG4gICAgICB2YXIgcmVxUGF0aCA9IHRoaXMucmVsYXRpdmVSZXF1aXJlKHRoaXMucm91dGVEZXN0LCByb3V0ZXNGaWxlKTtcbiAgICAgIHZhciByb3V0ZUNvbmZpZyA9IHtcbiAgICAgICAgZmlsZTogcm91dGVzRmlsZSxcbiAgICAgICAgbmVlZGxlOiB0aGlzLmNvbmZpZy5nZXQoJ3JvdXRlc05lZWRsZScpLFxuICAgICAgICBzcGxpY2FibGU6IFtcbiAgICAgICAgICBcImFwcC51c2UoXFwnXCIgKyB0aGlzLnJvdXRlICtcIlxcJywgcmVxdWlyZShcXCdcIiArIHJlcVBhdGggKyBcIlxcJykpO1wiXG4gICAgICAgIF1cbiAgICAgIH07XG4gICAgICB0aGlzLnJld3JpdGVGaWxlKHJvdXRlQ29uZmlnKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5maWx0ZXJzLnNvY2tldGlvICYmIHRoaXMuY29uZmlnLmdldCgnaW5zZXJ0U29ja2V0cycpKSB7XG4gICAgICB2YXIgc29ja2V0c0ZpbGUgPSB0aGlzLmNvbmZpZy5nZXQoJ3JlZ2lzdGVyU29ja2V0c0ZpbGUnKTtcbiAgICAgIHZhciByZXFQYXRoID0gdGhpcy5yZWxhdGl2ZVJlcXVpcmUodGhpcy5yb3V0ZURlc3QgKyAnLycgKyB0aGlzLmJhc2VuYW1lICtcbiAgICAgICAgJy5zb2NrZXQnLCBzb2NrZXRzRmlsZSk7XG4gICAgICB2YXIgc29ja2V0Q29uZmlnID0ge1xuICAgICAgICBmaWxlOiBzb2NrZXRzRmlsZSxcbiAgICAgICAgbmVlZGxlOiB0aGlzLmNvbmZpZy5nZXQoJ3NvY2tldHNOZWVkbGUnKSxcbiAgICAgICAgc3BsaWNhYmxlOiBbXG4gICAgICAgICAgXCJyZXF1aXJlKFxcJ1wiICsgcmVxUGF0aCArIFwiXFwnKS5yZWdpc3Rlcihzb2NrZXQpO1wiXG4gICAgICAgIF1cbiAgICAgIH07XG4gICAgICB0aGlzLnJld3JpdGVGaWxlKHNvY2tldENvbmZpZyk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuZmlsdGVycy5zZXF1ZWxpemUgJiYgdGhpcy5jb25maWcuZ2V0KCdpbnNlcnRNb2RlbHMnKSkge1xuICAgICAgdmFyIG1vZGVsc0ZpbGUgPSB0aGlzLmNvbmZpZy5nZXQoJ3JlZ2lzdGVyTW9kZWxzRmlsZScpO1xuICAgICAgdmFyIHJlcVBhdGggPSB0aGlzLnJlbGF0aXZlUmVxdWlyZSh0aGlzLnJvdXRlRGVzdCArICcvJyArIHRoaXMuYmFzZW5hbWUgKyAnLm1vZGVsJywgbW9kZWxzRmlsZSk7XG4gICAgICB2YXIgbW9kZWxDb25maWcgPSB7XG4gICAgICAgIGZpbGU6IG1vZGVsc0ZpbGUsXG4gICAgICAgIG5lZWRsZTogdGhpcy5jb25maWcuZ2V0KCdtb2RlbHNOZWVkbGUnKSxcbiAgICAgICAgc3BsaWNhYmxlOiBbXG4gICAgICAgICAgXCJkYi5cIiArIHRoaXMuY2xhc3NlZE5hbWUgKyBcIiA9IGRiLnNlcXVlbGl6ZS5pbXBvcnQoXFwnXCIgKyByZXFQYXRoICtcIlxcJyk7XCJcbiAgICAgICAgXVxuICAgICAgfTtcbiAgICAgIHRoaXMucmV3cml0ZUZpbGUobW9kZWxDb25maWcpO1xuICAgIH1cbiAgfVxufVxuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "generator.js"
      ],
      "names": [],
      "mappings": "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",
      "file": "generator.js",
      "sourcesContent": [
        "'use strict';\n\nimport path from 'path';\nimport {NamedBase} from 'yeoman-generator';\nimport {genNamedBase} from '../generator-base';\n\nexport default class Generator extends NamedBase {\n\n  constructor(...args) {\n    super(...args);\n\n    this.option('route', {\n      desc: 'URL for the endpoint',\n      type: String\n    });\n\n    this.option('models', {\n      desc: 'Specify which model(s) to use',\n      type: String\n    });\n\n    this.option('endpointDirectory', {\n      desc: 'Parent directory for enpoints',\n      type: String\n    });\n  }\n\n  initializing() {\n    // init shared generator properies and methods\n    genNamedBase(this);\n  }\n\n  prompting() {\n    var done = this.async();\n    var promptCb = (props) => {\n      if(props.route.charAt(0) !== '/') {\n        props.route = '/' + props.route;\n      }\n\n      this.route = props.route;\n\n      if (props.models) {\n        delete this.filters.mongoose;\n        delete this.filters.mongooseModels;\n        delete this.filters.sequelize;\n        delete this.filters.sequelizeModels;\n\n        this.filters[props.models] = true;\n        this.filters[props.models + 'Models'] = true;\n      }\n      done();\n    };\n\n    if (this.options.route) {\n      if (this.filters.mongoose && this.filters.sequelize) {\n        if (this.options.models) {\n          return promptCb(this.options);\n        }\n      } else {\n        if (this.filters.mongooseModels) { this.options.models = 'mongoose'; }\n        else if (this.filters.sequelizeModels) { this.options.models = 'sequelize'; }\n        else { delete this.options.models; }\n        return promptCb(this.options);\n      }\n    }\n\n    var name = this.name;\n\n    var base = this.config.get('routesBase') || '/api/';\n    if(base.charAt(base.length-1) !== '/') {\n      base = base + '/';\n    }\n\n    // pluralization defaults to true for backwards compat\n    if (this.config.get('pluralizeRoutes') !== false) {\n      name = name + 's';\n    }\n\n    var prompts = [{\n      name: 'route',\n      message: 'What will the url of your endpoint be?',\n      default: base + name\n    }, {\n      type: 'list',\n      name: 'models',\n      message: 'What would you like to use for the endpoint\\'s models?',\n      choices: [ 'Mongoose', 'Sequelize' ],\n      default: this.filters.sequelizeModels ? 1 : 0,\n      filter: (val) => val.toLowerCase(),\n      when: () => this.filters.mongoose && this.filters.sequelize\n    }];\n\n    this.prompt(prompts, promptCb);\n  }\n\n  configuring() {\n    this.routeDest = path.join(this.options.endpointDirectory ||\n      this.config.get('endpointDirectory') || 'server/api/', this.name);\n  }\n\n  writing() {\n    this.sourceRoot(path.join(__dirname, './templates'));\n    this.processDirectory('.', this.routeDest);\n  }\n\n  end() {\n    if(this.config.get('insertRoutes')) {\n      var routesFile = this.config.get('registerRoutesFile');\n      var reqPath = this.relativeRequire(this.routeDest, routesFile);\n      var routeConfig = {\n        file: routesFile,\n        needle: this.config.get('routesNeedle'),\n        splicable: [\n          \"app.use(\\'\" + this.route +\"\\', require(\\'\" + reqPath + \"\\'));\"\n        ]\n      };\n      this.rewriteFile(routeConfig);\n    }\n\n    if (this.filters.socketio && this.config.get('insertSockets')) {\n      var socketsFile = this.config.get('registerSocketsFile');\n      var reqPath = this.relativeRequire(this.routeDest + '/' + this.basename +\n        '.socket', socketsFile);\n      var socketConfig = {\n        file: socketsFile,\n        needle: this.config.get('socketsNeedle'),\n        splicable: [\n          \"require(\\'\" + reqPath + \"\\').register(socket);\"\n        ]\n      };\n      this.rewriteFile(socketConfig);\n    }\n\n    if (this.filters.sequelize && this.config.get('insertModels')) {\n      var modelsFile = this.config.get('registerModelsFile');\n      var reqPath = this.relativeRequire(this.routeDest + '/' + this.basename + '.model', modelsFile);\n      var modelConfig = {\n        file: modelsFile,\n        needle: this.config.get('modelsNeedle'),\n        splicable: [\n          \"db.\" + this.classedName + \" = db.sequelize.import(\\'\" + reqPath +\"\\');\"\n        ]\n      };\n      this.rewriteFile(modelConfig);\n    }\n  }\n}\n"
      ]
    },
    "mtime": 1458249335000
  },
  "{\"filename\":\"/home/vagrant/server/api/thing/index.spec.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false}:6.7.4:test": {
    "metadata": {
      "usedHelpers": [],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/home/vagrant/server/api/thing/index.spec.js",
      "filenameRelative": "/home/vagrant/server/api/thing/index.spec.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMap": "both",
      "sourceMaps": "both",
      "sourceMapTarget": "index.spec.js",
      "sourceFileName": "index.spec.js",
      "babelrc": false,
      "sourceType": "module",
      "moduleIds": false,
      "passPerPreset": false,
      "basename": "index.spec"
    },
    "ignored": false,
    "code": "'use strict';\n\nvar proxyquire = require('proxyquire').noPreserveCache();\n\nvar thingCtrlStub = {\n  index: 'thingCtrl.index',\n  show: 'thingCtrl.show',\n  create: 'thingCtrl.create',\n  update: 'thingCtrl.update',\n  destroy: 'thingCtrl.destroy'\n};\n\nvar routerStub = {\n  get: sinon.spy(),\n  put: sinon.spy(),\n  patch: sinon.spy(),\n  post: sinon.spy(),\n  delete: sinon.spy()\n};\n\n// require the index with our stubbed out modules\nvar thingIndex = proxyquire('./index.js', {\n  'express': {\n    Router: function Router() {\n      return routerStub;\n    }\n  },\n  './thing.controller': thingCtrlStub\n});\n\ndescribe('Thing API Router:', function () {\n\n  it('should return an express router instance', function () {\n    expect(thingIndex).to.equal(routerStub);\n  });\n\n  describe('GET /api/things', function () {\n\n    it('should route to thing.controller.index', function () {\n      expect(routerStub.get.withArgs('/', 'thingCtrl.index')).to.have.been.calledOnce;\n    });\n  });\n\n  describe('GET /api/things/:id', function () {\n\n    it('should route to thing.controller.show', function () {\n      expect(routerStub.get.withArgs('/:id', 'thingCtrl.show')).to.have.been.calledOnce;\n    });\n  });\n\n  describe('POST /api/things', function () {\n\n    it('should route to thing.controller.create', function () {\n      expect(routerStub.post.withArgs('/', 'thingCtrl.create')).to.have.been.calledOnce;\n    });\n  });\n\n  describe('PUT /api/things/:id', function () {\n\n    it('should route to thing.controller.update', function () {\n      expect(routerStub.put.withArgs('/:id', 'thingCtrl.update')).to.have.been.calledOnce;\n    });\n  });\n\n  describe('PATCH /api/things/:id', function () {\n\n    it('should route to thing.controller.update', function () {\n      expect(routerStub.patch.withArgs('/:id', 'thingCtrl.update')).to.have.been.calledOnce;\n    });\n  });\n\n  describe('DELETE /api/things/:id', function () {\n\n    it('should route to thing.controller.destroy', function () {\n      expect(routerStub.delete.withArgs('/:id', 'thingCtrl.destroy')).to.have.been.calledOnce;\n    });\n  });\n});\n//# sourceMappingURL=data:application/json;base64,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QXhEdUM7Q0FBWCxDQUE5QiIsImZpbGUiOiJpbmRleC5zcGVjLmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG52YXIgcHJveHlxdWlyZSA9IHJlcXVpcmUoJ3Byb3h5cXVpcmUnKS5ub1ByZXNlcnZlQ2FjaGUoKTtcblxudmFyIHRoaW5nQ3RybFN0dWIgPSB7XG4gIGluZGV4OiAndGhpbmdDdHJsLmluZGV4JyxcbiAgc2hvdzogJ3RoaW5nQ3RybC5zaG93JyxcbiAgY3JlYXRlOiAndGhpbmdDdHJsLmNyZWF0ZScsXG4gIHVwZGF0ZTogJ3RoaW5nQ3RybC51cGRhdGUnLFxuICBkZXN0cm95OiAndGhpbmdDdHJsLmRlc3Ryb3knXG59O1xuXG52YXIgcm91dGVyU3R1YiA9IHtcbiAgZ2V0OiBzaW5vbi5zcHkoKSxcbiAgcHV0OiBzaW5vbi5zcHkoKSxcbiAgcGF0Y2g6IHNpbm9uLnNweSgpLFxuICBwb3N0OiBzaW5vbi5zcHkoKSxcbiAgZGVsZXRlOiBzaW5vbi5zcHkoKVxufTtcblxuLy8gcmVxdWlyZSB0aGUgaW5kZXggd2l0aCBvdXIgc3R1YmJlZCBvdXQgbW9kdWxlc1xudmFyIHRoaW5nSW5kZXggPSBwcm94eXF1aXJlKCcuL2luZGV4LmpzJywge1xuICAnZXhwcmVzcyc6IHtcbiAgICBSb3V0ZXI6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHJvdXRlclN0dWI7XG4gICAgfVxuICB9LFxuICAnLi90aGluZy5jb250cm9sbGVyJzogdGhpbmdDdHJsU3R1YlxufSk7XG5cbmRlc2NyaWJlKCdUaGluZyBBUEkgUm91dGVyOicsIGZ1bmN0aW9uKCkge1xuXG4gIGl0KCdzaG91bGQgcmV0dXJuIGFuIGV4cHJlc3Mgcm91dGVyIGluc3RhbmNlJywgZnVuY3Rpb24oKSB7XG4gICAgZXhwZWN0KHRoaW5nSW5kZXgpLnRvLmVxdWFsKHJvdXRlclN0dWIpO1xuICB9KTtcblxuICBkZXNjcmliZSgnR0VUIC9hcGkvdGhpbmdzJywgZnVuY3Rpb24oKSB7XG5cbiAgICBpdCgnc2hvdWxkIHJvdXRlIHRvIHRoaW5nLmNvbnRyb2xsZXIuaW5kZXgnLCBmdW5jdGlvbigpIHtcbiAgICAgIGV4cGVjdChyb3V0ZXJTdHViLmdldFxuICAgICAgICAud2l0aEFyZ3MoJy8nLCAndGhpbmdDdHJsLmluZGV4JylcbiAgICAgICAgKS50by5oYXZlLmJlZW4uY2FsbGVkT25jZTtcbiAgICB9KTtcblxuICB9KTtcblxuICBkZXNjcmliZSgnR0VUIC9hcGkvdGhpbmdzLzppZCcsIGZ1bmN0aW9uKCkge1xuXG4gICAgaXQoJ3Nob3VsZCByb3V0ZSB0byB0aGluZy5jb250cm9sbGVyLnNob3cnLCBmdW5jdGlvbigpIHtcbiAgICAgIGV4cGVjdChyb3V0ZXJTdHViLmdldFxuICAgICAgICAud2l0aEFyZ3MoJy86aWQnLCAndGhpbmdDdHJsLnNob3cnKVxuICAgICAgICApLnRvLmhhdmUuYmVlbi5jYWxsZWRPbmNlO1xuICAgIH0pO1xuXG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdQT1NUIC9hcGkvdGhpbmdzJywgZnVuY3Rpb24oKSB7XG5cbiAgICBpdCgnc2hvdWxkIHJvdXRlIHRvIHRoaW5nLmNvbnRyb2xsZXIuY3JlYXRlJywgZnVuY3Rpb24oKSB7XG4gICAgICBleHBlY3Qocm91dGVyU3R1Yi5wb3N0XG4gICAgICAgIC53aXRoQXJncygnLycsICd0aGluZ0N0cmwuY3JlYXRlJylcbiAgICAgICAgKS50by5oYXZlLmJlZW4uY2FsbGVkT25jZTtcbiAgICB9KTtcblxuICB9KTtcblxuICBkZXNjcmliZSgnUFVUIC9hcGkvdGhpbmdzLzppZCcsIGZ1bmN0aW9uKCkge1xuXG4gICAgaXQoJ3Nob3VsZCByb3V0ZSB0byB0aGluZy5jb250cm9sbGVyLnVwZGF0ZScsIGZ1bmN0aW9uKCkge1xuICAgICAgZXhwZWN0KHJvdXRlclN0dWIucHV0XG4gICAgICAgIC53aXRoQXJncygnLzppZCcsICd0aGluZ0N0cmwudXBkYXRlJylcbiAgICAgICAgKS50by5oYXZlLmJlZW4uY2FsbGVkT25jZTtcbiAgICB9KTtcblxuICB9KTtcblxuICBkZXNjcmliZSgnUEFUQ0ggL2FwaS90aGluZ3MvOmlkJywgZnVuY3Rpb24oKSB7XG5cbiAgICBpdCgnc2hvdWxkIHJvdXRlIHRvIHRoaW5nLmNvbnRyb2xsZXIudXBkYXRlJywgZnVuY3Rpb24oKSB7XG4gICAgICBleHBlY3Qocm91dGVyU3R1Yi5wYXRjaFxuICAgICAgICAud2l0aEFyZ3MoJy86aWQnLCAndGhpbmdDdHJsLnVwZGF0ZScpXG4gICAgICAgICkudG8uaGF2ZS5iZWVuLmNhbGxlZE9uY2U7XG4gICAgfSk7XG5cbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ0RFTEVURSAvYXBpL3RoaW5ncy86aWQnLCBmdW5jdGlvbigpIHtcblxuICAgIGl0KCdzaG91bGQgcm91dGUgdG8gdGhpbmcuY29udHJvbGxlci5kZXN0cm95JywgZnVuY3Rpb24oKSB7XG4gICAgICBleHBlY3Qocm91dGVyU3R1Yi5kZWxldGVcbiAgICAgICAgLndpdGhBcmdzKCcvOmlkJywgJ3RoaW5nQ3RybC5kZXN0cm95JylcbiAgICAgICAgKS50by5oYXZlLmJlZW4uY2FsbGVkT25jZTtcbiAgICB9KTtcblxuICB9KTtcblxufSk7XG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "index.spec.js"
      ],
      "names": [],
      "mappings": "AAAA;;AAEA,IAAI,aAAa,QAAQ,YAAR,EAAsB,eAAtB,EAAb;;AAEJ,IAAI,gBAAgB;AAClB,SAAO,iBAAP;AACA,QAAM,gBAAN;AACA,UAAQ,kBAAR;AACA,UAAQ,kBAAR;AACA,WAAS,mBAAT;CALE;;AAQJ,IAAI,aAAa;AACf,OAAK,MAAM,GAAN,EAAL;AACA,OAAK,MAAM,GAAN,EAAL;AACA,SAAO,MAAM,GAAN,EAAP;AACA,QAAM,MAAM,GAAN,EAAN;AACA,UAAQ,MAAM,GAAN,EAAR;CALE;;;AASJ,IAAI,aAAa,WAAW,YAAX,EAAyB;AACxC,aAAW;AACT,YAAQ,kBAAW;AACjB,aAAO,UAAP,CADiB;KAAX;GADV;AAKA,wBAAsB,aAAtB;CANe,CAAb;;AASJ,SAAS,mBAAT,EAA8B,YAAW;;AAEvC,KAAG,0CAAH,EAA+C,YAAW;AACxD,WAAO,UAAP,EAAmB,EAAnB,CAAsB,KAAtB,CAA4B,UAA5B,EADwD;GAAX,CAA/C,CAFuC;;AAMvC,WAAS,iBAAT,EAA4B,YAAW;;AAErC,OAAG,wCAAH,EAA6C,YAAW;AACtD,aAAO,WAAW,GAAX,CACJ,QADI,CACK,GADL,EACU,iBADV,CAAP,EAEI,EAFJ,CAEO,IAFP,CAEY,IAFZ,CAEiB,UAFjB,CADsD;KAAX,CAA7C,CAFqC;GAAX,CAA5B,CANuC;;AAgBvC,WAAS,qBAAT,EAAgC,YAAW;;AAEzC,OAAG,uCAAH,EAA4C,YAAW;AACrD,aAAO,WAAW,GAAX,CACJ,QADI,CACK,MADL,EACa,gBADb,CAAP,EAEI,EAFJ,CAEO,IAFP,CAEY,IAFZ,CAEiB,UAFjB,CADqD;KAAX,CAA5C,CAFyC;GAAX,CAAhC,CAhBuC;;AA0BvC,WAAS,kBAAT,EAA6B,YAAW;;AAEtC,OAAG,yCAAH,EAA8C,YAAW;AACvD,aAAO,WAAW,IAAX,CACJ,QADI,CACK,GADL,EACU,kBADV,CAAP,EAEI,EAFJ,CAEO,IAFP,CAEY,IAFZ,CAEiB,UAFjB,CADuD;KAAX,CAA9C,CAFsC;GAAX,CAA7B,CA1BuC;;AAoCvC,WAAS,qBAAT,EAAgC,YAAW;;AAEzC,OAAG,yCAAH,EAA8C,YAAW;AACvD,aAAO,WAAW,GAAX,CACJ,QADI,CACK,MADL,EACa,kBADb,CAAP,EAEI,EAFJ,CAEO,IAFP,CAEY,IAFZ,CAEiB,UAFjB,CADuD;KAAX,CAA9C,CAFyC;GAAX,CAAhC,CApCuC;;AA8CvC,WAAS,uBAAT,EAAkC,YAAW;;AAE3C,OAAG,yCAAH,EAA8C,YAAW;AACvD,aAAO,WAAW,KAAX,CACJ,QADI,CACK,MADL,EACa,kBADb,CAAP,EAEI,EAFJ,CAEO,IAFP,CAEY,IAFZ,CAEiB,UAFjB,CADuD;KAAX,CAA9C,CAF2C;GAAX,CAAlC,CA9CuC;;AAwDvC,WAAS,wBAAT,EAAmC,YAAW;;AAE5C,OAAG,0CAAH,EAA+C,YAAW;AACxD,aAAO,WAAW,MAAX,CACJ,QADI,CACK,MADL,EACa,mBADb,CAAP,EAEI,EAFJ,CAEO,IAFP,CAEY,IAFZ,CAEiB,UAFjB,CADwD;KAAX,CAA/C,CAF4C;GAAX,CAAnC,CAxDuC;CAAX,CAA9B",
      "file": "index.spec.js",
      "sourcesContent": [
        "'use strict';\n\nvar proxyquire = require('proxyquire').noPreserveCache();\n\nvar thingCtrlStub = {\n  index: 'thingCtrl.index',\n  show: 'thingCtrl.show',\n  create: 'thingCtrl.create',\n  update: 'thingCtrl.update',\n  destroy: 'thingCtrl.destroy'\n};\n\nvar routerStub = {\n  get: sinon.spy(),\n  put: sinon.spy(),\n  patch: sinon.spy(),\n  post: sinon.spy(),\n  delete: sinon.spy()\n};\n\n// require the index with our stubbed out modules\nvar thingIndex = proxyquire('./index.js', {\n  'express': {\n    Router: function() {\n      return routerStub;\n    }\n  },\n  './thing.controller': thingCtrlStub\n});\n\ndescribe('Thing API Router:', function() {\n\n  it('should return an express router instance', function() {\n    expect(thingIndex).to.equal(routerStub);\n  });\n\n  describe('GET /api/things', function() {\n\n    it('should route to thing.controller.index', function() {\n      expect(routerStub.get\n        .withArgs('/', 'thingCtrl.index')\n        ).to.have.been.calledOnce;\n    });\n\n  });\n\n  describe('GET /api/things/:id', function() {\n\n    it('should route to thing.controller.show', function() {\n      expect(routerStub.get\n        .withArgs('/:id', 'thingCtrl.show')\n        ).to.have.been.calledOnce;\n    });\n\n  });\n\n  describe('POST /api/things', function() {\n\n    it('should route to thing.controller.create', function() {\n      expect(routerStub.post\n        .withArgs('/', 'thingCtrl.create')\n        ).to.have.been.calledOnce;\n    });\n\n  });\n\n  describe('PUT /api/things/:id', function() {\n\n    it('should route to thing.controller.update', function() {\n      expect(routerStub.put\n        .withArgs('/:id', 'thingCtrl.update')\n        ).to.have.been.calledOnce;\n    });\n\n  });\n\n  describe('PATCH /api/things/:id', function() {\n\n    it('should route to thing.controller.update', function() {\n      expect(routerStub.patch\n        .withArgs('/:id', 'thingCtrl.update')\n        ).to.have.been.calledOnce;\n    });\n\n  });\n\n  describe('DELETE /api/things/:id', function() {\n\n    it('should route to thing.controller.destroy', function() {\n      expect(routerStub.delete\n        .withArgs('/:id', 'thingCtrl.destroy')\n        ).to.have.been.calledOnce;\n    });\n\n  });\n\n});\n"
      ]
    },
    "mtime": 1459628251583
  },
  "{\"filename\":\"/home/vagrant/server/api/thing/index.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false}:6.7.4:test": {
    "metadata": {
      "usedHelpers": [],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/home/vagrant/server/api/thing/index.js",
      "filenameRelative": "/home/vagrant/server/api/thing/index.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMap": "both",
      "sourceMaps": "both",
      "sourceMapTarget": "index.js",
      "sourceFileName": "index.js",
      "babelrc": false,
      "sourceType": "module",
      "moduleIds": false,
      "passPerPreset": false,
      "basename": "index"
    },
    "ignored": false,
    "code": "'use strict';\n\nvar express = require('express');\nvar controller = require('./thing.controller');\n\nvar router = express.Router();\n\nrouter.get('/', controller.index);\nrouter.get('/:id', controller.show);\nrouter.post('/', controller.create);\nrouter.put('/:id', controller.update);\nrouter.patch('/:id', controller.update);\nrouter.delete('/:id', controller.destroy);\n\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBLElBQUksVUFBVSxRQUFRLFNBQVIsQ0FBVjtBQUNKLElBQUksYUFBYSxRQUFRLG9CQUFSLENBQWI7O0FBRUosSUFBSSxTQUFTLFFBQVEsTUFBUixFQUFUOztBQUVKLE9BQU8sR0FBUCxDQUFXLEdBQVgsRUFBZ0IsV0FBVyxLQUFYLENBQWhCO0FBQ0EsT0FBTyxHQUFQLENBQVcsTUFBWCxFQUFtQixXQUFXLElBQVgsQ0FBbkI7QUFDQSxPQUFPLElBQVAsQ0FBWSxHQUFaLEVBQWlCLFdBQVcsTUFBWCxDQUFqQjtBQUNBLE9BQU8sR0FBUCxDQUFXLE1BQVgsRUFBbUIsV0FBVyxNQUFYLENBQW5CO0FBQ0EsT0FBTyxLQUFQLENBQWEsTUFBYixFQUFxQixXQUFXLE1BQVgsQ0FBckI7QUFDQSxPQUFPLE1BQVAsQ0FBYyxNQUFkLEVBQXNCLFdBQVcsT0FBWCxDQUF0Qjs7QUFFQSxPQUFPLE9BQVAsR0FBaUIsTUFBakIiLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbnZhciBleHByZXNzID0gcmVxdWlyZSgnZXhwcmVzcycpO1xudmFyIGNvbnRyb2xsZXIgPSByZXF1aXJlKCcuL3RoaW5nLmNvbnRyb2xsZXInKTtcblxudmFyIHJvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7XG5cbnJvdXRlci5nZXQoJy8nLCBjb250cm9sbGVyLmluZGV4KTtcbnJvdXRlci5nZXQoJy86aWQnLCBjb250cm9sbGVyLnNob3cpO1xucm91dGVyLnBvc3QoJy8nLCBjb250cm9sbGVyLmNyZWF0ZSk7XG5yb3V0ZXIucHV0KCcvOmlkJywgY29udHJvbGxlci51cGRhdGUpO1xucm91dGVyLnBhdGNoKCcvOmlkJywgY29udHJvbGxlci51cGRhdGUpO1xucm91dGVyLmRlbGV0ZSgnLzppZCcsIGNvbnRyb2xsZXIuZGVzdHJveSk7XG5cbm1vZHVsZS5leHBvcnRzID0gcm91dGVyO1xuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [],
      "mappings": "AAAA;;AAEA,IAAI,UAAU,QAAQ,SAAR,CAAV;AACJ,IAAI,aAAa,QAAQ,oBAAR,CAAb;;AAEJ,IAAI,SAAS,QAAQ,MAAR,EAAT;;AAEJ,OAAO,GAAP,CAAW,GAAX,EAAgB,WAAW,KAAX,CAAhB;AACA,OAAO,GAAP,CAAW,MAAX,EAAmB,WAAW,IAAX,CAAnB;AACA,OAAO,IAAP,CAAY,GAAZ,EAAiB,WAAW,MAAX,CAAjB;AACA,OAAO,GAAP,CAAW,MAAX,EAAmB,WAAW,MAAX,CAAnB;AACA,OAAO,KAAP,CAAa,MAAb,EAAqB,WAAW,MAAX,CAArB;AACA,OAAO,MAAP,CAAc,MAAd,EAAsB,WAAW,OAAX,CAAtB;;AAEA,OAAO,OAAP,GAAiB,MAAjB",
      "file": "index.js",
      "sourcesContent": [
        "'use strict';\n\nvar express = require('express');\nvar controller = require('./thing.controller');\n\nvar router = express.Router();\n\nrouter.get('/', controller.index);\nrouter.get('/:id', controller.show);\nrouter.post('/', controller.create);\nrouter.put('/:id', controller.update);\nrouter.patch('/:id', controller.update);\nrouter.delete('/:id', controller.destroy);\n\nmodule.exports = router;\n"
      ]
    },
    "mtime": 1459628251583
  },
  "{\"filename\":\"/home/vagrant/server/api/thing/thing.controller.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false}:6.7.4:test": {
    "metadata": {
      "usedHelpers": [
        "interopRequireDefault"
      ],
      "marked": [],
      "modules": {
        "imports": [
          {
            "source": "lodash",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "_"
              }
            ]
          },
          {
            "source": "./thing.model",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "Thing"
              }
            ]
          }
        ],
        "exports": {
          "exported": [
            "index",
            "req",
            "res",
            "show",
            "req",
            "res",
            "create",
            "req",
            "res",
            "update",
            "req",
            "res",
            "destroy",
            "req",
            "res"
          ],
          "specifiers": [
            {
              "kind": "local",
              "local": "index",
              "exported": "index"
            },
            {
              "kind": "local",
              "local": "req",
              "exported": "req"
            },
            {
              "kind": "local",
              "local": "res",
              "exported": "res"
            },
            {
              "kind": "local",
              "local": "show",
              "exported": "show"
            },
            {
              "kind": "local",
              "local": "req",
              "exported": "req"
            },
            {
              "kind": "local",
              "local": "res",
              "exported": "res"
            },
            {
              "kind": "local",
              "local": "create",
              "exported": "create"
            },
            {
              "kind": "local",
              "local": "req",
              "exported": "req"
            },
            {
              "kind": "local",
              "local": "res",
              "exported": "res"
            },
            {
              "kind": "local",
              "local": "update",
              "exported": "update"
            },
            {
              "kind": "local",
              "local": "req",
              "exported": "req"
            },
            {
              "kind": "local",
              "local": "res",
              "exported": "res"
            },
            {
              "kind": "local",
              "local": "destroy",
              "exported": "destroy"
            },
            {
              "kind": "local",
              "local": "req",
              "exported": "req"
            },
            {
              "kind": "local",
              "local": "res",
              "exported": "res"
            }
          ]
        }
      }
    },
    "options": {
      "filename": "/home/vagrant/server/api/thing/thing.controller.js",
      "filenameRelative": "/home/vagrant/server/api/thing/thing.controller.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMap": "both",
      "sourceMaps": "both",
      "sourceMapTarget": "thing.controller.js",
      "sourceFileName": "thing.controller.js",
      "babelrc": false,
      "sourceType": "module",
      "moduleIds": false,
      "passPerPreset": false,
      "basename": "thing.controller"
    },
    "ignored": false,
    "code": "/**\n * Using Rails-like standard naming convention for endpoints.\n * GET     /api/things              ->  index\n * POST    /api/things              ->  create\n * GET     /api/things/:id          ->  show\n * PUT     /api/things/:id          ->  update\n * DELETE  /api/things/:id          ->  destroy\n */\n\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.index = index;\nexports.show = show;\nexports.create = create;\nexports.update = update;\nexports.destroy = destroy;\n\nvar _lodash = require('lodash');\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nvar _thing = require('./thing.model');\n\nvar _thing2 = _interopRequireDefault(_thing);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction respondWithResult(res, statusCode) {\n  statusCode = statusCode || 200;\n  return function (entity) {\n    if (entity) {\n      res.status(statusCode).json(entity);\n    }\n  };\n}\n\nfunction saveUpdates(updates) {\n  return function (entity) {\n    var updated = _lodash2.default.merge(entity, updates);\n    return updated.save().then(function (updated) {\n      return updated;\n    });\n  };\n}\n\nfunction removeEntity(res) {\n  return function (entity) {\n    if (entity) {\n      return entity.remove().then(function () {\n        res.status(204).end();\n      });\n    }\n  };\n}\n\nfunction handleEntityNotFound(res) {\n  return function (entity) {\n    if (!entity) {\n      res.status(404).end();\n      return null;\n    }\n    return entity;\n  };\n}\n\nfunction handleError(res, statusCode) {\n  statusCode = statusCode || 500;\n  return function (err) {\n    res.status(statusCode).send(err);\n  };\n}\n\n// Gets a list of Things\nfunction index(req, res) {\n  return _thing2.default.find().exec().then(respondWithResult(res)).catch(handleError(res));\n}\n\n// Gets a single Thing from the DB\nfunction show(req, res) {\n  return _thing2.default.findById(req.params.id).exec().then(handleEntityNotFound(res)).then(respondWithResult(res)).catch(handleError(res));\n}\n\n// Creates a new Thing in the DB\nfunction create(req, res) {\n  return _thing2.default.create(req.body).then(respondWithResult(res, 201)).catch(handleError(res));\n}\n\n// Updates an existing Thing in the DB\nfunction update(req, res) {\n  if (req.body._id) {\n    delete req.body._id;\n  }\n  return _thing2.default.findById(req.params.id).exec().then(handleEntityNotFound(res)).then(saveUpdates(req.body)).then(respondWithResult(res)).catch(handleError(res));\n}\n\n// Deletes a Thing from the DB\nfunction destroy(req, res) {\n  return _thing2.default.findById(req.params.id).exec().then(handleEntityNotFound(res)).then(removeEntity(res)).catch(handleError(res));\n}\n//# sourceMappingURL=data:application/json;base64,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QjtBQUdBLFNBQU8sZ0JBQU0sUUFBTixDQUFlLElBQUksTUFBSixDQUFXLEVBQVgsQ0FBZixDQUE4QixJQUE5QixHQUNKLElBREksQ0FDQyxxQkFBcUIsR0FBckIsQ0FERCxFQUVKLElBRkksQ0FFQyxZQUFZLElBQUksSUFBSixDQUZiLEVBR0osSUFISSxDQUdDLGtCQUFrQixHQUFsQixDQUhELEVBSUosS0FKSSxDQUlFLFlBQVksR0FBWixDQUpGLENBQVAsQ0FKK0I7Q0FBMUI7OztBQVlBLFNBQVMsT0FBVCxDQUFpQixHQUFqQixFQUFzQixHQUF0QixFQUEyQjtBQUNoQyxTQUFPLGdCQUFNLFFBQU4sQ0FBZSxJQUFJLE1BQUosQ0FBVyxFQUFYLENBQWYsQ0FBOEIsSUFBOUIsR0FDSixJQURJLENBQ0MscUJBQXFCLEdBQXJCLENBREQsRUFFSixJQUZJLENBRUMsYUFBYSxHQUFiLENBRkQsRUFHSixLQUhJLENBR0UsWUFBWSxHQUFaLENBSEYsQ0FBUCxDQURnQztDQUEzQiIsImZpbGUiOiJ0aGluZy5jb250cm9sbGVyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBVc2luZyBSYWlscy1saWtlIHN0YW5kYXJkIG5hbWluZyBjb252ZW50aW9uIGZvciBlbmRwb2ludHMuXG4gKiBHRVQgICAgIC9hcGkvdGhpbmdzICAgICAgICAgICAgICAtPiAgaW5kZXhcbiAqIFBPU1QgICAgL2FwaS90aGluZ3MgICAgICAgICAgICAgIC0+ICBjcmVhdGVcbiAqIEdFVCAgICAgL2FwaS90aGluZ3MvOmlkICAgICAgICAgIC0+ICBzaG93XG4gKiBQVVQgICAgIC9hcGkvdGhpbmdzLzppZCAgICAgICAgICAtPiAgdXBkYXRlXG4gKiBERUxFVEUgIC9hcGkvdGhpbmdzLzppZCAgICAgICAgICAtPiAgZGVzdHJveVxuICovXG5cbid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IF8gZnJvbSAnbG9kYXNoJztcbmltcG9ydCBUaGluZyBmcm9tICcuL3RoaW5nLm1vZGVsJztcblxuZnVuY3Rpb24gcmVzcG9uZFdpdGhSZXN1bHQocmVzLCBzdGF0dXNDb2RlKSB7XG4gIHN0YXR1c0NvZGUgPSBzdGF0dXNDb2RlIHx8IDIwMDtcbiAgcmV0dXJuIGZ1bmN0aW9uKGVudGl0eSkge1xuICAgIGlmIChlbnRpdHkpIHtcbiAgICAgIHJlcy5zdGF0dXMoc3RhdHVzQ29kZSkuanNvbihlbnRpdHkpO1xuICAgIH1cbiAgfTtcbn1cblxuZnVuY3Rpb24gc2F2ZVVwZGF0ZXModXBkYXRlcykge1xuICByZXR1cm4gZnVuY3Rpb24oZW50aXR5KSB7XG4gICAgdmFyIHVwZGF0ZWQgPSBfLm1lcmdlKGVudGl0eSwgdXBkYXRlcyk7XG4gICAgcmV0dXJuIHVwZGF0ZWQuc2F2ZSgpXG4gICAgICAudGhlbih1cGRhdGVkID0+IHtcbiAgICAgICAgcmV0dXJuIHVwZGF0ZWQ7XG4gICAgICB9KTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gcmVtb3ZlRW50aXR5KHJlcykge1xuICByZXR1cm4gZnVuY3Rpb24oZW50aXR5KSB7XG4gICAgaWYgKGVudGl0eSkge1xuICAgICAgcmV0dXJuIGVudGl0eS5yZW1vdmUoKVxuICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgcmVzLnN0YXR1cygyMDQpLmVuZCgpO1xuICAgICAgICB9KTtcbiAgICB9XG4gIH07XG59XG5cbmZ1bmN0aW9uIGhhbmRsZUVudGl0eU5vdEZvdW5kKHJlcykge1xuICByZXR1cm4gZnVuY3Rpb24oZW50aXR5KSB7XG4gICAgaWYgKCFlbnRpdHkpIHtcbiAgICAgIHJlcy5zdGF0dXMoNDA0KS5lbmQoKTtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gZW50aXR5O1xuICB9O1xufVxuXG5mdW5jdGlvbiBoYW5kbGVFcnJvcihyZXMsIHN0YXR1c0NvZGUpIHtcbiAgc3RhdHVzQ29kZSA9IHN0YXR1c0NvZGUgfHwgNTAwO1xuICByZXR1cm4gZnVuY3Rpb24oZXJyKSB7XG4gICAgcmVzLnN0YXR1cyhzdGF0dXNDb2RlKS5zZW5kKGVycik7XG4gIH07XG59XG5cbi8vIEdldHMgYSBsaXN0IG9mIFRoaW5nc1xuZXhwb3J0IGZ1bmN0aW9uIGluZGV4KHJlcSwgcmVzKSB7XG4gIHJldHVybiBUaGluZy5maW5kKCkuZXhlYygpXG4gICAgLnRoZW4ocmVzcG9uZFdpdGhSZXN1bHQocmVzKSlcbiAgICAuY2F0Y2goaGFuZGxlRXJyb3IocmVzKSk7XG59XG5cbi8vIEdldHMgYSBzaW5nbGUgVGhpbmcgZnJvbSB0aGUgREJcbmV4cG9ydCBmdW5jdGlvbiBzaG93KHJlcSwgcmVzKSB7XG4gIHJldHVybiBUaGluZy5maW5kQnlJZChyZXEucGFyYW1zLmlkKS5leGVjKClcbiAgICAudGhlbihoYW5kbGVFbnRpdHlOb3RGb3VuZChyZXMpKVxuICAgIC50aGVuKHJlc3BvbmRXaXRoUmVzdWx0KHJlcykpXG4gICAgLmNhdGNoKGhhbmRsZUVycm9yKHJlcykpO1xufVxuXG4vLyBDcmVhdGVzIGEgbmV3IFRoaW5nIGluIHRoZSBEQlxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZShyZXEsIHJlcykge1xuICByZXR1cm4gVGhpbmcuY3JlYXRlKHJlcS5ib2R5KVxuICAgIC50aGVuKHJlc3BvbmRXaXRoUmVzdWx0KHJlcywgMjAxKSlcbiAgICAuY2F0Y2goaGFuZGxlRXJyb3IocmVzKSk7XG59XG5cbi8vIFVwZGF0ZXMgYW4gZXhpc3RpbmcgVGhpbmcgaW4gdGhlIERCXG5leHBvcnQgZnVuY3Rpb24gdXBkYXRlKHJlcSwgcmVzKSB7XG4gIGlmIChyZXEuYm9keS5faWQpIHtcbiAgICBkZWxldGUgcmVxLmJvZHkuX2lkO1xuICB9XG4gIHJldHVybiBUaGluZy5maW5kQnlJZChyZXEucGFyYW1zLmlkKS5leGVjKClcbiAgICAudGhlbihoYW5kbGVFbnRpdHlOb3RGb3VuZChyZXMpKVxuICAgIC50aGVuKHNhdmVVcGRhdGVzKHJlcS5ib2R5KSlcbiAgICAudGhlbihyZXNwb25kV2l0aFJlc3VsdChyZXMpKVxuICAgIC5jYXRjaChoYW5kbGVFcnJvcihyZXMpKTtcbn1cblxuLy8gRGVsZXRlcyBhIFRoaW5nIGZyb20gdGhlIERCXG5leHBvcnQgZnVuY3Rpb24gZGVzdHJveShyZXEsIHJlcykge1xuICByZXR1cm4gVGhpbmcuZmluZEJ5SWQocmVxLnBhcmFtcy5pZCkuZXhlYygpXG4gICAgLnRoZW4oaGFuZGxlRW50aXR5Tm90Rm91bmQocmVzKSlcbiAgICAudGhlbihyZW1vdmVFbnRpdHkocmVzKSlcbiAgICAuY2F0Y2goaGFuZGxlRXJyb3IocmVzKSk7XG59XG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "thing.controller.js"
      ],
      "names": [],
      "mappings": "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",
      "file": "thing.controller.js",
      "sourcesContent": [
        "/**\n * Using Rails-like standard naming convention for endpoints.\n * GET     /api/things              ->  index\n * POST    /api/things              ->  create\n * GET     /api/things/:id          ->  show\n * PUT     /api/things/:id          ->  update\n * DELETE  /api/things/:id          ->  destroy\n */\n\n'use strict';\n\nimport _ from 'lodash';\nimport Thing from './thing.model';\n\nfunction respondWithResult(res, statusCode) {\n  statusCode = statusCode || 200;\n  return function(entity) {\n    if (entity) {\n      res.status(statusCode).json(entity);\n    }\n  };\n}\n\nfunction saveUpdates(updates) {\n  return function(entity) {\n    var updated = _.merge(entity, updates);\n    return updated.save()\n      .then(updated => {\n        return updated;\n      });\n  };\n}\n\nfunction removeEntity(res) {\n  return function(entity) {\n    if (entity) {\n      return entity.remove()\n        .then(() => {\n          res.status(204).end();\n        });\n    }\n  };\n}\n\nfunction handleEntityNotFound(res) {\n  return function(entity) {\n    if (!entity) {\n      res.status(404).end();\n      return null;\n    }\n    return entity;\n  };\n}\n\nfunction handleError(res, statusCode) {\n  statusCode = statusCode || 500;\n  return function(err) {\n    res.status(statusCode).send(err);\n  };\n}\n\n// Gets a list of Things\nexport function index(req, res) {\n  return Thing.find().exec()\n    .then(respondWithResult(res))\n    .catch(handleError(res));\n}\n\n// Gets a single Thing from the DB\nexport function show(req, res) {\n  return Thing.findById(req.params.id).exec()\n    .then(handleEntityNotFound(res))\n    .then(respondWithResult(res))\n    .catch(handleError(res));\n}\n\n// Creates a new Thing in the DB\nexport function create(req, res) {\n  return Thing.create(req.body)\n    .then(respondWithResult(res, 201))\n    .catch(handleError(res));\n}\n\n// Updates an existing Thing in the DB\nexport function update(req, res) {\n  if (req.body._id) {\n    delete req.body._id;\n  }\n  return Thing.findById(req.params.id).exec()\n    .then(handleEntityNotFound(res))\n    .then(saveUpdates(req.body))\n    .then(respondWithResult(res))\n    .catch(handleError(res));\n}\n\n// Deletes a Thing from the DB\nexport function destroy(req, res) {\n  return Thing.findById(req.params.id).exec()\n    .then(handleEntityNotFound(res))\n    .then(removeEntity(res))\n    .catch(handleError(res));\n}\n"
      ]
    },
    "mtime": 1459628251575
  },
  "{\"filename\":\"/home/vagrant/server/api/thing/thing.model.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false}:6.7.4:test": {
    "metadata": {
      "usedHelpers": [
        "interopRequireDefault"
      ],
      "marked": [],
      "modules": {
        "imports": [
          {
            "source": "mongoose",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "mongoose"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/home/vagrant/server/api/thing/thing.model.js",
      "filenameRelative": "/home/vagrant/server/api/thing/thing.model.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMap": "both",
      "sourceMaps": "both",
      "sourceMapTarget": "thing.model.js",
      "sourceFileName": "thing.model.js",
      "babelrc": false,
      "sourceType": "module",
      "moduleIds": false,
      "passPerPreset": false,
      "basename": "thing.model"
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _mongoose = require('mongoose');\n\nvar _mongoose2 = _interopRequireDefault(_mongoose);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar ThingSchema = new _mongoose2.default.Schema({\n  name: String,\n  info: String,\n  active: Boolean\n});\n\nexports.default = _mongoose2.default.model('Thing', ThingSchema);\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInRoaW5nLm1vZGVsLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7QUFFQTs7Ozs7O0FBRUEsSUFBSSxjQUFjLElBQUksbUJBQVMsTUFBVCxDQUFnQjtBQUNwQyxRQUFNLE1BQU47QUFDQSxRQUFNLE1BQU47QUFDQSxVQUFRLE9BQVI7Q0FIZ0IsQ0FBZDs7a0JBTVcsbUJBQVMsS0FBVCxDQUFlLE9BQWYsRUFBd0IsV0FBeEIiLCJmaWxlIjoidGhpbmcubW9kZWwuanMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbmltcG9ydCBtb25nb29zZSBmcm9tICdtb25nb29zZSc7XG5cbnZhciBUaGluZ1NjaGVtYSA9IG5ldyBtb25nb29zZS5TY2hlbWEoe1xuICBuYW1lOiBTdHJpbmcsXG4gIGluZm86IFN0cmluZyxcbiAgYWN0aXZlOiBCb29sZWFuXG59KTtcblxuZXhwb3J0IGRlZmF1bHQgbW9uZ29vc2UubW9kZWwoJ1RoaW5nJywgVGhpbmdTY2hlbWEpO1xuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "thing.model.js"
      ],
      "names": [],
      "mappings": "AAAA;;;;;;AAEA;;;;;;AAEA,IAAI,cAAc,IAAI,mBAAS,MAAT,CAAgB;AACpC,QAAM,MAAN;AACA,QAAM,MAAN;AACA,UAAQ,OAAR;CAHgB,CAAd;;kBAMW,mBAAS,KAAT,CAAe,OAAf,EAAwB,WAAxB",
      "file": "thing.model.js",
      "sourcesContent": [
        "'use strict';\n\nimport mongoose from 'mongoose';\n\nvar ThingSchema = new mongoose.Schema({\n  name: String,\n  info: String,\n  active: Boolean\n});\n\nexport default mongoose.model('Thing', ThingSchema);\n"
      ]
    },
    "mtime": 1459628251579
  },
  "{\"filename\":\"/home/vagrant/server/api/user/index.spec.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false}:6.7.4:test": {
    "metadata": {
      "usedHelpers": [],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/home/vagrant/server/api/user/index.spec.js",
      "filenameRelative": "/home/vagrant/server/api/user/index.spec.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMap": "both",
      "sourceMaps": "both",
      "sourceMapTarget": "index.spec.js",
      "sourceFileName": "index.spec.js",
      "babelrc": false,
      "sourceType": "module",
      "moduleIds": false,
      "passPerPreset": false,
      "basename": "index.spec"
    },
    "ignored": false,
    "code": "'use strict';\n\nvar proxyquire = require('proxyquire').noPreserveCache();\n\nvar userCtrlStub = {\n  index: 'userCtrl.index',\n  destroy: 'userCtrl.destroy',\n  me: 'userCtrl.me',\n  changePassword: 'userCtrl.changePassword',\n  show: 'userCtrl.show',\n  create: 'userCtrl.create'\n};\n\nvar authServiceStub = {\n  isAuthenticated: function isAuthenticated() {\n    return 'authService.isAuthenticated';\n  },\n  hasRole: function hasRole(role) {\n    return 'authService.hasRole.' + role;\n  }\n};\n\nvar routerStub = {\n  get: sinon.spy(),\n  put: sinon.spy(),\n  post: sinon.spy(),\n  delete: sinon.spy()\n};\n\n// require the index with our stubbed out modules\nvar userIndex = proxyquire('./index', {\n  'express': {\n    Router: function Router() {\n      return routerStub;\n    }\n  },\n  './user.controller': userCtrlStub,\n  '../../auth/auth.service': authServiceStub\n});\n\ndescribe('User API Router:', function () {\n\n  it('should return an express router instance', function () {\n    expect(userIndex).to.equal(routerStub);\n  });\n\n  describe('GET /api/users', function () {\n\n    it('should verify admin role and route to user.controller.index', function () {\n      expect(routerStub.get.withArgs('/', 'authService.hasRole.admin', 'userCtrl.index')).to.have.been.calledOnce;\n    });\n  });\n\n  describe('DELETE /api/users/:id', function () {\n\n    it('should verify admin role and route to user.controller.destroy', function () {\n      expect(routerStub.delete.withArgs('/:id', 'authService.hasRole.admin', 'userCtrl.destroy')).to.have.been.calledOnce;\n    });\n  });\n\n  describe('GET /api/users/me', function () {\n\n    it('should be authenticated and route to user.controller.me', function () {\n      expect(routerStub.get.withArgs('/me', 'authService.isAuthenticated', 'userCtrl.me')).to.have.been.calledOnce;\n    });\n  });\n\n  describe('PUT /api/users/:id/password', function () {\n\n    it('should be authenticated and route to user.controller.changePassword', function () {\n      expect(routerStub.put.withArgs('/:id/password', 'authService.isAuthenticated', 'userCtrl.changePassword')).to.have.been.calledOnce;\n    });\n  });\n\n  describe('GET /api/users/:id', function () {\n\n    it('should be authenticated and route to user.controller.show', function () {\n      expect(routerStub.get.withArgs('/:id', 'authService.isAuthenticated', 'userCtrl.show')).to.have.been.calledOnce;\n    });\n  });\n\n  describe('POST /api/users', function () {\n\n    it('should route to user.controller.create', function () {\n      expect(routerStub.post.withArgs('/', 'userCtrl.create')).to.have.been.calledOnce;\n    });\n  });\n});\n//# sourceMappingURL=data:application/json;base64,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LGlCQUFULEVBQTRCLFlBQVc7O0FBRXJDLE9BQUcsd0NBQUgsRUFBNkMsWUFBVztBQUN0RCxhQUFPLFdBQVcsSUFBWCxDQUNKLFFBREksQ0FDSyxHQURMLEVBQ1UsaUJBRFYsQ0FBUCxFQUVJLEVBRkosQ0FFTyxJQUZQLENBRVksSUFGWixDQUVpQixVQUZqQixDQURzRDtLQUFYLENBQTdDLENBRnFDO0dBQVgsQ0FBNUIsQ0F4RHNDO0NBQVgsQ0FBN0IiLCJmaWxlIjoiaW5kZXguc3BlYy5qcyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxudmFyIHByb3h5cXVpcmUgPSByZXF1aXJlKCdwcm94eXF1aXJlJykubm9QcmVzZXJ2ZUNhY2hlKCk7XG5cbnZhciB1c2VyQ3RybFN0dWIgPSB7XG4gIGluZGV4OiAndXNlckN0cmwuaW5kZXgnLFxuICBkZXN0cm95OiAndXNlckN0cmwuZGVzdHJveScsXG4gIG1lOiAndXNlckN0cmwubWUnLFxuICBjaGFuZ2VQYXNzd29yZDogJ3VzZXJDdHJsLmNoYW5nZVBhc3N3b3JkJyxcbiAgc2hvdzogJ3VzZXJDdHJsLnNob3cnLFxuICBjcmVhdGU6ICd1c2VyQ3RybC5jcmVhdGUnXG59O1xuXG52YXIgYXV0aFNlcnZpY2VTdHViID0ge1xuICBpc0F1dGhlbnRpY2F0ZWQoKSB7XG4gICAgcmV0dXJuICdhdXRoU2VydmljZS5pc0F1dGhlbnRpY2F0ZWQnO1xuICB9LFxuICBoYXNSb2xlKHJvbGUpIHtcbiAgICByZXR1cm4gJ2F1dGhTZXJ2aWNlLmhhc1JvbGUuJyArIHJvbGU7XG4gIH1cbn07XG5cbnZhciByb3V0ZXJTdHViID0ge1xuICBnZXQ6IHNpbm9uLnNweSgpLFxuICBwdXQ6IHNpbm9uLnNweSgpLFxuICBwb3N0OiBzaW5vbi5zcHkoKSxcbiAgZGVsZXRlOiBzaW5vbi5zcHkoKVxufTtcblxuLy8gcmVxdWlyZSB0aGUgaW5kZXggd2l0aCBvdXIgc3R1YmJlZCBvdXQgbW9kdWxlc1xudmFyIHVzZXJJbmRleCA9IHByb3h5cXVpcmUoJy4vaW5kZXgnLCB7XG4gICdleHByZXNzJzoge1xuICAgIFJvdXRlcigpIHtcbiAgICAgIHJldHVybiByb3V0ZXJTdHViO1xuICAgIH1cbiAgfSxcbiAgJy4vdXNlci5jb250cm9sbGVyJzogdXNlckN0cmxTdHViLFxuICAnLi4vLi4vYXV0aC9hdXRoLnNlcnZpY2UnOiBhdXRoU2VydmljZVN0dWJcbn0pO1xuXG5kZXNjcmliZSgnVXNlciBBUEkgUm91dGVyOicsIGZ1bmN0aW9uKCkge1xuXG4gIGl0KCdzaG91bGQgcmV0dXJuIGFuIGV4cHJlc3Mgcm91dGVyIGluc3RhbmNlJywgZnVuY3Rpb24oKSB7XG4gICAgZXhwZWN0KHVzZXJJbmRleCkudG8uZXF1YWwocm91dGVyU3R1Yik7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdHRVQgL2FwaS91c2VycycsIGZ1bmN0aW9uKCkge1xuXG4gICAgaXQoJ3Nob3VsZCB2ZXJpZnkgYWRtaW4gcm9sZSBhbmQgcm91dGUgdG8gdXNlci5jb250cm9sbGVyLmluZGV4JywgZnVuY3Rpb24oKSB7XG4gICAgICBleHBlY3Qocm91dGVyU3R1Yi5nZXRcbiAgICAgICAgLndpdGhBcmdzKCcvJywgJ2F1dGhTZXJ2aWNlLmhhc1JvbGUuYWRtaW4nLCAndXNlckN0cmwuaW5kZXgnKVxuICAgICAgICApLnRvLmhhdmUuYmVlbi5jYWxsZWRPbmNlO1xuICAgIH0pO1xuXG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdERUxFVEUgL2FwaS91c2Vycy86aWQnLCBmdW5jdGlvbigpIHtcblxuICAgIGl0KCdzaG91bGQgdmVyaWZ5IGFkbWluIHJvbGUgYW5kIHJvdXRlIHRvIHVzZXIuY29udHJvbGxlci5kZXN0cm95JywgZnVuY3Rpb24oKSB7XG4gICAgICBleHBlY3Qocm91dGVyU3R1Yi5kZWxldGVcbiAgICAgICAgLndpdGhBcmdzKCcvOmlkJywgJ2F1dGhTZXJ2aWNlLmhhc1JvbGUuYWRtaW4nLCAndXNlckN0cmwuZGVzdHJveScpXG4gICAgICAgICkudG8uaGF2ZS5iZWVuLmNhbGxlZE9uY2U7XG4gICAgfSk7XG5cbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ0dFVCAvYXBpL3VzZXJzL21lJywgZnVuY3Rpb24oKSB7XG5cbiAgICBpdCgnc2hvdWxkIGJlIGF1dGhlbnRpY2F0ZWQgYW5kIHJvdXRlIHRvIHVzZXIuY29udHJvbGxlci5tZScsIGZ1bmN0aW9uKCkge1xuICAgICAgZXhwZWN0KHJvdXRlclN0dWIuZ2V0XG4gICAgICAgIC53aXRoQXJncygnL21lJywgJ2F1dGhTZXJ2aWNlLmlzQXV0aGVudGljYXRlZCcsICd1c2VyQ3RybC5tZScpXG4gICAgICAgICkudG8uaGF2ZS5iZWVuLmNhbGxlZE9uY2U7XG4gICAgfSk7XG5cbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ1BVVCAvYXBpL3VzZXJzLzppZC9wYXNzd29yZCcsIGZ1bmN0aW9uKCkge1xuXG4gICAgaXQoJ3Nob3VsZCBiZSBhdXRoZW50aWNhdGVkIGFuZCByb3V0ZSB0byB1c2VyLmNvbnRyb2xsZXIuY2hhbmdlUGFzc3dvcmQnLCBmdW5jdGlvbigpIHtcbiAgICAgIGV4cGVjdChyb3V0ZXJTdHViLnB1dFxuICAgICAgICAud2l0aEFyZ3MoJy86aWQvcGFzc3dvcmQnLCAnYXV0aFNlcnZpY2UuaXNBdXRoZW50aWNhdGVkJywgJ3VzZXJDdHJsLmNoYW5nZVBhc3N3b3JkJylcbiAgICAgICAgKS50by5oYXZlLmJlZW4uY2FsbGVkT25jZTtcbiAgICB9KTtcblxuICB9KTtcblxuICBkZXNjcmliZSgnR0VUIC9hcGkvdXNlcnMvOmlkJywgZnVuY3Rpb24oKSB7XG5cbiAgICBpdCgnc2hvdWxkIGJlIGF1dGhlbnRpY2F0ZWQgYW5kIHJvdXRlIHRvIHVzZXIuY29udHJvbGxlci5zaG93JywgZnVuY3Rpb24oKSB7XG4gICAgICBleHBlY3Qocm91dGVyU3R1Yi5nZXRcbiAgICAgICAgLndpdGhBcmdzKCcvOmlkJywgJ2F1dGhTZXJ2aWNlLmlzQXV0aGVudGljYXRlZCcsICd1c2VyQ3RybC5zaG93JylcbiAgICAgICAgKS50by5oYXZlLmJlZW4uY2FsbGVkT25jZTtcbiAgICB9KTtcblxuICB9KTtcblxuICBkZXNjcmliZSgnUE9TVCAvYXBpL3VzZXJzJywgZnVuY3Rpb24oKSB7XG5cbiAgICBpdCgnc2hvdWxkIHJvdXRlIHRvIHVzZXIuY29udHJvbGxlci5jcmVhdGUnLCBmdW5jdGlvbigpIHtcbiAgICAgIGV4cGVjdChyb3V0ZXJTdHViLnBvc3RcbiAgICAgICAgLndpdGhBcmdzKCcvJywgJ3VzZXJDdHJsLmNyZWF0ZScpXG4gICAgICAgICkudG8uaGF2ZS5iZWVuLmNhbGxlZE9uY2U7XG4gICAgfSk7XG5cbiAgfSk7XG5cbn0pO1xuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "index.spec.js"
      ],
      "names": [],
      "mappings": "AAAA;;AAEA,IAAI,aAAa,QAAQ,YAAR,EAAsB,eAAtB,EAAb;;AAEJ,IAAI,eAAe;AACjB,SAAO,gBAAP;AACA,WAAS,kBAAT;AACA,MAAI,aAAJ;AACA,kBAAgB,yBAAhB;AACA,QAAM,eAAN;AACA,UAAQ,iBAAR;CANE;;AASJ,IAAI,kBAAkB;AACpB,8CAAkB;AAChB,WAAO,6BAAP,CADgB;GADE;AAIpB,4BAAQ,MAAM;AACZ,WAAO,yBAAyB,IAAzB,CADK;GAJM;CAAlB;;AASJ,IAAI,aAAa;AACf,OAAK,MAAM,GAAN,EAAL;AACA,OAAK,MAAM,GAAN,EAAL;AACA,QAAM,MAAM,GAAN,EAAN;AACA,UAAQ,MAAM,GAAN,EAAR;CAJE;;;AAQJ,IAAI,YAAY,WAAW,SAAX,EAAsB;AACpC,aAAW;AACT,8BAAS;AACP,aAAO,UAAP,CADO;KADA;GAAX;AAKA,uBAAqB,YAArB;AACA,6BAA2B,eAA3B;CAPc,CAAZ;;AAUJ,SAAS,kBAAT,EAA6B,YAAW;;AAEtC,KAAG,0CAAH,EAA+C,YAAW;AACxD,WAAO,SAAP,EAAkB,EAAlB,CAAqB,KAArB,CAA2B,UAA3B,EADwD;GAAX,CAA/C,CAFsC;;AAMtC,WAAS,gBAAT,EAA2B,YAAW;;AAEpC,OAAG,6DAAH,EAAkE,YAAW;AAC3E,aAAO,WAAW,GAAX,CACJ,QADI,CACK,GADL,EACU,2BADV,EACuC,gBADvC,CAAP,EAEI,EAFJ,CAEO,IAFP,CAEY,IAFZ,CAEiB,UAFjB,CAD2E;KAAX,CAAlE,CAFoC;GAAX,CAA3B,CANsC;;AAgBtC,WAAS,uBAAT,EAAkC,YAAW;;AAE3C,OAAG,+DAAH,EAAoE,YAAW;AAC7E,aAAO,WAAW,MAAX,CACJ,QADI,CACK,MADL,EACa,2BADb,EAC0C,kBAD1C,CAAP,EAEI,EAFJ,CAEO,IAFP,CAEY,IAFZ,CAEiB,UAFjB,CAD6E;KAAX,CAApE,CAF2C;GAAX,CAAlC,CAhBsC;;AA0BtC,WAAS,mBAAT,EAA8B,YAAW;;AAEvC,OAAG,yDAAH,EAA8D,YAAW;AACvE,aAAO,WAAW,GAAX,CACJ,QADI,CACK,KADL,EACY,6BADZ,EAC2C,aAD3C,CAAP,EAEI,EAFJ,CAEO,IAFP,CAEY,IAFZ,CAEiB,UAFjB,CADuE;KAAX,CAA9D,CAFuC;GAAX,CAA9B,CA1BsC;;AAoCtC,WAAS,6BAAT,EAAwC,YAAW;;AAEjD,OAAG,qEAAH,EAA0E,YAAW;AACnF,aAAO,WAAW,GAAX,CACJ,QADI,CACK,eADL,EACsB,6BADtB,EACqD,yBADrD,CAAP,EAEI,EAFJ,CAEO,IAFP,CAEY,IAFZ,CAEiB,UAFjB,CADmF;KAAX,CAA1E,CAFiD;GAAX,CAAxC,CApCsC;;AA8CtC,WAAS,oBAAT,EAA+B,YAAW;;AAExC,OAAG,2DAAH,EAAgE,YAAW;AACzE,aAAO,WAAW,GAAX,CACJ,QADI,CACK,MADL,EACa,6BADb,EAC4C,eAD5C,CAAP,EAEI,EAFJ,CAEO,IAFP,CAEY,IAFZ,CAEiB,UAFjB,CADyE;KAAX,CAAhE,CAFwC;GAAX,CAA/B,CA9CsC;;AAwDtC,WAAS,iBAAT,EAA4B,YAAW;;AAErC,OAAG,wCAAH,EAA6C,YAAW;AACtD,aAAO,WAAW,IAAX,CACJ,QADI,CACK,GADL,EACU,iBADV,CAAP,EAEI,EAFJ,CAEO,IAFP,CAEY,IAFZ,CAEiB,UAFjB,CADsD;KAAX,CAA7C,CAFqC;GAAX,CAA5B,CAxDsC;CAAX,CAA7B",
      "file": "index.spec.js",
      "sourcesContent": [
        "'use strict';\n\nvar proxyquire = require('proxyquire').noPreserveCache();\n\nvar userCtrlStub = {\n  index: 'userCtrl.index',\n  destroy: 'userCtrl.destroy',\n  me: 'userCtrl.me',\n  changePassword: 'userCtrl.changePassword',\n  show: 'userCtrl.show',\n  create: 'userCtrl.create'\n};\n\nvar authServiceStub = {\n  isAuthenticated() {\n    return 'authService.isAuthenticated';\n  },\n  hasRole(role) {\n    return 'authService.hasRole.' + role;\n  }\n};\n\nvar routerStub = {\n  get: sinon.spy(),\n  put: sinon.spy(),\n  post: sinon.spy(),\n  delete: sinon.spy()\n};\n\n// require the index with our stubbed out modules\nvar userIndex = proxyquire('./index', {\n  'express': {\n    Router() {\n      return routerStub;\n    }\n  },\n  './user.controller': userCtrlStub,\n  '../../auth/auth.service': authServiceStub\n});\n\ndescribe('User API Router:', function() {\n\n  it('should return an express router instance', function() {\n    expect(userIndex).to.equal(routerStub);\n  });\n\n  describe('GET /api/users', function() {\n\n    it('should verify admin role and route to user.controller.index', function() {\n      expect(routerStub.get\n        .withArgs('/', 'authService.hasRole.admin', 'userCtrl.index')\n        ).to.have.been.calledOnce;\n    });\n\n  });\n\n  describe('DELETE /api/users/:id', function() {\n\n    it('should verify admin role and route to user.controller.destroy', function() {\n      expect(routerStub.delete\n        .withArgs('/:id', 'authService.hasRole.admin', 'userCtrl.destroy')\n        ).to.have.been.calledOnce;\n    });\n\n  });\n\n  describe('GET /api/users/me', function() {\n\n    it('should be authenticated and route to user.controller.me', function() {\n      expect(routerStub.get\n        .withArgs('/me', 'authService.isAuthenticated', 'userCtrl.me')\n        ).to.have.been.calledOnce;\n    });\n\n  });\n\n  describe('PUT /api/users/:id/password', function() {\n\n    it('should be authenticated and route to user.controller.changePassword', function() {\n      expect(routerStub.put\n        .withArgs('/:id/password', 'authService.isAuthenticated', 'userCtrl.changePassword')\n        ).to.have.been.calledOnce;\n    });\n\n  });\n\n  describe('GET /api/users/:id', function() {\n\n    it('should be authenticated and route to user.controller.show', function() {\n      expect(routerStub.get\n        .withArgs('/:id', 'authService.isAuthenticated', 'userCtrl.show')\n        ).to.have.been.calledOnce;\n    });\n\n  });\n\n  describe('POST /api/users', function() {\n\n    it('should route to user.controller.create', function() {\n      expect(routerStub.post\n        .withArgs('/', 'userCtrl.create')\n        ).to.have.been.calledOnce;\n    });\n\n  });\n\n});\n"
      ]
    },
    "mtime": 1459628251531
  },
  "{\"filename\":\"/home/vagrant/server/api/user/index.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false}:6.7.4:test": {
    "metadata": {
      "usedHelpers": [
        "interopRequireWildcard"
      ],
      "marked": [],
      "modules": {
        "imports": [
          {
            "source": "express",
            "imported": [
              "Router"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "Router",
                "local": "Router"
              }
            ]
          },
          {
            "source": "./user.controller",
            "imported": [
              "*"
            ],
            "specifiers": [
              {
                "kind": "namespace",
                "local": "controller"
              }
            ]
          },
          {
            "source": "../../auth/auth.service",
            "imported": [
              "*"
            ],
            "specifiers": [
              {
                "kind": "namespace",
                "local": "auth"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/home/vagrant/server/api/user/index.js",
      "filenameRelative": "/home/vagrant/server/api/user/index.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMap": "both",
      "sourceMaps": "both",
      "sourceMapTarget": "index.js",
      "sourceFileName": "index.js",
      "babelrc": false,
      "sourceType": "module",
      "moduleIds": false,
      "passPerPreset": false,
      "basename": "index"
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _express = require('express');\n\nvar _user = require('./user.controller');\n\nvar controller = _interopRequireWildcard(_user);\n\nvar _auth = require('../../auth/auth.service');\n\nvar auth = _interopRequireWildcard(_auth);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar router = new _express.Router();\n\nrouter.get('/', auth.hasRole('admin'), controller.index);\nrouter.delete('/:id', auth.hasRole('admin'), controller.destroy);\nrouter.get('/me', auth.isAuthenticated(), controller.me);\nrouter.put('/:id/password', auth.isAuthenticated(), controller.changePassword);\nrouter.get('/:id', auth.isAuthenticated(), controller.show);\nrouter.post('/', controller.create);\n\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBOztBQUNBOztJQUFZOztBQUNaOztJQUFZOzs7O0FBRVosSUFBSSxTQUFTLHFCQUFUOztBQUVKLE9BQU8sR0FBUCxDQUFXLEdBQVgsRUFBZ0IsS0FBSyxPQUFMLENBQWEsT0FBYixDQUFoQixFQUF1QyxXQUFXLEtBQVgsQ0FBdkM7QUFDQSxPQUFPLE1BQVAsQ0FBYyxNQUFkLEVBQXNCLEtBQUssT0FBTCxDQUFhLE9BQWIsQ0FBdEIsRUFBNkMsV0FBVyxPQUFYLENBQTdDO0FBQ0EsT0FBTyxHQUFQLENBQVcsS0FBWCxFQUFrQixLQUFLLGVBQUwsRUFBbEIsRUFBMEMsV0FBVyxFQUFYLENBQTFDO0FBQ0EsT0FBTyxHQUFQLENBQVcsZUFBWCxFQUE0QixLQUFLLGVBQUwsRUFBNUIsRUFBb0QsV0FBVyxjQUFYLENBQXBEO0FBQ0EsT0FBTyxHQUFQLENBQVcsTUFBWCxFQUFtQixLQUFLLGVBQUwsRUFBbkIsRUFBMkMsV0FBVyxJQUFYLENBQTNDO0FBQ0EsT0FBTyxJQUFQLENBQVksR0FBWixFQUFpQixXQUFXLE1BQVgsQ0FBakI7O0FBRUEsT0FBTyxPQUFQLEdBQWlCLE1BQWpCIiwiZmlsZSI6ImluZGV4LmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQge1JvdXRlcn0gZnJvbSAnZXhwcmVzcyc7XG5pbXBvcnQgKiBhcyBjb250cm9sbGVyIGZyb20gJy4vdXNlci5jb250cm9sbGVyJztcbmltcG9ydCAqIGFzIGF1dGggZnJvbSAnLi4vLi4vYXV0aC9hdXRoLnNlcnZpY2UnO1xuXG52YXIgcm91dGVyID0gbmV3IFJvdXRlcigpO1xuXG5yb3V0ZXIuZ2V0KCcvJywgYXV0aC5oYXNSb2xlKCdhZG1pbicpLCBjb250cm9sbGVyLmluZGV4KTtcbnJvdXRlci5kZWxldGUoJy86aWQnLCBhdXRoLmhhc1JvbGUoJ2FkbWluJyksIGNvbnRyb2xsZXIuZGVzdHJveSk7XG5yb3V0ZXIuZ2V0KCcvbWUnLCBhdXRoLmlzQXV0aGVudGljYXRlZCgpLCBjb250cm9sbGVyLm1lKTtcbnJvdXRlci5wdXQoJy86aWQvcGFzc3dvcmQnLCBhdXRoLmlzQXV0aGVudGljYXRlZCgpLCBjb250cm9sbGVyLmNoYW5nZVBhc3N3b3JkKTtcbnJvdXRlci5nZXQoJy86aWQnLCBhdXRoLmlzQXV0aGVudGljYXRlZCgpLCBjb250cm9sbGVyLnNob3cpO1xucm91dGVyLnBvc3QoJy8nLCBjb250cm9sbGVyLmNyZWF0ZSk7XG5cbm1vZHVsZS5leHBvcnRzID0gcm91dGVyO1xuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [],
      "mappings": "AAAA;;AAEA;;AACA;;IAAY;;AACZ;;IAAY;;;;AAEZ,IAAI,SAAS,qBAAT;;AAEJ,OAAO,GAAP,CAAW,GAAX,EAAgB,KAAK,OAAL,CAAa,OAAb,CAAhB,EAAuC,WAAW,KAAX,CAAvC;AACA,OAAO,MAAP,CAAc,MAAd,EAAsB,KAAK,OAAL,CAAa,OAAb,CAAtB,EAA6C,WAAW,OAAX,CAA7C;AACA,OAAO,GAAP,CAAW,KAAX,EAAkB,KAAK,eAAL,EAAlB,EAA0C,WAAW,EAAX,CAA1C;AACA,OAAO,GAAP,CAAW,eAAX,EAA4B,KAAK,eAAL,EAA5B,EAAoD,WAAW,cAAX,CAApD;AACA,OAAO,GAAP,CAAW,MAAX,EAAmB,KAAK,eAAL,EAAnB,EAA2C,WAAW,IAAX,CAA3C;AACA,OAAO,IAAP,CAAY,GAAZ,EAAiB,WAAW,MAAX,CAAjB;;AAEA,OAAO,OAAP,GAAiB,MAAjB",
      "file": "index.js",
      "sourcesContent": [
        "'use strict';\n\nimport {Router} from 'express';\nimport * as controller from './user.controller';\nimport * as auth from '../../auth/auth.service';\n\nvar router = new Router();\n\nrouter.get('/', auth.hasRole('admin'), controller.index);\nrouter.delete('/:id', auth.hasRole('admin'), controller.destroy);\nrouter.get('/me', auth.isAuthenticated(), controller.me);\nrouter.put('/:id/password', auth.isAuthenticated(), controller.changePassword);\nrouter.get('/:id', auth.isAuthenticated(), controller.show);\nrouter.post('/', controller.create);\n\nmodule.exports = router;\n"
      ]
    },
    "mtime": 1459628251531
  },
  "{\"filename\":\"/home/vagrant/server/api/user/user.controller.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false}:6.7.4:test": {
    "metadata": {
      "usedHelpers": [
        "interopRequireDefault"
      ],
      "marked": [],
      "modules": {
        "imports": [
          {
            "source": "./user.model",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "User"
              }
            ]
          },
          {
            "source": "passport",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "passport"
              }
            ]
          },
          {
            "source": "../../config/environment",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "config"
              }
            ]
          },
          {
            "source": "jsonwebtoken",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "jwt"
              }
            ]
          }
        ],
        "exports": {
          "exported": [
            "index",
            "req",
            "res",
            "create",
            "req",
            "res",
            "next",
            "show",
            "req",
            "res",
            "next",
            "destroy",
            "req",
            "res",
            "changePassword",
            "req",
            "res",
            "next",
            "me",
            "req",
            "res",
            "next",
            "authCallback",
            "req",
            "res",
            "next"
          ],
          "specifiers": [
            {
              "kind": "local",
              "local": "index",
              "exported": "index"
            },
            {
              "kind": "local",
              "local": "req",
              "exported": "req"
            },
            {
              "kind": "local",
              "local": "res",
              "exported": "res"
            },
            {
              "kind": "local",
              "local": "create",
              "exported": "create"
            },
            {
              "kind": "local",
              "local": "req",
              "exported": "req"
            },
            {
              "kind": "local",
              "local": "res",
              "exported": "res"
            },
            {
              "kind": "local",
              "local": "next",
              "exported": "next"
            },
            {
              "kind": "local",
              "local": "show",
              "exported": "show"
            },
            {
              "kind": "local",
              "local": "req",
              "exported": "req"
            },
            {
              "kind": "local",
              "local": "res",
              "exported": "res"
            },
            {
              "kind": "local",
              "local": "next",
              "exported": "next"
            },
            {
              "kind": "local",
              "local": "destroy",
              "exported": "destroy"
            },
            {
              "kind": "local",
              "local": "req",
              "exported": "req"
            },
            {
              "kind": "local",
              "local": "res",
              "exported": "res"
            },
            {
              "kind": "local",
              "local": "changePassword",
              "exported": "changePassword"
            },
            {
              "kind": "local",
              "local": "req",
              "exported": "req"
            },
            {
              "kind": "local",
              "local": "res",
              "exported": "res"
            },
            {
              "kind": "local",
              "local": "next",
              "exported": "next"
            },
            {
              "kind": "local",
              "local": "me",
              "exported": "me"
            },
            {
              "kind": "local",
              "local": "req",
              "exported": "req"
            },
            {
              "kind": "local",
              "local": "res",
              "exported": "res"
            },
            {
              "kind": "local",
              "local": "next",
              "exported": "next"
            },
            {
              "kind": "local",
              "local": "authCallback",
              "exported": "authCallback"
            },
            {
              "kind": "local",
              "local": "req",
              "exported": "req"
            },
            {
              "kind": "local",
              "local": "res",
              "exported": "res"
            },
            {
              "kind": "local",
              "local": "next",
              "exported": "next"
            }
          ]
        }
      }
    },
    "options": {
      "filename": "/home/vagrant/server/api/user/user.controller.js",
      "filenameRelative": "/home/vagrant/server/api/user/user.controller.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMap": "both",
      "sourceMaps": "both",
      "sourceMapTarget": "user.controller.js",
      "sourceFileName": "user.controller.js",
      "babelrc": false,
      "sourceType": "module",
      "moduleIds": false,
      "passPerPreset": false,
      "basename": "user.controller"
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.index = index;\nexports.create = create;\nexports.show = show;\nexports.destroy = destroy;\nexports.changePassword = changePassword;\nexports.me = me;\nexports.authCallback = authCallback;\n\nvar _user = require('./user.model');\n\nvar _user2 = _interopRequireDefault(_user);\n\nvar _passport = require('passport');\n\nvar _passport2 = _interopRequireDefault(_passport);\n\nvar _environment = require('../../config/environment');\n\nvar _environment2 = _interopRequireDefault(_environment);\n\nvar _jsonwebtoken = require('jsonwebtoken');\n\nvar _jsonwebtoken2 = _interopRequireDefault(_jsonwebtoken);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction validationError(res, statusCode) {\n  statusCode = statusCode || 422;\n  return function (err) {\n    res.status(statusCode).json(err);\n  };\n}\n\nfunction handleError(res, statusCode) {\n  statusCode = statusCode || 500;\n  return function (err) {\n    res.status(statusCode).send(err);\n  };\n}\n\n/**\n * Get list of users\n * restriction: 'admin'\n */\nfunction index(req, res) {\n  return _user2.default.find({}, '-salt -password').exec().then(function (users) {\n    res.status(200).json(users);\n  }).catch(handleError(res));\n}\n\n/**\n * Creates a new user\n */\nfunction create(req, res, next) {\n  var newUser = new _user2.default(req.body);\n  newUser.provider = 'local';\n  newUser.role = 'user';\n  newUser.save().then(function (user) {\n    var token = _jsonwebtoken2.default.sign({ _id: user._id }, _environment2.default.secrets.session, {\n      expiresIn: 60 * 60 * 5\n    });\n    res.json({ token: token });\n  }).catch(validationError(res));\n}\n\n/**\n * Get a single user\n */\nfunction show(req, res, next) {\n  var userId = req.params.id;\n\n  return _user2.default.findById(userId).exec().then(function (user) {\n    if (!user) {\n      return res.status(404).end();\n    }\n    res.json(user.profile);\n  }).catch(function (err) {\n    return next(err);\n  });\n}\n\n/**\n * Deletes a user\n * restriction: 'admin'\n */\nfunction destroy(req, res) {\n  return _user2.default.findByIdAndRemove(req.params.id).exec().then(function () {\n    res.status(204).end();\n  }).catch(handleError(res));\n}\n\n/**\n * Change a users password\n */\nfunction changePassword(req, res, next) {\n  var userId = req.user._id;\n  var oldPass = String(req.body.oldPassword);\n  var newPass = String(req.body.newPassword);\n\n  return _user2.default.findById(userId).exec().then(function (user) {\n    if (user.authenticate(oldPass)) {\n      user.password = newPass;\n      return user.save().then(function () {\n        res.status(204).end();\n      }).catch(validationError(res));\n    } else {\n      return res.status(403).end();\n    }\n  });\n}\n\n/**\n * Get my info\n */\nfunction me(req, res, next) {\n  var userId = req.user._id;\n\n  return _user2.default.findOne({ _id: userId }, '-salt -password').exec().then(function (user) {\n    // don't ever give out the password or salt\n    if (!user) {\n      return res.status(401).end();\n    }\n    res.json(user);\n  }).catch(function (err) {\n    return next(err);\n  });\n}\n\n/**\n * Authentication callback\n */\nfunction authCallback(req, res, next) {\n  res.redirect('/');\n}\n//# sourceMappingURL=data:application/json;base64,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QVAsQ0FQVCxDQUhpQztDQUE1Qjs7Ozs7QUFnQkEsU0FBUyxZQUFULENBQXNCLEdBQXRCLEVBQTJCLEdBQTNCLEVBQWdDLElBQWhDLEVBQXNDO0FBQzNDLE1BQUksUUFBSixDQUFhLEdBQWIsRUFEMkM7Q0FBdEMiLCJmaWxlIjoidXNlci5jb250cm9sbGVyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgVXNlciBmcm9tICcuL3VzZXIubW9kZWwnO1xuaW1wb3J0IHBhc3Nwb3J0IGZyb20gJ3Bhc3Nwb3J0JztcbmltcG9ydCBjb25maWcgZnJvbSAnLi4vLi4vY29uZmlnL2Vudmlyb25tZW50JztcbmltcG9ydCBqd3QgZnJvbSAnanNvbndlYnRva2VuJztcblxuZnVuY3Rpb24gdmFsaWRhdGlvbkVycm9yKHJlcywgc3RhdHVzQ29kZSkge1xuICBzdGF0dXNDb2RlID0gc3RhdHVzQ29kZSB8fCA0MjI7XG4gIHJldHVybiBmdW5jdGlvbihlcnIpIHtcbiAgICByZXMuc3RhdHVzKHN0YXR1c0NvZGUpLmpzb24oZXJyKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBoYW5kbGVFcnJvcihyZXMsIHN0YXR1c0NvZGUpIHtcbiAgc3RhdHVzQ29kZSA9IHN0YXR1c0NvZGUgfHwgNTAwO1xuICByZXR1cm4gZnVuY3Rpb24oZXJyKSB7XG4gICAgcmVzLnN0YXR1cyhzdGF0dXNDb2RlKS5zZW5kKGVycik7XG4gIH07XG59XG5cbi8qKlxuICogR2V0IGxpc3Qgb2YgdXNlcnNcbiAqIHJlc3RyaWN0aW9uOiAnYWRtaW4nXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbmRleChyZXEsIHJlcykge1xuICByZXR1cm4gVXNlci5maW5kKHt9LCAnLXNhbHQgLXBhc3N3b3JkJykuZXhlYygpXG4gICAgLnRoZW4odXNlcnMgPT4ge1xuICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24odXNlcnMpO1xuICAgIH0pXG4gICAgLmNhdGNoKGhhbmRsZUVycm9yKHJlcykpO1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgdXNlclxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlKHJlcSwgcmVzLCBuZXh0KSB7XG4gIHZhciBuZXdVc2VyID0gbmV3IFVzZXIocmVxLmJvZHkpO1xuICBuZXdVc2VyLnByb3ZpZGVyID0gJ2xvY2FsJztcbiAgbmV3VXNlci5yb2xlID0gJ3VzZXInO1xuICBuZXdVc2VyLnNhdmUoKVxuICAgIC50aGVuKGZ1bmN0aW9uKHVzZXIpIHtcbiAgICAgIHZhciB0b2tlbiA9IGp3dC5zaWduKHsgX2lkOiB1c2VyLl9pZCB9LCBjb25maWcuc2VjcmV0cy5zZXNzaW9uLCB7XG4gICAgICAgIGV4cGlyZXNJbjogNjAgKiA2MCAqIDVcbiAgICAgIH0pO1xuICAgICAgcmVzLmpzb24oeyB0b2tlbiB9KTtcbiAgICB9KVxuICAgIC5jYXRjaCh2YWxpZGF0aW9uRXJyb3IocmVzKSk7XG59XG5cbi8qKlxuICogR2V0IGEgc2luZ2xlIHVzZXJcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNob3cocmVxLCByZXMsIG5leHQpIHtcbiAgdmFyIHVzZXJJZCA9IHJlcS5wYXJhbXMuaWQ7XG5cbiAgcmV0dXJuIFVzZXIuZmluZEJ5SWQodXNlcklkKS5leGVjKClcbiAgICAudGhlbih1c2VyID0+IHtcbiAgICAgIGlmICghdXNlcikge1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDQpLmVuZCgpO1xuICAgICAgfVxuICAgICAgcmVzLmpzb24odXNlci5wcm9maWxlKTtcbiAgICB9KVxuICAgIC5jYXRjaChlcnIgPT4gbmV4dChlcnIpKTtcbn1cblxuLyoqXG4gKiBEZWxldGVzIGEgdXNlclxuICogcmVzdHJpY3Rpb246ICdhZG1pbidcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRlc3Ryb3kocmVxLCByZXMpIHtcbiAgcmV0dXJuIFVzZXIuZmluZEJ5SWRBbmRSZW1vdmUocmVxLnBhcmFtcy5pZCkuZXhlYygpXG4gICAgLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICByZXMuc3RhdHVzKDIwNCkuZW5kKCk7XG4gICAgfSlcbiAgICAuY2F0Y2goaGFuZGxlRXJyb3IocmVzKSk7XG59XG5cbi8qKlxuICogQ2hhbmdlIGEgdXNlcnMgcGFzc3dvcmRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNoYW5nZVBhc3N3b3JkKHJlcSwgcmVzLCBuZXh0KSB7XG4gIHZhciB1c2VySWQgPSByZXEudXNlci5faWQ7XG4gIHZhciBvbGRQYXNzID0gU3RyaW5nKHJlcS5ib2R5Lm9sZFBhc3N3b3JkKTtcbiAgdmFyIG5ld1Bhc3MgPSBTdHJpbmcocmVxLmJvZHkubmV3UGFzc3dvcmQpO1xuXG4gIHJldHVybiBVc2VyLmZpbmRCeUlkKHVzZXJJZCkuZXhlYygpXG4gICAgLnRoZW4odXNlciA9PiB7XG4gICAgICBpZiAodXNlci5hdXRoZW50aWNhdGUob2xkUGFzcykpIHtcbiAgICAgICAgdXNlci5wYXNzd29yZCA9IG5ld1Bhc3M7XG4gICAgICAgIHJldHVybiB1c2VyLnNhdmUoKVxuICAgICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjA0KS5lbmQoKTtcbiAgICAgICAgICB9KVxuICAgICAgICAgIC5jYXRjaCh2YWxpZGF0aW9uRXJyb3IocmVzKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDMpLmVuZCgpO1xuICAgICAgfVxuICAgIH0pO1xufVxuXG4vKipcbiAqIEdldCBteSBpbmZvXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtZShyZXEsIHJlcywgbmV4dCkge1xuICB2YXIgdXNlcklkID0gcmVxLnVzZXIuX2lkO1xuXG4gIHJldHVybiBVc2VyLmZpbmRPbmUoeyBfaWQ6IHVzZXJJZCB9LCAnLXNhbHQgLXBhc3N3b3JkJykuZXhlYygpXG4gICAgLnRoZW4odXNlciA9PiB7IC8vIGRvbid0IGV2ZXIgZ2l2ZSBvdXQgdGhlIHBhc3N3b3JkIG9yIHNhbHRcbiAgICAgIGlmICghdXNlcikge1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDEpLmVuZCgpO1xuICAgICAgfVxuICAgICAgcmVzLmpzb24odXNlcik7XG4gICAgfSlcbiAgICAuY2F0Y2goZXJyID0+IG5leHQoZXJyKSk7XG59XG5cbi8qKlxuICogQXV0aGVudGljYXRpb24gY2FsbGJhY2tcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGF1dGhDYWxsYmFjayhyZXEsIHJlcywgbmV4dCkge1xuICByZXMucmVkaXJlY3QoJy8nKTtcbn1cbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "user.controller.js"
      ],
      "names": [],
      "mappings": "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",
      "file": "user.controller.js",
      "sourcesContent": [
        "'use strict';\n\nimport User from './user.model';\nimport passport from 'passport';\nimport config from '../../config/environment';\nimport jwt from 'jsonwebtoken';\n\nfunction validationError(res, statusCode) {\n  statusCode = statusCode || 422;\n  return function(err) {\n    res.status(statusCode).json(err);\n  }\n}\n\nfunction handleError(res, statusCode) {\n  statusCode = statusCode || 500;\n  return function(err) {\n    res.status(statusCode).send(err);\n  };\n}\n\n/**\n * Get list of users\n * restriction: 'admin'\n */\nexport function index(req, res) {\n  return User.find({}, '-salt -password').exec()\n    .then(users => {\n      res.status(200).json(users);\n    })\n    .catch(handleError(res));\n}\n\n/**\n * Creates a new user\n */\nexport function create(req, res, next) {\n  var newUser = new User(req.body);\n  newUser.provider = 'local';\n  newUser.role = 'user';\n  newUser.save()\n    .then(function(user) {\n      var token = jwt.sign({ _id: user._id }, config.secrets.session, {\n        expiresIn: 60 * 60 * 5\n      });\n      res.json({ token });\n    })\n    .catch(validationError(res));\n}\n\n/**\n * Get a single user\n */\nexport function show(req, res, next) {\n  var userId = req.params.id;\n\n  return User.findById(userId).exec()\n    .then(user => {\n      if (!user) {\n        return res.status(404).end();\n      }\n      res.json(user.profile);\n    })\n    .catch(err => next(err));\n}\n\n/**\n * Deletes a user\n * restriction: 'admin'\n */\nexport function destroy(req, res) {\n  return User.findByIdAndRemove(req.params.id).exec()\n    .then(function() {\n      res.status(204).end();\n    })\n    .catch(handleError(res));\n}\n\n/**\n * Change a users password\n */\nexport function changePassword(req, res, next) {\n  var userId = req.user._id;\n  var oldPass = String(req.body.oldPassword);\n  var newPass = String(req.body.newPassword);\n\n  return User.findById(userId).exec()\n    .then(user => {\n      if (user.authenticate(oldPass)) {\n        user.password = newPass;\n        return user.save()\n          .then(() => {\n            res.status(204).end();\n          })\n          .catch(validationError(res));\n      } else {\n        return res.status(403).end();\n      }\n    });\n}\n\n/**\n * Get my info\n */\nexport function me(req, res, next) {\n  var userId = req.user._id;\n\n  return User.findOne({ _id: userId }, '-salt -password').exec()\n    .then(user => { // don't ever give out the password or salt\n      if (!user) {\n        return res.status(401).end();\n      }\n      res.json(user);\n    })\n    .catch(err => next(err));\n}\n\n/**\n * Authentication callback\n */\nexport function authCallback(req, res, next) {\n  res.redirect('/');\n}\n"
      ]
    },
    "mtime": 1459628251531
  },
  "{\"filename\":\"/home/vagrant/server/api/user/user.model.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false}:6.7.4:test": {
    "metadata": {
      "usedHelpers": [
        "interopRequireDefault"
      ],
      "marked": [],
      "modules": {
        "imports": [
          {
            "source": "crypto",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "crypto"
              }
            ]
          },
          {
            "source": "mongoose",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "mongoose"
              }
            ]
          },
          {
            "source": "mongoose",
            "imported": [
              "Schema"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "Schema",
                "local": "Schema"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/home/vagrant/server/api/user/user.model.js",
      "filenameRelative": "/home/vagrant/server/api/user/user.model.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMap": "both",
      "sourceMaps": "both",
      "sourceMapTarget": "user.model.js",
      "sourceFileName": "user.model.js",
      "babelrc": false,
      "sourceType": "module",
      "moduleIds": false,
      "passPerPreset": false,
      "basename": "user.model"
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _crypto = require('crypto');\n\nvar _crypto2 = _interopRequireDefault(_crypto);\n\nvar _mongoose = require('mongoose');\n\nvar _mongoose2 = _interopRequireDefault(_mongoose);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n_mongoose2.default.Promise = require('bluebird');\n\n\nvar authTypes = ['github', 'twitter', 'facebook', 'google'];\n\nvar UserSchema = new _mongoose.Schema({\n  name: String,\n  email: {\n    type: String,\n    lowercase: true\n  },\n  role: {\n    type: String,\n    default: 'user'\n  },\n  password: String,\n  provider: String,\n  salt: String,\n  facebook: {},\n  twitter: {},\n  google: {},\n  github: {}\n});\n\n/**\n * Virtuals\n */\n\n// Public profile information\nUserSchema.virtual('profile').get(function () {\n  return {\n    'name': this.name,\n    'role': this.role\n  };\n});\n\n// Non-sensitive info we'll be putting in the token\nUserSchema.virtual('token').get(function () {\n  return {\n    '_id': this._id,\n    'role': this.role\n  };\n});\n\n/**\n * Validations\n */\n\n// Validate empty email\nUserSchema.path('email').validate(function (email) {\n  if (authTypes.indexOf(this.provider) !== -1) {\n    return true;\n  }\n  return email.length;\n}, 'Email cannot be blank');\n\n// Validate empty password\nUserSchema.path('password').validate(function (password) {\n  if (authTypes.indexOf(this.provider) !== -1) {\n    return true;\n  }\n  return password.length;\n}, 'Password cannot be blank');\n\n// Validate email is not taken\nUserSchema.path('email').validate(function (value, respond) {\n  var self = this;\n  return this.constructor.findOne({ email: value }).exec().then(function (user) {\n    if (user) {\n      if (self.id === user.id) {\n        return respond(true);\n      }\n      return respond(false);\n    }\n    return respond(true);\n  }).catch(function (err) {\n    throw err;\n  });\n}, 'The specified email address is already in use.');\n\nvar validatePresenceOf = function validatePresenceOf(value) {\n  return value && value.length;\n};\n\n/**\n * Pre-save hook\n */\nUserSchema.pre('save', function (next) {\n  var _this = this;\n\n  // Handle new/update passwords\n  if (!this.isModified('password')) {\n    return next();\n  }\n\n  if (!validatePresenceOf(this.password) && authTypes.indexOf(this.provider) === -1) {\n    return next(new Error('Invalid password'));\n  }\n\n  // Make salt with a callback\n  this.makeSalt(function (saltErr, salt) {\n    if (saltErr) {\n      return next(saltErr);\n    }\n    _this.salt = salt;\n    _this.encryptPassword(_this.password, function (encryptErr, hashedPassword) {\n      if (encryptErr) {\n        return next(encryptErr);\n      }\n      _this.password = hashedPassword;\n      next();\n    });\n  });\n});\n\n/**\n * Methods\n */\nUserSchema.methods = {\n  /**\n   * Authenticate - check if the passwords are the same\n   *\n   * @param {String} password\n   * @param {Function} callback\n   * @return {Boolean}\n   * @api public\n   */\n\n  authenticate: function authenticate(password, callback) {\n    var _this2 = this;\n\n    if (!callback) {\n      return this.password === this.encryptPassword(password);\n    }\n\n    this.encryptPassword(password, function (err, pwdGen) {\n      if (err) {\n        return callback(err);\n      }\n\n      if (_this2.password === pwdGen) {\n        callback(null, true);\n      } else {\n        callback(null, false);\n      }\n    });\n  },\n\n\n  /**\n   * Make salt\n   *\n   * @param {Number} byteSize Optional salt byte size, default to 16\n   * @param {Function} callback\n   * @return {String}\n   * @api public\n   */\n  makeSalt: function makeSalt(byteSize, callback) {\n    var defaultByteSize = 16;\n\n    if (typeof arguments[0] === 'function') {\n      callback = arguments[0];\n      byteSize = defaultByteSize;\n    } else if (typeof arguments[1] === 'function') {\n      callback = arguments[1];\n    }\n\n    if (!byteSize) {\n      byteSize = defaultByteSize;\n    }\n\n    if (!callback) {\n      return _crypto2.default.randomBytes(byteSize).toString('base64');\n    }\n\n    return _crypto2.default.randomBytes(byteSize, function (err, salt) {\n      if (err) {\n        callback(err);\n      } else {\n        callback(null, salt.toString('base64'));\n      }\n    });\n  },\n\n\n  /**\n   * Encrypt password\n   *\n   * @param {String} password\n   * @param {Function} callback\n   * @return {String}\n   * @api public\n   */\n  encryptPassword: function encryptPassword(password, callback) {\n    if (!password || !this.salt) {\n      return null;\n    }\n\n    var defaultIterations = 10000;\n    var defaultKeyLength = 64;\n    var salt = new Buffer(this.salt, 'base64');\n\n    if (!callback) {\n      return _crypto2.default.pbkdf2Sync(password, salt, defaultIterations, defaultKeyLength).toString('base64');\n    }\n\n    return _crypto2.default.pbkdf2(password, salt, defaultIterations, defaultKeyLength, function (err, key) {\n      if (err) {\n        callback(err);\n      } else {\n        callback(null, key.toString('base64'));\n      }\n    });\n  }\n};\n\nexports.default = _mongoose2.default.model('User', UserSchema);\n//# sourceMappingURL=data:application/json;base64,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LEVBQ08sUUFEUCxDQUNnQixRQURoQixDQUFQLENBRGE7S0FBZjs7QUFLQSxXQUFPLGlCQUFPLE1BQVAsQ0FBYyxRQUFkLEVBQXdCLElBQXhCLEVBQThCLGlCQUE5QixFQUFpRCxnQkFBakQsRUFBbUUsVUFBQyxHQUFELEVBQU0sR0FBTixFQUFjO0FBQ3RGLFVBQUksR0FBSixFQUFTO0FBQ1AsaUJBQVMsR0FBVCxFQURPO09BQVQsTUFFTztBQUNMLGlCQUFTLElBQVQsRUFBZSxJQUFJLFFBQUosQ0FBYSxRQUFiLENBQWYsRUFESztPQUZQO0tBRHdFLENBQTFFLENBZGtDO0dBdEVqQjtDQUFyQjs7a0JBOEZlLG1CQUFTLEtBQVQsQ0FBZSxNQUFmLEVBQXVCLFVBQXZCIiwiZmlsZSI6InVzZXIubW9kZWwuanMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbmltcG9ydCBjcnlwdG8gZnJvbSAnY3J5cHRvJztcbmltcG9ydCBtb25nb29zZSBmcm9tICdtb25nb29zZSc7XG5tb25nb29zZS5Qcm9taXNlID0gcmVxdWlyZSgnYmx1ZWJpcmQnKTtcbmltcG9ydCB7U2NoZW1hfSBmcm9tICdtb25nb29zZSc7XG5cbmNvbnN0IGF1dGhUeXBlcyA9IFsnZ2l0aHViJywgJ3R3aXR0ZXInLCAnZmFjZWJvb2snLCAnZ29vZ2xlJ107XG5cbnZhciBVc2VyU2NoZW1hID0gbmV3IFNjaGVtYSh7XG4gIG5hbWU6IFN0cmluZyxcbiAgZW1haWw6IHtcbiAgICB0eXBlOiBTdHJpbmcsXG4gICAgbG93ZXJjYXNlOiB0cnVlXG4gIH0sXG4gIHJvbGU6IHtcbiAgICB0eXBlOiBTdHJpbmcsXG4gICAgZGVmYXVsdDogJ3VzZXInXG4gIH0sXG4gIHBhc3N3b3JkOiBTdHJpbmcsXG4gIHByb3ZpZGVyOiBTdHJpbmcsXG4gIHNhbHQ6IFN0cmluZyxcbiAgZmFjZWJvb2s6IHt9LFxuICB0d2l0dGVyOiB7fSxcbiAgZ29vZ2xlOiB7fSxcbiAgZ2l0aHViOiB7fVxufSk7XG5cbi8qKlxuICogVmlydHVhbHNcbiAqL1xuXG4vLyBQdWJsaWMgcHJvZmlsZSBpbmZvcm1hdGlvblxuVXNlclNjaGVtYVxuICAudmlydHVhbCgncHJvZmlsZScpXG4gIC5nZXQoZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICduYW1lJzogdGhpcy5uYW1lLFxuICAgICAgJ3JvbGUnOiB0aGlzLnJvbGVcbiAgICB9O1xuICB9KTtcblxuLy8gTm9uLXNlbnNpdGl2ZSBpbmZvIHdlJ2xsIGJlIHB1dHRpbmcgaW4gdGhlIHRva2VuXG5Vc2VyU2NoZW1hXG4gIC52aXJ0dWFsKCd0b2tlbicpXG4gIC5nZXQoZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICdfaWQnOiB0aGlzLl9pZCxcbiAgICAgICdyb2xlJzogdGhpcy5yb2xlXG4gICAgfTtcbiAgfSk7XG5cbi8qKlxuICogVmFsaWRhdGlvbnNcbiAqL1xuXG4vLyBWYWxpZGF0ZSBlbXB0eSBlbWFpbFxuVXNlclNjaGVtYVxuICAucGF0aCgnZW1haWwnKVxuICAudmFsaWRhdGUoZnVuY3Rpb24oZW1haWwpIHtcbiAgICBpZiAoYXV0aFR5cGVzLmluZGV4T2YodGhpcy5wcm92aWRlcikgIT09IC0xKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGVtYWlsLmxlbmd0aDtcbiAgfSwgJ0VtYWlsIGNhbm5vdCBiZSBibGFuaycpO1xuXG4vLyBWYWxpZGF0ZSBlbXB0eSBwYXNzd29yZFxuVXNlclNjaGVtYVxuICAucGF0aCgncGFzc3dvcmQnKVxuICAudmFsaWRhdGUoZnVuY3Rpb24ocGFzc3dvcmQpIHtcbiAgICBpZiAoYXV0aFR5cGVzLmluZGV4T2YodGhpcy5wcm92aWRlcikgIT09IC0xKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIHBhc3N3b3JkLmxlbmd0aDtcbiAgfSwgJ1Bhc3N3b3JkIGNhbm5vdCBiZSBibGFuaycpO1xuXG4vLyBWYWxpZGF0ZSBlbWFpbCBpcyBub3QgdGFrZW5cblVzZXJTY2hlbWFcbiAgLnBhdGgoJ2VtYWlsJylcbiAgLnZhbGlkYXRlKGZ1bmN0aW9uKHZhbHVlLCByZXNwb25kKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHJldHVybiB0aGlzLmNvbnN0cnVjdG9yLmZpbmRPbmUoeyBlbWFpbDogdmFsdWUgfSkuZXhlYygpXG4gICAgICAudGhlbihmdW5jdGlvbih1c2VyKSB7XG4gICAgICAgIGlmICh1c2VyKSB7XG4gICAgICAgICAgaWYgKHNlbGYuaWQgPT09IHVzZXIuaWQpIHtcbiAgICAgICAgICAgIHJldHVybiByZXNwb25kKHRydWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gcmVzcG9uZChmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3BvbmQodHJ1ZSk7XG4gICAgICB9KVxuICAgICAgLmNhdGNoKGZ1bmN0aW9uKGVycikge1xuICAgICAgICB0aHJvdyBlcnI7XG4gICAgICB9KTtcbiAgfSwgJ1RoZSBzcGVjaWZpZWQgZW1haWwgYWRkcmVzcyBpcyBhbHJlYWR5IGluIHVzZS4nKTtcblxudmFyIHZhbGlkYXRlUHJlc2VuY2VPZiA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZSAmJiB2YWx1ZS5sZW5ndGg7XG59O1xuXG4vKipcbiAqIFByZS1zYXZlIGhvb2tcbiAqL1xuVXNlclNjaGVtYVxuICAucHJlKCdzYXZlJywgZnVuY3Rpb24obmV4dCkge1xuICAgIC8vIEhhbmRsZSBuZXcvdXBkYXRlIHBhc3N3b3Jkc1xuICAgIGlmICghdGhpcy5pc01vZGlmaWVkKCdwYXNzd29yZCcpKSB7XG4gICAgICByZXR1cm4gbmV4dCgpO1xuICAgIH1cblxuICAgIGlmICghdmFsaWRhdGVQcmVzZW5jZU9mKHRoaXMucGFzc3dvcmQpICYmIGF1dGhUeXBlcy5pbmRleE9mKHRoaXMucHJvdmlkZXIpID09PSAtMSkge1xuICAgICAgcmV0dXJuIG5leHQobmV3IEVycm9yKCdJbnZhbGlkIHBhc3N3b3JkJykpO1xuICAgIH1cblxuICAgIC8vIE1ha2Ugc2FsdCB3aXRoIGEgY2FsbGJhY2tcbiAgICB0aGlzLm1ha2VTYWx0KChzYWx0RXJyLCBzYWx0KSA9PiB7XG4gICAgICBpZiAoc2FsdEVycikge1xuICAgICAgICByZXR1cm4gbmV4dChzYWx0RXJyKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuc2FsdCA9IHNhbHQ7XG4gICAgICB0aGlzLmVuY3J5cHRQYXNzd29yZCh0aGlzLnBhc3N3b3JkLCAoZW5jcnlwdEVyciwgaGFzaGVkUGFzc3dvcmQpID0+IHtcbiAgICAgICAgaWYgKGVuY3J5cHRFcnIpIHtcbiAgICAgICAgICByZXR1cm4gbmV4dChlbmNyeXB0RXJyKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnBhc3N3b3JkID0gaGFzaGVkUGFzc3dvcmQ7XG4gICAgICAgIG5leHQoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcblxuLyoqXG4gKiBNZXRob2RzXG4gKi9cblVzZXJTY2hlbWEubWV0aG9kcyA9IHtcbiAgLyoqXG4gICAqIEF1dGhlbnRpY2F0ZSAtIGNoZWNrIGlmIHRoZSBwYXNzd29yZHMgYXJlIHRoZSBzYW1lXG4gICAqXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBwYXNzd29yZFxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFja1xuICAgKiBAcmV0dXJuIHtCb29sZWFufVxuICAgKiBAYXBpIHB1YmxpY1xuICAgKi9cbiAgYXV0aGVudGljYXRlKHBhc3N3b3JkLCBjYWxsYmFjaykge1xuICAgIGlmICghY2FsbGJhY2spIHtcbiAgICAgIHJldHVybiB0aGlzLnBhc3N3b3JkID09PSB0aGlzLmVuY3J5cHRQYXNzd29yZChwYXNzd29yZCk7XG4gICAgfVxuXG4gICAgdGhpcy5lbmNyeXB0UGFzc3dvcmQocGFzc3dvcmQsIChlcnIsIHB3ZEdlbikgPT4ge1xuICAgICAgaWYgKGVycikge1xuICAgICAgICByZXR1cm4gY2FsbGJhY2soZXJyKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMucGFzc3dvcmQgPT09IHB3ZEdlbikge1xuICAgICAgICBjYWxsYmFjayhudWxsLCB0cnVlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNhbGxiYWNrKG51bGwsIGZhbHNlKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSxcblxuICAvKipcbiAgICogTWFrZSBzYWx0XG4gICAqXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBieXRlU2l6ZSBPcHRpb25hbCBzYWx0IGJ5dGUgc2l6ZSwgZGVmYXVsdCB0byAxNlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFja1xuICAgKiBAcmV0dXJuIHtTdHJpbmd9XG4gICAqIEBhcGkgcHVibGljXG4gICAqL1xuICBtYWtlU2FsdChieXRlU2l6ZSwgY2FsbGJhY2spIHtcbiAgICB2YXIgZGVmYXVsdEJ5dGVTaXplID0gMTY7XG5cbiAgICBpZiAodHlwZW9mIGFyZ3VtZW50c1swXSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgY2FsbGJhY2sgPSBhcmd1bWVudHNbMF07XG4gICAgICBieXRlU2l6ZSA9IGRlZmF1bHRCeXRlU2l6ZTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBhcmd1bWVudHNbMV0gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGNhbGxiYWNrID0gYXJndW1lbnRzWzFdO1xuICAgIH1cblxuICAgIGlmICghYnl0ZVNpemUpIHtcbiAgICAgIGJ5dGVTaXplID0gZGVmYXVsdEJ5dGVTaXplO1xuICAgIH1cblxuICAgIGlmICghY2FsbGJhY2spIHtcbiAgICAgIHJldHVybiBjcnlwdG8ucmFuZG9tQnl0ZXMoYnl0ZVNpemUpLnRvU3RyaW5nKCdiYXNlNjQnKTtcbiAgICB9XG5cbiAgICByZXR1cm4gY3J5cHRvLnJhbmRvbUJ5dGVzKGJ5dGVTaXplLCAoZXJyLCBzYWx0KSA9PiB7XG4gICAgICBpZiAoZXJyKSB7XG4gICAgICAgIGNhbGxiYWNrKGVycik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjYWxsYmFjayhudWxsLCBzYWx0LnRvU3RyaW5nKCdiYXNlNjQnKSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEVuY3J5cHQgcGFzc3dvcmRcbiAgICpcbiAgICogQHBhcmFtIHtTdHJpbmd9IHBhc3N3b3JkXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrXG4gICAqIEByZXR1cm4ge1N0cmluZ31cbiAgICogQGFwaSBwdWJsaWNcbiAgICovXG4gIGVuY3J5cHRQYXNzd29yZChwYXNzd29yZCwgY2FsbGJhY2spIHtcbiAgICBpZiAoIXBhc3N3b3JkIHx8ICF0aGlzLnNhbHQpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHZhciBkZWZhdWx0SXRlcmF0aW9ucyA9IDEwMDAwO1xuICAgIHZhciBkZWZhdWx0S2V5TGVuZ3RoID0gNjQ7XG4gICAgdmFyIHNhbHQgPSBuZXcgQnVmZmVyKHRoaXMuc2FsdCwgJ2Jhc2U2NCcpO1xuXG4gICAgaWYgKCFjYWxsYmFjaykge1xuICAgICAgcmV0dXJuIGNyeXB0by5wYmtkZjJTeW5jKHBhc3N3b3JkLCBzYWx0LCBkZWZhdWx0SXRlcmF0aW9ucywgZGVmYXVsdEtleUxlbmd0aClcbiAgICAgICAgICAgICAgICAgICAudG9TdHJpbmcoJ2Jhc2U2NCcpO1xuICAgIH1cblxuICAgIHJldHVybiBjcnlwdG8ucGJrZGYyKHBhc3N3b3JkLCBzYWx0LCBkZWZhdWx0SXRlcmF0aW9ucywgZGVmYXVsdEtleUxlbmd0aCwgKGVyciwga2V5KSA9PiB7XG4gICAgICBpZiAoZXJyKSB7XG4gICAgICAgIGNhbGxiYWNrKGVycik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjYWxsYmFjayhudWxsLCBrZXkudG9TdHJpbmcoJ2Jhc2U2NCcpKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufTtcblxuZXhwb3J0IGRlZmF1bHQgbW9uZ29vc2UubW9kZWwoJ1VzZXInLCBVc2VyU2NoZW1hKTtcbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "user.model.js"
      ],
      "names": [],
      "mappings": "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",
      "file": "user.model.js",
      "sourcesContent": [
        "'use strict';\n\nimport crypto from 'crypto';\nimport mongoose from 'mongoose';\nmongoose.Promise = require('bluebird');\nimport {Schema} from 'mongoose';\n\nconst authTypes = ['github', 'twitter', 'facebook', 'google'];\n\nvar UserSchema = new Schema({\n  name: String,\n  email: {\n    type: String,\n    lowercase: true\n  },\n  role: {\n    type: String,\n    default: 'user'\n  },\n  password: String,\n  provider: String,\n  salt: String,\n  facebook: {},\n  twitter: {},\n  google: {},\n  github: {}\n});\n\n/**\n * Virtuals\n */\n\n// Public profile information\nUserSchema\n  .virtual('profile')\n  .get(function() {\n    return {\n      'name': this.name,\n      'role': this.role\n    };\n  });\n\n// Non-sensitive info we'll be putting in the token\nUserSchema\n  .virtual('token')\n  .get(function() {\n    return {\n      '_id': this._id,\n      'role': this.role\n    };\n  });\n\n/**\n * Validations\n */\n\n// Validate empty email\nUserSchema\n  .path('email')\n  .validate(function(email) {\n    if (authTypes.indexOf(this.provider) !== -1) {\n      return true;\n    }\n    return email.length;\n  }, 'Email cannot be blank');\n\n// Validate empty password\nUserSchema\n  .path('password')\n  .validate(function(password) {\n    if (authTypes.indexOf(this.provider) !== -1) {\n      return true;\n    }\n    return password.length;\n  }, 'Password cannot be blank');\n\n// Validate email is not taken\nUserSchema\n  .path('email')\n  .validate(function(value, respond) {\n    var self = this;\n    return this.constructor.findOne({ email: value }).exec()\n      .then(function(user) {\n        if (user) {\n          if (self.id === user.id) {\n            return respond(true);\n          }\n          return respond(false);\n        }\n        return respond(true);\n      })\n      .catch(function(err) {\n        throw err;\n      });\n  }, 'The specified email address is already in use.');\n\nvar validatePresenceOf = function(value) {\n  return value && value.length;\n};\n\n/**\n * Pre-save hook\n */\nUserSchema\n  .pre('save', function(next) {\n    // Handle new/update passwords\n    if (!this.isModified('password')) {\n      return next();\n    }\n\n    if (!validatePresenceOf(this.password) && authTypes.indexOf(this.provider) === -1) {\n      return next(new Error('Invalid password'));\n    }\n\n    // Make salt with a callback\n    this.makeSalt((saltErr, salt) => {\n      if (saltErr) {\n        return next(saltErr);\n      }\n      this.salt = salt;\n      this.encryptPassword(this.password, (encryptErr, hashedPassword) => {\n        if (encryptErr) {\n          return next(encryptErr);\n        }\n        this.password = hashedPassword;\n        next();\n      });\n    });\n  });\n\n/**\n * Methods\n */\nUserSchema.methods = {\n  /**\n   * Authenticate - check if the passwords are the same\n   *\n   * @param {String} password\n   * @param {Function} callback\n   * @return {Boolean}\n   * @api public\n   */\n  authenticate(password, callback) {\n    if (!callback) {\n      return this.password === this.encryptPassword(password);\n    }\n\n    this.encryptPassword(password, (err, pwdGen) => {\n      if (err) {\n        return callback(err);\n      }\n\n      if (this.password === pwdGen) {\n        callback(null, true);\n      } else {\n        callback(null, false);\n      }\n    });\n  },\n\n  /**\n   * Make salt\n   *\n   * @param {Number} byteSize Optional salt byte size, default to 16\n   * @param {Function} callback\n   * @return {String}\n   * @api public\n   */\n  makeSalt(byteSize, callback) {\n    var defaultByteSize = 16;\n\n    if (typeof arguments[0] === 'function') {\n      callback = arguments[0];\n      byteSize = defaultByteSize;\n    } else if (typeof arguments[1] === 'function') {\n      callback = arguments[1];\n    }\n\n    if (!byteSize) {\n      byteSize = defaultByteSize;\n    }\n\n    if (!callback) {\n      return crypto.randomBytes(byteSize).toString('base64');\n    }\n\n    return crypto.randomBytes(byteSize, (err, salt) => {\n      if (err) {\n        callback(err);\n      } else {\n        callback(null, salt.toString('base64'));\n      }\n    });\n  },\n\n  /**\n   * Encrypt password\n   *\n   * @param {String} password\n   * @param {Function} callback\n   * @return {String}\n   * @api public\n   */\n  encryptPassword(password, callback) {\n    if (!password || !this.salt) {\n      return null;\n    }\n\n    var defaultIterations = 10000;\n    var defaultKeyLength = 64;\n    var salt = new Buffer(this.salt, 'base64');\n\n    if (!callback) {\n      return crypto.pbkdf2Sync(password, salt, defaultIterations, defaultKeyLength)\n                   .toString('base64');\n    }\n\n    return crypto.pbkdf2(password, salt, defaultIterations, defaultKeyLength, (err, key) => {\n      if (err) {\n        callback(err);\n      } else {\n        callback(null, key.toString('base64'));\n      }\n    });\n  }\n};\n\nexport default mongoose.model('User', UserSchema);\n"
      ]
    },
    "mtime": 1459628251535
  },
  "{\"filename\":\"/home/vagrant/server/config/environment/index.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false}:6.7.4:test": {
    "metadata": {
      "usedHelpers": [],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/home/vagrant/server/config/environment/index.js",
      "filenameRelative": "/home/vagrant/server/config/environment/index.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMap": "both",
      "sourceMaps": "both",
      "sourceMapTarget": "index.js",
      "sourceFileName": "index.js",
      "babelrc": false,
      "sourceType": "module",
      "moduleIds": false,
      "passPerPreset": false,
      "basename": "index"
    },
    "ignored": false,
    "code": "'use strict';\n\nvar path = require('path');\nvar _ = require('lodash');\n\nfunction requiredProcessEnv(name) {\n  if (!process.env[name]) {\n    throw new Error('You must set the ' + name + ' environment variable');\n  }\n  return process.env[name];\n}\n\n// All configurations will extend these options\n// ============================================\nvar all = {\n  env: process.env.NODE_ENV,\n\n  // Root path of server\n  root: path.normalize(__dirname + '/../../..'),\n\n  // Server port\n  port: process.env.PORT || 9000,\n\n  // Server IP\n  ip: process.env.IP || '0.0.0.0',\n\n  // Should we populate the DB with sample data?\n  seedDB: false,\n\n  // Secret for session, you will want to change this and make it an environment variable\n  secrets: {\n    session: 'vagrant-secret'\n  },\n\n  // MongoDB connection options\n  mongo: {\n    options: {\n      db: {\n        safe: true\n      }\n    }\n  },\n\n  facebook: {\n    clientID: process.env.FACEBOOK_ID || 'id',\n    clientSecret: process.env.FACEBOOK_SECRET || 'secret',\n    callbackURL: (process.env.DOMAIN || '') + '/auth/facebook/callback'\n  },\n\n  twitter: {\n    clientID: process.env.TWITTER_ID || 'id',\n    clientSecret: process.env.TWITTER_SECRET || 'secret',\n    callbackURL: (process.env.DOMAIN || '') + '/auth/twitter/callback'\n  },\n\n  google: {\n    clientID: process.env.GOOGLE_ID || 'id',\n    clientSecret: process.env.GOOGLE_SECRET || 'secret',\n    callbackURL: (process.env.DOMAIN || '') + '/auth/google/callback'\n  }\n};\n\n// Export the config object based on the NODE_ENV\n// ==============================================\nmodule.exports = _.merge(all, require('./shared'), require('./' + process.env.NODE_ENV + '.js') || {});\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBLElBQUksT0FBTyxRQUFRLE1BQVIsQ0FBUDtBQUNKLElBQUksSUFBSSxRQUFRLFFBQVIsQ0FBSjs7QUFFSixTQUFTLGtCQUFULENBQTRCLElBQTVCLEVBQWtDO0FBQ2hDLE1BQUksQ0FBQyxRQUFRLEdBQVIsQ0FBWSxJQUFaLENBQUQsRUFBb0I7QUFDdEIsVUFBTSxJQUFJLEtBQUosQ0FBVSxzQkFBc0IsSUFBdEIsR0FBNkIsdUJBQTdCLENBQWhCLENBRHNCO0dBQXhCO0FBR0EsU0FBTyxRQUFRLEdBQVIsQ0FBWSxJQUFaLENBQVAsQ0FKZ0M7Q0FBbEM7Ozs7QUFTQSxJQUFJLE1BQU07QUFDUixPQUFLLFFBQVEsR0FBUixDQUFZLFFBQVo7OztBQUdMLFFBQU0sS0FBSyxTQUFMLENBQWUsWUFBWSxXQUFaLENBQXJCOzs7QUFHQSxRQUFNLFFBQVEsR0FBUixDQUFZLElBQVosSUFBb0IsSUFBcEI7OztBQUdOLE1BQUksUUFBUSxHQUFSLENBQVksRUFBWixJQUFrQixTQUFsQjs7O0FBR0osVUFBUSxLQUFSOzs7QUFHQSxXQUFTO0FBQ1AsYUFBUyxnQkFBVDtHQURGOzs7QUFLQSxTQUFPO0FBQ0wsYUFBUztBQUNQLFVBQUk7QUFDRixjQUFNLElBQU47T0FERjtLQURGO0dBREY7O0FBUUEsWUFBVTtBQUNSLGNBQWMsUUFBUSxHQUFSLENBQVksV0FBWixJQUEyQixJQUEzQjtBQUNkLGtCQUFjLFFBQVEsR0FBUixDQUFZLGVBQVosSUFBK0IsUUFBL0I7QUFDZCxpQkFBYyxDQUFDLFFBQVEsR0FBUixDQUFZLE1BQVosSUFBc0IsRUFBdEIsQ0FBRCxHQUE2Qix5QkFBN0I7R0FIaEI7O0FBTUEsV0FBUztBQUNQLGNBQWMsUUFBUSxHQUFSLENBQVksVUFBWixJQUEwQixJQUExQjtBQUNkLGtCQUFjLFFBQVEsR0FBUixDQUFZLGNBQVosSUFBOEIsUUFBOUI7QUFDZCxpQkFBYyxDQUFDLFFBQVEsR0FBUixDQUFZLE1BQVosSUFBc0IsRUFBdEIsQ0FBRCxHQUE2Qix3QkFBN0I7R0FIaEI7O0FBTUEsVUFBUTtBQUNOLGNBQWMsUUFBUSxHQUFSLENBQVksU0FBWixJQUF5QixJQUF6QjtBQUNkLGtCQUFjLFFBQVEsR0FBUixDQUFZLGFBQVosSUFBNkIsUUFBN0I7QUFDZCxpQkFBYyxDQUFDLFFBQVEsR0FBUixDQUFZLE1BQVosSUFBc0IsRUFBdEIsQ0FBRCxHQUE2Qix1QkFBN0I7R0FIaEI7Q0F6Q0U7Ozs7QUFrREosT0FBTyxPQUFQLEdBQWlCLEVBQUUsS0FBRixDQUNmLEdBRGUsRUFFZixRQUFRLFVBQVIsQ0FGZSxFQUdmLFFBQVEsT0FBTyxRQUFRLEdBQVIsQ0FBWSxRQUFaLEdBQXVCLEtBQTlCLENBQVIsSUFBZ0QsRUFBaEQsQ0FIRiIsImZpbGUiOiJpbmRleC5qcyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxudmFyIHBhdGggPSByZXF1aXJlKCdwYXRoJyk7XG52YXIgXyA9IHJlcXVpcmUoJ2xvZGFzaCcpO1xuXG5mdW5jdGlvbiByZXF1aXJlZFByb2Nlc3NFbnYobmFtZSkge1xuICBpZiAoIXByb2Nlc3MuZW52W25hbWVdKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdZb3UgbXVzdCBzZXQgdGhlICcgKyBuYW1lICsgJyBlbnZpcm9ubWVudCB2YXJpYWJsZScpO1xuICB9XG4gIHJldHVybiBwcm9jZXNzLmVudltuYW1lXTtcbn1cblxuLy8gQWxsIGNvbmZpZ3VyYXRpb25zIHdpbGwgZXh0ZW5kIHRoZXNlIG9wdGlvbnNcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG52YXIgYWxsID0ge1xuICBlbnY6IHByb2Nlc3MuZW52Lk5PREVfRU5WLFxuXG4gIC8vIFJvb3QgcGF0aCBvZiBzZXJ2ZXJcbiAgcm9vdDogcGF0aC5ub3JtYWxpemUoX19kaXJuYW1lICsgJy8uLi8uLi8uLicpLFxuXG4gIC8vIFNlcnZlciBwb3J0XG4gIHBvcnQ6IHByb2Nlc3MuZW52LlBPUlQgfHwgOTAwMCxcblxuICAvLyBTZXJ2ZXIgSVBcbiAgaXA6IHByb2Nlc3MuZW52LklQIHx8ICcwLjAuMC4wJyxcblxuICAvLyBTaG91bGQgd2UgcG9wdWxhdGUgdGhlIERCIHdpdGggc2FtcGxlIGRhdGE/XG4gIHNlZWREQjogZmFsc2UsXG5cbiAgLy8gU2VjcmV0IGZvciBzZXNzaW9uLCB5b3Ugd2lsbCB3YW50IHRvIGNoYW5nZSB0aGlzIGFuZCBtYWtlIGl0IGFuIGVudmlyb25tZW50IHZhcmlhYmxlXG4gIHNlY3JldHM6IHtcbiAgICBzZXNzaW9uOiAndmFncmFudC1zZWNyZXQnXG4gIH0sXG5cbiAgLy8gTW9uZ29EQiBjb25uZWN0aW9uIG9wdGlvbnNcbiAgbW9uZ286IHtcbiAgICBvcHRpb25zOiB7XG4gICAgICBkYjoge1xuICAgICAgICBzYWZlOiB0cnVlXG4gICAgICB9XG4gICAgfVxuICB9LFxuXG4gIGZhY2Vib29rOiB7XG4gICAgY2xpZW50SUQ6ICAgICBwcm9jZXNzLmVudi5GQUNFQk9PS19JRCB8fCAnaWQnLFxuICAgIGNsaWVudFNlY3JldDogcHJvY2Vzcy5lbnYuRkFDRUJPT0tfU0VDUkVUIHx8ICdzZWNyZXQnLFxuICAgIGNhbGxiYWNrVVJMOiAgKHByb2Nlc3MuZW52LkRPTUFJTiB8fCAnJykgKyAnL2F1dGgvZmFjZWJvb2svY2FsbGJhY2snXG4gIH0sXG5cbiAgdHdpdHRlcjoge1xuICAgIGNsaWVudElEOiAgICAgcHJvY2Vzcy5lbnYuVFdJVFRFUl9JRCB8fCAnaWQnLFxuICAgIGNsaWVudFNlY3JldDogcHJvY2Vzcy5lbnYuVFdJVFRFUl9TRUNSRVQgfHwgJ3NlY3JldCcsXG4gICAgY2FsbGJhY2tVUkw6ICAocHJvY2Vzcy5lbnYuRE9NQUlOIHx8ICcnKSArICcvYXV0aC90d2l0dGVyL2NhbGxiYWNrJ1xuICB9LFxuXG4gIGdvb2dsZToge1xuICAgIGNsaWVudElEOiAgICAgcHJvY2Vzcy5lbnYuR09PR0xFX0lEIHx8ICdpZCcsXG4gICAgY2xpZW50U2VjcmV0OiBwcm9jZXNzLmVudi5HT09HTEVfU0VDUkVUIHx8ICdzZWNyZXQnLFxuICAgIGNhbGxiYWNrVVJMOiAgKHByb2Nlc3MuZW52LkRPTUFJTiB8fCAnJykgKyAnL2F1dGgvZ29vZ2xlL2NhbGxiYWNrJ1xuICB9XG59O1xuXG4vLyBFeHBvcnQgdGhlIGNvbmZpZyBvYmplY3QgYmFzZWQgb24gdGhlIE5PREVfRU5WXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5tb2R1bGUuZXhwb3J0cyA9IF8ubWVyZ2UoXG4gIGFsbCxcbiAgcmVxdWlyZSgnLi9zaGFyZWQnKSxcbiAgcmVxdWlyZSgnLi8nICsgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgKyAnLmpzJykgfHwge30pO1xuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [],
      "mappings": "AAAA;;AAEA,IAAI,OAAO,QAAQ,MAAR,CAAP;AACJ,IAAI,IAAI,QAAQ,QAAR,CAAJ;;AAEJ,SAAS,kBAAT,CAA4B,IAA5B,EAAkC;AAChC,MAAI,CAAC,QAAQ,GAAR,CAAY,IAAZ,CAAD,EAAoB;AACtB,UAAM,IAAI,KAAJ,CAAU,sBAAsB,IAAtB,GAA6B,uBAA7B,CAAhB,CADsB;GAAxB;AAGA,SAAO,QAAQ,GAAR,CAAY,IAAZ,CAAP,CAJgC;CAAlC;;;;AASA,IAAI,MAAM;AACR,OAAK,QAAQ,GAAR,CAAY,QAAZ;;;AAGL,QAAM,KAAK,SAAL,CAAe,YAAY,WAAZ,CAArB;;;AAGA,QAAM,QAAQ,GAAR,CAAY,IAAZ,IAAoB,IAApB;;;AAGN,MAAI,QAAQ,GAAR,CAAY,EAAZ,IAAkB,SAAlB;;;AAGJ,UAAQ,KAAR;;;AAGA,WAAS;AACP,aAAS,gBAAT;GADF;;;AAKA,SAAO;AACL,aAAS;AACP,UAAI;AACF,cAAM,IAAN;OADF;KADF;GADF;;AAQA,YAAU;AACR,cAAc,QAAQ,GAAR,CAAY,WAAZ,IAA2B,IAA3B;AACd,kBAAc,QAAQ,GAAR,CAAY,eAAZ,IAA+B,QAA/B;AACd,iBAAc,CAAC,QAAQ,GAAR,CAAY,MAAZ,IAAsB,EAAtB,CAAD,GAA6B,yBAA7B;GAHhB;;AAMA,WAAS;AACP,cAAc,QAAQ,GAAR,CAAY,UAAZ,IAA0B,IAA1B;AACd,kBAAc,QAAQ,GAAR,CAAY,cAAZ,IAA8B,QAA9B;AACd,iBAAc,CAAC,QAAQ,GAAR,CAAY,MAAZ,IAAsB,EAAtB,CAAD,GAA6B,wBAA7B;GAHhB;;AAMA,UAAQ;AACN,cAAc,QAAQ,GAAR,CAAY,SAAZ,IAAyB,IAAzB;AACd,kBAAc,QAAQ,GAAR,CAAY,aAAZ,IAA6B,QAA7B;AACd,iBAAc,CAAC,QAAQ,GAAR,CAAY,MAAZ,IAAsB,EAAtB,CAAD,GAA6B,uBAA7B;GAHhB;CAzCE;;;;AAkDJ,OAAO,OAAP,GAAiB,EAAE,KAAF,CACf,GADe,EAEf,QAAQ,UAAR,CAFe,EAGf,QAAQ,OAAO,QAAQ,GAAR,CAAY,QAAZ,GAAuB,KAA9B,CAAR,IAAgD,EAAhD,CAHF",
      "file": "index.js",
      "sourcesContent": [
        "'use strict';\n\nvar path = require('path');\nvar _ = require('lodash');\n\nfunction requiredProcessEnv(name) {\n  if (!process.env[name]) {\n    throw new Error('You must set the ' + name + ' environment variable');\n  }\n  return process.env[name];\n}\n\n// All configurations will extend these options\n// ============================================\nvar all = {\n  env: process.env.NODE_ENV,\n\n  // Root path of server\n  root: path.normalize(__dirname + '/../../..'),\n\n  // Server port\n  port: process.env.PORT || 9000,\n\n  // Server IP\n  ip: process.env.IP || '0.0.0.0',\n\n  // Should we populate the DB with sample data?\n  seedDB: false,\n\n  // Secret for session, you will want to change this and make it an environment variable\n  secrets: {\n    session: 'vagrant-secret'\n  },\n\n  // MongoDB connection options\n  mongo: {\n    options: {\n      db: {\n        safe: true\n      }\n    }\n  },\n\n  facebook: {\n    clientID:     process.env.FACEBOOK_ID || 'id',\n    clientSecret: process.env.FACEBOOK_SECRET || 'secret',\n    callbackURL:  (process.env.DOMAIN || '') + '/auth/facebook/callback'\n  },\n\n  twitter: {\n    clientID:     process.env.TWITTER_ID || 'id',\n    clientSecret: process.env.TWITTER_SECRET || 'secret',\n    callbackURL:  (process.env.DOMAIN || '') + '/auth/twitter/callback'\n  },\n\n  google: {\n    clientID:     process.env.GOOGLE_ID || 'id',\n    clientSecret: process.env.GOOGLE_SECRET || 'secret',\n    callbackURL:  (process.env.DOMAIN || '') + '/auth/google/callback'\n  }\n};\n\n// Export the config object based on the NODE_ENV\n// ==============================================\nmodule.exports = _.merge(\n  all,\n  require('./shared'),\n  require('./' + process.env.NODE_ENV + '.js') || {});\n"
      ]
    },
    "mtime": 1459628251563
  },
  "{\"filename\":\"/home/vagrant/server/config/environment/shared.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false}:6.7.4:test": {
    "metadata": {
      "usedHelpers": [],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/home/vagrant/server/config/environment/shared.js",
      "filenameRelative": "/home/vagrant/server/config/environment/shared.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMap": "both",
      "sourceMaps": "both",
      "sourceMapTarget": "shared.js",
      "sourceFileName": "shared.js",
      "babelrc": false,
      "sourceType": "module",
      "moduleIds": false,
      "passPerPreset": false,
      "basename": "shared"
    },
    "ignored": false,
    "code": "'use strict';\n\nexports = module.exports = {\n  // List of user roles\n  userRoles: ['guest', 'user', 'admin']\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNoYXJlZC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7QUFFQSxVQUFVLE9BQU8sT0FBUCxHQUFpQjs7QUFFekIsYUFBVyxDQUFDLE9BQUQsRUFBVSxNQUFWLEVBQWtCLE9BQWxCLENBQVg7Q0FGUSIsImZpbGUiOiJzaGFyZWQuanMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHtcbiAgLy8gTGlzdCBvZiB1c2VyIHJvbGVzXG4gIHVzZXJSb2xlczogWydndWVzdCcsICd1c2VyJywgJ2FkbWluJ11cbn07XG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "shared.js"
      ],
      "names": [],
      "mappings": "AAAA;;AAEA,UAAU,OAAO,OAAP,GAAiB;;AAEzB,aAAW,CAAC,OAAD,EAAU,MAAV,EAAkB,OAAlB,CAAX;CAFQ",
      "file": "shared.js",
      "sourcesContent": [
        "'use strict';\n\nexports = module.exports = {\n  // List of user roles\n  userRoles: ['guest', 'user', 'admin']\n};\n"
      ]
    },
    "mtime": 1459628251567
  },
  "{\"filename\":\"/home/vagrant/server/config/environment/test.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false}:6.7.4:test": {
    "metadata": {
      "usedHelpers": [],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/home/vagrant/server/config/environment/test.js",
      "filenameRelative": "/home/vagrant/server/config/environment/test.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMap": "both",
      "sourceMaps": "both",
      "sourceMapTarget": "test.js",
      "sourceFileName": "test.js",
      "babelrc": false,
      "sourceType": "module",
      "moduleIds": false,
      "passPerPreset": false,
      "basename": "test"
    },
    "ignored": false,
    "code": "'use strict';\n\n// Test specific configuration\n// ===========================\n\nmodule.exports = {\n  // MongoDB connection options\n  mongo: {\n    uri: 'mongodb://localhost/vagrant-test'\n  },\n  sequelize: {\n    uri: 'sqlite://',\n    options: {\n      logging: false,\n      storage: 'test.sqlite',\n      define: {\n        timestamps: false\n      }\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInRlc3QuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7O0FBSUEsT0FBTyxPQUFQLEdBQWlCOztBQUVmLFNBQU87QUFDTCxTQUFLLGtDQUFMO0dBREY7QUFHQSxhQUFXO0FBQ1QsU0FBSyxXQUFMO0FBQ0EsYUFBUztBQUNQLGVBQVMsS0FBVDtBQUNBLGVBQVMsYUFBVDtBQUNBLGNBQVE7QUFDTixvQkFBWSxLQUFaO09BREY7S0FIRjtHQUZGO0NBTEYiLCJmaWxlIjoidGVzdC5qcyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuLy8gVGVzdCBzcGVjaWZpYyBjb25maWd1cmF0aW9uXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT1cbm1vZHVsZS5leHBvcnRzID0ge1xuICAvLyBNb25nb0RCIGNvbm5lY3Rpb24gb3B0aW9uc1xuICBtb25nbzoge1xuICAgIHVyaTogJ21vbmdvZGI6Ly9sb2NhbGhvc3QvdmFncmFudC10ZXN0J1xuICB9LFxuICBzZXF1ZWxpemU6IHtcbiAgICB1cmk6ICdzcWxpdGU6Ly8nLFxuICAgIG9wdGlvbnM6IHtcbiAgICAgIGxvZ2dpbmc6IGZhbHNlLFxuICAgICAgc3RvcmFnZTogJ3Rlc3Quc3FsaXRlJyxcbiAgICAgIGRlZmluZToge1xuICAgICAgICB0aW1lc3RhbXBzOiBmYWxzZVxuICAgICAgfVxuICAgIH1cbiAgfVxufTtcbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "test.js"
      ],
      "names": [],
      "mappings": "AAAA;;;;;AAIA,OAAO,OAAP,GAAiB;;AAEf,SAAO;AACL,SAAK,kCAAL;GADF;AAGA,aAAW;AACT,SAAK,WAAL;AACA,aAAS;AACP,eAAS,KAAT;AACA,eAAS,aAAT;AACA,cAAQ;AACN,oBAAY,KAAZ;OADF;KAHF;GAFF;CALF",
      "file": "test.js",
      "sourcesContent": [
        "'use strict';\n\n// Test specific configuration\n// ===========================\nmodule.exports = {\n  // MongoDB connection options\n  mongo: {\n    uri: 'mongodb://localhost/vagrant-test'\n  },\n  sequelize: {\n    uri: 'sqlite://',\n    options: {\n      logging: false,\n      storage: 'test.sqlite',\n      define: {\n        timestamps: false\n      }\n    }\n  }\n};\n"
      ]
    },
    "mtime": 1459628251567
  },
  "{\"filename\":\"/home/vagrant/server/auth/auth.service.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false}:6.7.4:test": {
    "metadata": {
      "usedHelpers": [
        "interopRequireDefault"
      ],
      "marked": [],
      "modules": {
        "imports": [
          {
            "source": "passport",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "passport"
              }
            ]
          },
          {
            "source": "../config/environment",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "config"
              }
            ]
          },
          {
            "source": "jsonwebtoken",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "jwt"
              }
            ]
          },
          {
            "source": "express-jwt",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "expressJwt"
              }
            ]
          },
          {
            "source": "composable-middleware",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "compose"
              }
            ]
          },
          {
            "source": "../api/user/user.model",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "User"
              }
            ]
          }
        ],
        "exports": {
          "exported": [
            "isAuthenticated",
            "hasRole",
            "roleRequired",
            "signToken",
            "id",
            "role",
            "setTokenCookie",
            "req",
            "res"
          ],
          "specifiers": [
            {
              "kind": "local",
              "local": "isAuthenticated",
              "exported": "isAuthenticated"
            },
            {
              "kind": "local",
              "local": "hasRole",
              "exported": "hasRole"
            },
            {
              "kind": "local",
              "local": "roleRequired",
              "exported": "roleRequired"
            },
            {
              "kind": "local",
              "local": "signToken",
              "exported": "signToken"
            },
            {
              "kind": "local",
              "local": "id",
              "exported": "id"
            },
            {
              "kind": "local",
              "local": "role",
              "exported": "role"
            },
            {
              "kind": "local",
              "local": "setTokenCookie",
              "exported": "setTokenCookie"
            },
            {
              "kind": "local",
              "local": "req",
              "exported": "req"
            },
            {
              "kind": "local",
              "local": "res",
              "exported": "res"
            }
          ]
        }
      }
    },
    "options": {
      "filename": "/home/vagrant/server/auth/auth.service.js",
      "filenameRelative": "/home/vagrant/server/auth/auth.service.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMap": "both",
      "sourceMaps": "both",
      "sourceMapTarget": "auth.service.js",
      "sourceFileName": "auth.service.js",
      "babelrc": false,
      "sourceType": "module",
      "moduleIds": false,
      "passPerPreset": false,
      "basename": "auth.service"
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.isAuthenticated = isAuthenticated;\nexports.hasRole = hasRole;\nexports.signToken = signToken;\nexports.setTokenCookie = setTokenCookie;\n\nvar _passport = require('passport');\n\nvar _passport2 = _interopRequireDefault(_passport);\n\nvar _environment = require('../config/environment');\n\nvar _environment2 = _interopRequireDefault(_environment);\n\nvar _jsonwebtoken = require('jsonwebtoken');\n\nvar _jsonwebtoken2 = _interopRequireDefault(_jsonwebtoken);\n\nvar _expressJwt = require('express-jwt');\n\nvar _expressJwt2 = _interopRequireDefault(_expressJwt);\n\nvar _composableMiddleware = require('composable-middleware');\n\nvar _composableMiddleware2 = _interopRequireDefault(_composableMiddleware);\n\nvar _user = require('../api/user/user.model');\n\nvar _user2 = _interopRequireDefault(_user);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar validateJwt = (0, _expressJwt2.default)({\n  secret: _environment2.default.secrets.session\n});\n\n/**\n * Attaches the user object to the request if authenticated\n * Otherwise returns 403\n */\nfunction isAuthenticated() {\n  return (0, _composableMiddleware2.default)()\n  // Validate jwt\n  .use(function (req, res, next) {\n    // allow access_token to be passed through query parameter as well\n    if (req.query && req.query.hasOwnProperty('access_token')) {\n      req.headers.authorization = 'Bearer ' + req.query.access_token;\n    }\n    validateJwt(req, res, next);\n  })\n  // Attach user to request\n  .use(function (req, res, next) {\n    _user2.default.findById(req.user._id).exec().then(function (user) {\n      if (!user) {\n        return res.status(401).end();\n      }\n      req.user = user;\n      next();\n    }).catch(function (err) {\n      return next(err);\n    });\n  });\n}\n\n/**\n * Checks if the user role meets the minimum requirements of the route\n */\nfunction hasRole(roleRequired) {\n  if (!roleRequired) {\n    throw new Error('Required role needs to be set');\n  }\n\n  return (0, _composableMiddleware2.default)().use(isAuthenticated()).use(function meetsRequirements(req, res, next) {\n    if (_environment2.default.userRoles.indexOf(req.user.role) >= _environment2.default.userRoles.indexOf(roleRequired)) {\n      next();\n    } else {\n      res.status(403).send('Forbidden');\n    }\n  });\n}\n\n/**\n * Returns a jwt token signed by the app secret\n */\nfunction signToken(id, role) {\n  return _jsonwebtoken2.default.sign({ _id: id, role: role }, _environment2.default.secrets.session, {\n    expiresIn: 60 * 60 * 5\n  });\n}\n\n/**\n * Set token cookie directly for oAuth strategies\n */\nfunction setTokenCookie(req, res) {\n  if (!req.user) {\n    return res.status(404).send('It looks like you aren\\'t logged in, please try again.');\n  }\n  var token = signToken(req.user._id, req.user.role);\n  res.cookie('token', token);\n  res.redirect('/');\n}\n//# sourceMappingURL=data:application/json;base64,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ZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IHBhc3Nwb3J0IGZyb20gJ3Bhc3Nwb3J0JztcbmltcG9ydCBjb25maWcgZnJvbSAnLi4vY29uZmlnL2Vudmlyb25tZW50JztcbmltcG9ydCBqd3QgZnJvbSAnanNvbndlYnRva2VuJztcbmltcG9ydCBleHByZXNzSnd0IGZyb20gJ2V4cHJlc3Mtand0JztcbmltcG9ydCBjb21wb3NlIGZyb20gJ2NvbXBvc2FibGUtbWlkZGxld2FyZSc7XG5pbXBvcnQgVXNlciBmcm9tICcuLi9hcGkvdXNlci91c2VyLm1vZGVsJztcblxudmFyIHZhbGlkYXRlSnd0ID0gZXhwcmVzc0p3dCh7XG4gIHNlY3JldDogY29uZmlnLnNlY3JldHMuc2Vzc2lvblxufSk7XG5cbi8qKlxuICogQXR0YWNoZXMgdGhlIHVzZXIgb2JqZWN0IHRvIHRoZSByZXF1ZXN0IGlmIGF1dGhlbnRpY2F0ZWRcbiAqIE90aGVyd2lzZSByZXR1cm5zIDQwM1xuICovXG5leHBvcnQgZnVuY3Rpb24gaXNBdXRoZW50aWNhdGVkKCkge1xuICByZXR1cm4gY29tcG9zZSgpXG4gICAgLy8gVmFsaWRhdGUgand0XG4gICAgLnVzZShmdW5jdGlvbihyZXEsIHJlcywgbmV4dCkge1xuICAgICAgLy8gYWxsb3cgYWNjZXNzX3Rva2VuIHRvIGJlIHBhc3NlZCB0aHJvdWdoIHF1ZXJ5IHBhcmFtZXRlciBhcyB3ZWxsXG4gICAgICBpZiAocmVxLnF1ZXJ5ICYmIHJlcS5xdWVyeS5oYXNPd25Qcm9wZXJ0eSgnYWNjZXNzX3Rva2VuJykpIHtcbiAgICAgICAgcmVxLmhlYWRlcnMuYXV0aG9yaXphdGlvbiA9ICdCZWFyZXIgJyArIHJlcS5xdWVyeS5hY2Nlc3NfdG9rZW47XG4gICAgICB9XG4gICAgICB2YWxpZGF0ZUp3dChyZXEsIHJlcywgbmV4dCk7XG4gICAgfSlcbiAgICAvLyBBdHRhY2ggdXNlciB0byByZXF1ZXN0XG4gICAgLnVzZShmdW5jdGlvbihyZXEsIHJlcywgbmV4dCkge1xuICAgICAgVXNlci5maW5kQnlJZChyZXEudXNlci5faWQpLmV4ZWMoKVxuICAgICAgICAudGhlbih1c2VyID0+IHtcbiAgICAgICAgICBpZiAoIXVzZXIpIHtcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMSkuZW5kKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJlcS51c2VyID0gdXNlcjtcbiAgICAgICAgICBuZXh0KCk7XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaChlcnIgPT4gbmV4dChlcnIpKTtcbiAgICB9KTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgdGhlIHVzZXIgcm9sZSBtZWV0cyB0aGUgbWluaW11bSByZXF1aXJlbWVudHMgb2YgdGhlIHJvdXRlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBoYXNSb2xlKHJvbGVSZXF1aXJlZCkge1xuICBpZiAoIXJvbGVSZXF1aXJlZCkge1xuICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcm9sZSBuZWVkcyB0byBiZSBzZXQnKTtcbiAgfVxuXG4gIHJldHVybiBjb21wb3NlKClcbiAgICAudXNlKGlzQXV0aGVudGljYXRlZCgpKVxuICAgIC51c2UoZnVuY3Rpb24gbWVldHNSZXF1aXJlbWVudHMocmVxLCByZXMsIG5leHQpIHtcbiAgICAgIGlmIChjb25maWcudXNlclJvbGVzLmluZGV4T2YocmVxLnVzZXIucm9sZSkgPj1cbiAgICAgICAgICBjb25maWcudXNlclJvbGVzLmluZGV4T2Yocm9sZVJlcXVpcmVkKSkge1xuICAgICAgICBuZXh0KCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXMuc3RhdHVzKDQwMykuc2VuZCgnRm9yYmlkZGVuJyk7XG4gICAgICB9XG4gICAgfSk7XG59XG5cbi8qKlxuICogUmV0dXJucyBhIGp3dCB0b2tlbiBzaWduZWQgYnkgdGhlIGFwcCBzZWNyZXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNpZ25Ub2tlbihpZCwgcm9sZSkge1xuICByZXR1cm4gand0LnNpZ24oeyBfaWQ6IGlkLCByb2xlOiByb2xlIH0sIGNvbmZpZy5zZWNyZXRzLnNlc3Npb24sIHtcbiAgICBleHBpcmVzSW46IDYwICogNjAgKiA1XG4gIH0pO1xufVxuXG4vKipcbiAqIFNldCB0b2tlbiBjb29raWUgZGlyZWN0bHkgZm9yIG9BdXRoIHN0cmF0ZWdpZXNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldFRva2VuQ29va2llKHJlcSwgcmVzKSB7XG4gIGlmICghcmVxLnVzZXIpIHtcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDQpLnNlbmQoJ0l0IGxvb2tzIGxpa2UgeW91IGFyZW5cXCd0IGxvZ2dlZCBpbiwgcGxlYXNlIHRyeSBhZ2Fpbi4nKTtcbiAgfVxuICB2YXIgdG9rZW4gPSBzaWduVG9rZW4ocmVxLnVzZXIuX2lkLCByZXEudXNlci5yb2xlKTtcbiAgcmVzLmNvb2tpZSgndG9rZW4nLCB0b2tlbik7XG4gIHJlcy5yZWRpcmVjdCgnLycpO1xufVxuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "auth.service.js"
      ],
      "names": [],
      "mappings": "AAAA;;;;;QAiBgB;QA2BA;QAoBA;QASA;;AAvEhB;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;AAEA,IAAI,cAAc,0BAAW;AAC3B,UAAQ,sBAAO,OAAP,CAAe,OAAf;CADQ,CAAd;;;;;;AAQG,SAAS,eAAT,GAA2B;AAChC,SAAO;;GAEJ,GAFI,CAEA,UAAS,GAAT,EAAc,GAAd,EAAmB,IAAnB,EAAyB;;AAE5B,QAAI,IAAI,KAAJ,IAAa,IAAI,KAAJ,CAAU,cAAV,CAAyB,cAAzB,CAAb,EAAuD;AACzD,UAAI,OAAJ,CAAY,aAAZ,GAA4B,YAAY,IAAI,KAAJ,CAAU,YAAV,CADiB;KAA3D;AAGA,gBAAY,GAAZ,EAAiB,GAAjB,EAAsB,IAAtB,EAL4B;GAAzB;;AAFA,GAUJ,GAVI,CAUA,UAAS,GAAT,EAAc,GAAd,EAAmB,IAAnB,EAAyB;AAC5B,mBAAK,QAAL,CAAc,IAAI,IAAJ,CAAS,GAAT,CAAd,CAA4B,IAA5B,GACG,IADH,CACQ,gBAAQ;AACZ,UAAI,CAAC,IAAD,EAAO;AACT,eAAO,IAAI,MAAJ,CAAW,GAAX,EAAgB,GAAhB,EAAP,CADS;OAAX;AAGA,UAAI,IAAJ,GAAW,IAAX,CAJY;AAKZ,aALY;KAAR,CADR,CAQG,KARH,CAQS;aAAO,KAAK,GAAL;KAAP,CART,CAD4B;GAAzB,CAVP,CADgC;CAA3B;;;;;AA2BA,SAAS,OAAT,CAAiB,YAAjB,EAA+B;AACpC,MAAI,CAAC,YAAD,EAAe;AACjB,UAAM,IAAI,KAAJ,CAAU,+BAAV,CAAN,CADiB;GAAnB;;AAIA,SAAO,sCACJ,GADI,CACA,iBADA,EAEJ,GAFI,CAEA,SAAS,iBAAT,CAA2B,GAA3B,EAAgC,GAAhC,EAAqC,IAArC,EAA2C;AAC9C,QAAI,sBAAO,SAAP,CAAiB,OAAjB,CAAyB,IAAI,IAAJ,CAAS,IAAT,CAAzB,IACA,sBAAO,SAAP,CAAiB,OAAjB,CAAyB,YAAzB,CADA,EACwC;AAC1C,aAD0C;KAD5C,MAGO;AACL,UAAI,MAAJ,CAAW,GAAX,EAAgB,IAAhB,CAAqB,WAArB,EADK;KAHP;GADG,CAFP,CALoC;CAA/B;;;;;AAoBA,SAAS,SAAT,CAAmB,EAAnB,EAAuB,IAAvB,EAA6B;AAClC,SAAO,uBAAI,IAAJ,CAAS,EAAE,KAAK,EAAL,EAAS,MAAM,IAAN,EAApB,EAAkC,sBAAO,OAAP,CAAe,OAAf,EAAwB;AAC/D,eAAW,KAAK,EAAL,GAAU,CAAV;GADN,CAAP,CADkC;CAA7B;;;;;AASA,SAAS,cAAT,CAAwB,GAAxB,EAA6B,GAA7B,EAAkC;AACvC,MAAI,CAAC,IAAI,IAAJ,EAAU;AACb,WAAO,IAAI,MAAJ,CAAW,GAAX,EAAgB,IAAhB,CAAqB,wDAArB,CAAP,CADa;GAAf;AAGA,MAAI,QAAQ,UAAU,IAAI,IAAJ,CAAS,GAAT,EAAc,IAAI,IAAJ,CAAS,IAAT,CAAhC,CAJmC;AAKvC,MAAI,MAAJ,CAAW,OAAX,EAAoB,KAApB,EALuC;AAMvC,MAAI,QAAJ,CAAa,GAAb,EANuC;CAAlC",
      "file": "auth.service.js",
      "sourcesContent": [
        "'use strict';\n\nimport passport from 'passport';\nimport config from '../config/environment';\nimport jwt from 'jsonwebtoken';\nimport expressJwt from 'express-jwt';\nimport compose from 'composable-middleware';\nimport User from '../api/user/user.model';\n\nvar validateJwt = expressJwt({\n  secret: config.secrets.session\n});\n\n/**\n * Attaches the user object to the request if authenticated\n * Otherwise returns 403\n */\nexport function isAuthenticated() {\n  return compose()\n    // Validate jwt\n    .use(function(req, res, next) {\n      // allow access_token to be passed through query parameter as well\n      if (req.query && req.query.hasOwnProperty('access_token')) {\n        req.headers.authorization = 'Bearer ' + req.query.access_token;\n      }\n      validateJwt(req, res, next);\n    })\n    // Attach user to request\n    .use(function(req, res, next) {\n      User.findById(req.user._id).exec()\n        .then(user => {\n          if (!user) {\n            return res.status(401).end();\n          }\n          req.user = user;\n          next();\n        })\n        .catch(err => next(err));\n    });\n}\n\n/**\n * Checks if the user role meets the minimum requirements of the route\n */\nexport function hasRole(roleRequired) {\n  if (!roleRequired) {\n    throw new Error('Required role needs to be set');\n  }\n\n  return compose()\n    .use(isAuthenticated())\n    .use(function meetsRequirements(req, res, next) {\n      if (config.userRoles.indexOf(req.user.role) >=\n          config.userRoles.indexOf(roleRequired)) {\n        next();\n      } else {\n        res.status(403).send('Forbidden');\n      }\n    });\n}\n\n/**\n * Returns a jwt token signed by the app secret\n */\nexport function signToken(id, role) {\n  return jwt.sign({ _id: id, role: role }, config.secrets.session, {\n    expiresIn: 60 * 60 * 5\n  });\n}\n\n/**\n * Set token cookie directly for oAuth strategies\n */\nexport function setTokenCookie(req, res) {\n  if (!req.user) {\n    return res.status(404).send('It looks like you aren\\'t logged in, please try again.');\n  }\n  var token = signToken(req.user._id, req.user.role);\n  res.cookie('token', token);\n  res.redirect('/');\n}\n"
      ]
    },
    "mtime": 1459628251539
  },
  "{\"filename\":\"/home/vagrant/server/api/user/user.model.spec.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false}:6.7.4:test": {
    "metadata": {
      "usedHelpers": [
        "interopRequireDefault"
      ],
      "marked": [],
      "modules": {
        "imports": [
          {
            "source": "../..",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "app"
              }
            ]
          },
          {
            "source": "./user.model",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "User"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/home/vagrant/server/api/user/user.model.spec.js",
      "filenameRelative": "/home/vagrant/server/api/user/user.model.spec.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMap": "both",
      "sourceMaps": "both",
      "sourceMapTarget": "user.model.spec.js",
      "sourceFileName": "user.model.spec.js",
      "babelrc": false,
      "sourceType": "module",
      "moduleIds": false,
      "passPerPreset": false,
      "basename": "user.model.spec"
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _ = require('../..');\n\nvar _2 = _interopRequireDefault(_);\n\nvar _user = require('./user.model');\n\nvar _user2 = _interopRequireDefault(_user);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar user;\nvar genUser = function genUser() {\n  user = new _user2.default({\n    provider: 'local',\n    name: 'Fake User',\n    email: 'test@example.com',\n    password: 'password'\n  });\n  return user;\n};\n\ndescribe('User Model', function () {\n  before(function () {\n    // Clear users before testing\n    return _user2.default.remove();\n  });\n\n  beforeEach(function () {\n    genUser();\n  });\n\n  afterEach(function () {\n    return _user2.default.remove();\n  });\n\n  it('should begin with no users', function () {\n    return expect(_user2.default.find({}).exec()).to.eventually.have.length(0);\n  });\n\n  it('should fail when saving a duplicate user', function () {\n    return expect(user.save().then(function () {\n      var userDup = genUser();\n      return userDup.save();\n    })).to.be.rejected;\n  });\n\n  describe('#email', function () {\n    it('should fail when saving without an email', function () {\n      user.email = '';\n      return expect(user.save()).to.be.rejected;\n    });\n  });\n\n  describe('#password', function () {\n    beforeEach(function () {\n      return user.save();\n    });\n\n    it('should authenticate user if valid', function () {\n      expect(user.authenticate('password')).to.be.true;\n    });\n\n    it('should not authenticate user if invalid', function () {\n      expect(user.authenticate('blah')).to.not.be.true;\n    });\n\n    it('should remain the same hash unless the password is updated', function () {\n      user.name = 'Test User';\n      return expect(user.save().then(function (u) {\n        return u.authenticate('password');\n      })).to.eventually.be.true;\n    });\n  });\n});\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXIubW9kZWwuc3BlYy5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7QUFFQTs7OztBQUNBOzs7Ozs7QUFDQSxJQUFJLElBQUo7QUFDQSxJQUFJLFVBQVUsU0FBVixPQUFVLEdBQVc7QUFDdkIsU0FBTyxtQkFBUztBQUNkLGNBQVUsT0FBVjtBQUNBLFVBQU0sV0FBTjtBQUNBLFdBQU8sa0JBQVA7QUFDQSxjQUFVLFVBQVY7R0FKSyxDQUFQLENBRHVCO0FBT3ZCLFNBQU8sSUFBUCxDQVB1QjtDQUFYOztBQVVkLFNBQVMsWUFBVCxFQUF1QixZQUFXO0FBQ2hDLFNBQU8sWUFBVzs7QUFFaEIsV0FBTyxlQUFLLE1BQUwsRUFBUCxDQUZnQjtHQUFYLENBQVAsQ0FEZ0M7O0FBTWhDLGFBQVcsWUFBVztBQUNwQixjQURvQjtHQUFYLENBQVgsQ0FOZ0M7O0FBVWhDLFlBQVUsWUFBVztBQUNuQixXQUFPLGVBQUssTUFBTCxFQUFQLENBRG1CO0dBQVgsQ0FBVixDQVZnQzs7QUFjaEMsS0FBRyw0QkFBSCxFQUFpQyxZQUFXO0FBQzFDLFdBQU8sT0FBTyxlQUFLLElBQUwsQ0FBVSxFQUFWLEVBQWMsSUFBZCxFQUFQLEVBQTZCLEVBQTdCLENBQ0osVUFESSxDQUNPLElBRFAsQ0FDWSxNQURaLENBQ21CLENBRG5CLENBQVAsQ0FEMEM7R0FBWCxDQUFqQyxDQWRnQzs7QUFtQmhDLEtBQUcsMENBQUgsRUFBK0MsWUFBVztBQUN4RCxXQUFPLE9BQU8sS0FBSyxJQUFMLEdBQ1gsSUFEVyxDQUNOLFlBQVc7QUFDZixVQUFJLFVBQVUsU0FBVixDQURXO0FBRWYsYUFBTyxRQUFRLElBQVIsRUFBUCxDQUZlO0tBQVgsQ0FERCxFQUlELEVBSkMsQ0FJRSxFQUpGLENBSUssUUFKTCxDQURpRDtHQUFYLENBQS9DLENBbkJnQzs7QUEyQmhDLFdBQVMsUUFBVCxFQUFtQixZQUFXO0FBQzVCLE9BQUcsMENBQUgsRUFBK0MsWUFBVztBQUN4RCxXQUFLLEtBQUwsR0FBYSxFQUFiLENBRHdEO0FBRXhELGFBQU8sT0FBTyxLQUFLLElBQUwsRUFBUCxFQUFvQixFQUFwQixDQUF1QixFQUF2QixDQUEwQixRQUExQixDQUZpRDtLQUFYLENBQS9DLENBRDRCO0dBQVgsQ0FBbkIsQ0EzQmdDOztBQWtDaEMsV0FBUyxXQUFULEVBQXNCLFlBQVc7QUFDL0IsZUFBVyxZQUFXO0FBQ3BCLGFBQU8sS0FBSyxJQUFMLEVBQVAsQ0FEb0I7S0FBWCxDQUFYLENBRCtCOztBQUsvQixPQUFHLG1DQUFILEVBQXdDLFlBQVc7QUFDakQsYUFBTyxLQUFLLFlBQUwsQ0FBa0IsVUFBbEIsQ0FBUCxFQUFzQyxFQUF0QyxDQUF5QyxFQUF6QyxDQUE0QyxJQUE1QyxDQURpRDtLQUFYLENBQXhDLENBTCtCOztBQVMvQixPQUFHLHlDQUFILEVBQThDLFlBQVc7QUFDdkQsYUFBTyxLQUFLLFlBQUwsQ0FBa0IsTUFBbEIsQ0FBUCxFQUFrQyxFQUFsQyxDQUFxQyxHQUFyQyxDQUF5QyxFQUF6QyxDQUE0QyxJQUE1QyxDQUR1RDtLQUFYLENBQTlDLENBVCtCOztBQWEvQixPQUFHLDREQUFILEVBQWlFLFlBQVc7QUFDMUUsV0FBSyxJQUFMLEdBQVksV0FBWixDQUQwRTtBQUUxRSxhQUFPLE9BQU8sS0FBSyxJQUFMLEdBQ1gsSUFEVyxDQUNOLFVBQVMsQ0FBVCxFQUFZO0FBQ2hCLGVBQU8sRUFBRSxZQUFGLENBQWUsVUFBZixDQUFQLENBRGdCO09BQVosQ0FERCxFQUdELEVBSEMsQ0FHRSxVQUhGLENBR2EsRUFIYixDQUdnQixJQUhoQixDQUZtRTtLQUFYLENBQWpFLENBYitCO0dBQVgsQ0FBdEIsQ0FsQ2dDO0NBQVgsQ0FBdkIiLCJmaWxlIjoidXNlci5tb2RlbC5zcGVjLmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgYXBwIGZyb20gJy4uLy4uJztcbmltcG9ydCBVc2VyIGZyb20gJy4vdXNlci5tb2RlbCc7XG52YXIgdXNlcjtcbnZhciBnZW5Vc2VyID0gZnVuY3Rpb24oKSB7XG4gIHVzZXIgPSBuZXcgVXNlcih7XG4gICAgcHJvdmlkZXI6ICdsb2NhbCcsXG4gICAgbmFtZTogJ0Zha2UgVXNlcicsXG4gICAgZW1haWw6ICd0ZXN0QGV4YW1wbGUuY29tJyxcbiAgICBwYXNzd29yZDogJ3Bhc3N3b3JkJ1xuICB9KTtcbiAgcmV0dXJuIHVzZXI7XG59O1xuXG5kZXNjcmliZSgnVXNlciBNb2RlbCcsIGZ1bmN0aW9uKCkge1xuICBiZWZvcmUoZnVuY3Rpb24oKSB7XG4gICAgLy8gQ2xlYXIgdXNlcnMgYmVmb3JlIHRlc3RpbmdcbiAgICByZXR1cm4gVXNlci5yZW1vdmUoKTtcbiAgfSk7XG5cbiAgYmVmb3JlRWFjaChmdW5jdGlvbigpIHtcbiAgICBnZW5Vc2VyKCk7XG4gIH0pO1xuXG4gIGFmdGVyRWFjaChmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gVXNlci5yZW1vdmUoKTtcbiAgfSk7XG5cbiAgaXQoJ3Nob3VsZCBiZWdpbiB3aXRoIG5vIHVzZXJzJywgZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIGV4cGVjdChVc2VyLmZpbmQoe30pLmV4ZWMoKSkudG9cbiAgICAgIC5ldmVudHVhbGx5LmhhdmUubGVuZ3RoKDApO1xuICB9KTtcblxuICBpdCgnc2hvdWxkIGZhaWwgd2hlbiBzYXZpbmcgYSBkdXBsaWNhdGUgdXNlcicsIGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBleHBlY3QodXNlci5zYXZlKClcbiAgICAgIC50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgdXNlckR1cCA9IGdlblVzZXIoKTtcbiAgICAgICAgcmV0dXJuIHVzZXJEdXAuc2F2ZSgpO1xuICAgICAgfSkpLnRvLmJlLnJlamVjdGVkO1xuICB9KTtcblxuICBkZXNjcmliZSgnI2VtYWlsJywgZnVuY3Rpb24oKSB7XG4gICAgaXQoJ3Nob3VsZCBmYWlsIHdoZW4gc2F2aW5nIHdpdGhvdXQgYW4gZW1haWwnLCBmdW5jdGlvbigpIHtcbiAgICAgIHVzZXIuZW1haWwgPSAnJztcbiAgICAgIHJldHVybiBleHBlY3QodXNlci5zYXZlKCkpLnRvLmJlLnJlamVjdGVkO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnI3Bhc3N3b3JkJywgZnVuY3Rpb24oKSB7XG4gICAgYmVmb3JlRWFjaChmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB1c2VyLnNhdmUoKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgYXV0aGVudGljYXRlIHVzZXIgaWYgdmFsaWQnLCBmdW5jdGlvbigpIHtcbiAgICAgIGV4cGVjdCh1c2VyLmF1dGhlbnRpY2F0ZSgncGFzc3dvcmQnKSkudG8uYmUudHJ1ZTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgbm90IGF1dGhlbnRpY2F0ZSB1c2VyIGlmIGludmFsaWQnLCBmdW5jdGlvbigpIHtcbiAgICAgIGV4cGVjdCh1c2VyLmF1dGhlbnRpY2F0ZSgnYmxhaCcpKS50by5ub3QuYmUudHJ1ZTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgcmVtYWluIHRoZSBzYW1lIGhhc2ggdW5sZXNzIHRoZSBwYXNzd29yZCBpcyB1cGRhdGVkJywgZnVuY3Rpb24oKSB7XG4gICAgICB1c2VyLm5hbWUgPSAnVGVzdCBVc2VyJztcbiAgICAgIHJldHVybiBleHBlY3QodXNlci5zYXZlKClcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24odSkge1xuICAgICAgICAgIHJldHVybiB1LmF1dGhlbnRpY2F0ZSgncGFzc3dvcmQnKTtcbiAgICAgICAgfSkpLnRvLmV2ZW50dWFsbHkuYmUudHJ1ZTtcbiAgICB9KTtcbiAgfSk7XG5cbn0pO1xuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "user.model.spec.js"
      ],
      "names": [],
      "mappings": "AAAA;;AAEA;;;;AACA;;;;;;AACA,IAAI,IAAJ;AACA,IAAI,UAAU,SAAV,OAAU,GAAW;AACvB,SAAO,mBAAS;AACd,cAAU,OAAV;AACA,UAAM,WAAN;AACA,WAAO,kBAAP;AACA,cAAU,UAAV;GAJK,CAAP,CADuB;AAOvB,SAAO,IAAP,CAPuB;CAAX;;AAUd,SAAS,YAAT,EAAuB,YAAW;AAChC,SAAO,YAAW;;AAEhB,WAAO,eAAK,MAAL,EAAP,CAFgB;GAAX,CAAP,CADgC;;AAMhC,aAAW,YAAW;AACpB,cADoB;GAAX,CAAX,CANgC;;AAUhC,YAAU,YAAW;AACnB,WAAO,eAAK,MAAL,EAAP,CADmB;GAAX,CAAV,CAVgC;;AAchC,KAAG,4BAAH,EAAiC,YAAW;AAC1C,WAAO,OAAO,eAAK,IAAL,CAAU,EAAV,EAAc,IAAd,EAAP,EAA6B,EAA7B,CACJ,UADI,CACO,IADP,CACY,MADZ,CACmB,CADnB,CAAP,CAD0C;GAAX,CAAjC,CAdgC;;AAmBhC,KAAG,0CAAH,EAA+C,YAAW;AACxD,WAAO,OAAO,KAAK,IAAL,GACX,IADW,CACN,YAAW;AACf,UAAI,UAAU,SAAV,CADW;AAEf,aAAO,QAAQ,IAAR,EAAP,CAFe;KAAX,CADD,EAID,EAJC,CAIE,EAJF,CAIK,QAJL,CADiD;GAAX,CAA/C,CAnBgC;;AA2BhC,WAAS,QAAT,EAAmB,YAAW;AAC5B,OAAG,0CAAH,EAA+C,YAAW;AACxD,WAAK,KAAL,GAAa,EAAb,CADwD;AAExD,aAAO,OAAO,KAAK,IAAL,EAAP,EAAoB,EAApB,CAAuB,EAAvB,CAA0B,QAA1B,CAFiD;KAAX,CAA/C,CAD4B;GAAX,CAAnB,CA3BgC;;AAkChC,WAAS,WAAT,EAAsB,YAAW;AAC/B,eAAW,YAAW;AACpB,aAAO,KAAK,IAAL,EAAP,CADoB;KAAX,CAAX,CAD+B;;AAK/B,OAAG,mCAAH,EAAwC,YAAW;AACjD,aAAO,KAAK,YAAL,CAAkB,UAAlB,CAAP,EAAsC,EAAtC,CAAyC,EAAzC,CAA4C,IAA5C,CADiD;KAAX,CAAxC,CAL+B;;AAS/B,OAAG,yCAAH,EAA8C,YAAW;AACvD,aAAO,KAAK,YAAL,CAAkB,MAAlB,CAAP,EAAkC,EAAlC,CAAqC,GAArC,CAAyC,EAAzC,CAA4C,IAA5C,CADuD;KAAX,CAA9C,CAT+B;;AAa/B,OAAG,4DAAH,EAAiE,YAAW;AAC1E,WAAK,IAAL,GAAY,WAAZ,CAD0E;AAE1E,aAAO,OAAO,KAAK,IAAL,GACX,IADW,CACN,UAAS,CAAT,EAAY;AAChB,eAAO,EAAE,YAAF,CAAe,UAAf,CAAP,CADgB;OAAZ,CADD,EAGD,EAHC,CAGE,UAHF,CAGa,EAHb,CAGgB,IAHhB,CAFmE;KAAX,CAAjE,CAb+B;GAAX,CAAtB,CAlCgC;CAAX,CAAvB",
      "file": "user.model.spec.js",
      "sourcesContent": [
        "'use strict';\n\nimport app from '../..';\nimport User from './user.model';\nvar user;\nvar genUser = function() {\n  user = new User({\n    provider: 'local',\n    name: 'Fake User',\n    email: 'test@example.com',\n    password: 'password'\n  });\n  return user;\n};\n\ndescribe('User Model', function() {\n  before(function() {\n    // Clear users before testing\n    return User.remove();\n  });\n\n  beforeEach(function() {\n    genUser();\n  });\n\n  afterEach(function() {\n    return User.remove();\n  });\n\n  it('should begin with no users', function() {\n    return expect(User.find({}).exec()).to\n      .eventually.have.length(0);\n  });\n\n  it('should fail when saving a duplicate user', function() {\n    return expect(user.save()\n      .then(function() {\n        var userDup = genUser();\n        return userDup.save();\n      })).to.be.rejected;\n  });\n\n  describe('#email', function() {\n    it('should fail when saving without an email', function() {\n      user.email = '';\n      return expect(user.save()).to.be.rejected;\n    });\n  });\n\n  describe('#password', function() {\n    beforeEach(function() {\n      return user.save();\n    });\n\n    it('should authenticate user if valid', function() {\n      expect(user.authenticate('password')).to.be.true;\n    });\n\n    it('should not authenticate user if invalid', function() {\n      expect(user.authenticate('blah')).to.not.be.true;\n    });\n\n    it('should remain the same hash unless the password is updated', function() {\n      user.name = 'Test User';\n      return expect(user.save()\n        .then(function(u) {\n          return u.authenticate('password');\n        })).to.eventually.be.true;\n    });\n  });\n\n});\n"
      ]
    },
    "mtime": 1459628251535
  },
  "{\"filename\":\"/home/vagrant/server/index.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false}:6.7.4:test": {
    "metadata": {
      "usedHelpers": [],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/home/vagrant/server/index.js",
      "filenameRelative": "/home/vagrant/server/index.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMap": "both",
      "sourceMaps": "both",
      "sourceMapTarget": "index.js",
      "sourceFileName": "index.js",
      "babelrc": false,
      "sourceType": "module",
      "moduleIds": false,
      "passPerPreset": false,
      "basename": "index"
    },
    "ignored": false,
    "code": "'use strict';\n\n// Set default node environment to development\n\nvar env = process.env.NODE_ENV = process.env.NODE_ENV || 'development';\n\nif (env === 'development' || env === 'test') {\n  // Register the Babel require hook\n  require('babel-register');\n}\n\n// Export the application\nexports = module.exports = require('./app');\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7O0FBR0EsSUFBSSxNQUFNLFFBQVEsR0FBUixDQUFZLFFBQVosR0FBdUIsUUFBUSxHQUFSLENBQVksUUFBWixJQUF3QixhQUF4Qjs7QUFFakMsSUFBSSxRQUFRLGFBQVIsSUFBeUIsUUFBUSxNQUFSLEVBQWdCOztBQUUzQyxVQUFRLGdCQUFSLEVBRjJDO0NBQTdDOzs7QUFNQSxVQUFVLE9BQU8sT0FBUCxHQUFpQixRQUFRLE9BQVIsQ0FBakIiLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbi8vIFNldCBkZWZhdWx0IG5vZGUgZW52aXJvbm1lbnQgdG8gZGV2ZWxvcG1lbnRcbnZhciBlbnYgPSBwcm9jZXNzLmVudi5OT0RFX0VOViA9IHByb2Nlc3MuZW52Lk5PREVfRU5WIHx8ICdkZXZlbG9wbWVudCc7XG5cbmlmIChlbnYgPT09ICdkZXZlbG9wbWVudCcgfHwgZW52ID09PSAndGVzdCcpIHtcbiAgLy8gUmVnaXN0ZXIgdGhlIEJhYmVsIHJlcXVpcmUgaG9va1xuICByZXF1aXJlKCdiYWJlbC1yZWdpc3RlcicpO1xufVxuXG4vLyBFeHBvcnQgdGhlIGFwcGxpY2F0aW9uXG5leHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2FwcCcpO1xuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [],
      "mappings": "AAAA;;;;AAGA,IAAI,MAAM,QAAQ,GAAR,CAAY,QAAZ,GAAuB,QAAQ,GAAR,CAAY,QAAZ,IAAwB,aAAxB;;AAEjC,IAAI,QAAQ,aAAR,IAAyB,QAAQ,MAAR,EAAgB;;AAE3C,UAAQ,gBAAR,EAF2C;CAA7C;;;AAMA,UAAU,OAAO,OAAP,GAAiB,QAAQ,OAAR,CAAjB",
      "file": "index.js",
      "sourcesContent": [
        "'use strict';\n\n// Set default node environment to development\nvar env = process.env.NODE_ENV = process.env.NODE_ENV || 'development';\n\nif (env === 'development' || env === 'test') {\n  // Register the Babel require hook\n  require('babel-register');\n}\n\n// Export the application\nexports = module.exports = require('./app');\n"
      ]
    },
    "mtime": 1459628251571
  },
  "{\"filename\":\"/home/vagrant/server/app.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false}:6.7.4:test": {
    "metadata": {
      "usedHelpers": [
        "interopRequireDefault"
      ],
      "marked": [],
      "modules": {
        "imports": [
          {
            "source": "express",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "express"
              }
            ]
          },
          {
            "source": "mongoose",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "mongoose"
              }
            ]
          },
          {
            "source": "./config/environment",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "config"
              }
            ]
          },
          {
            "source": "http",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "http"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/home/vagrant/server/app.js",
      "filenameRelative": "/home/vagrant/server/app.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMap": "both",
      "sourceMaps": "both",
      "sourceMapTarget": "app.js",
      "sourceFileName": "app.js",
      "babelrc": false,
      "sourceType": "module",
      "moduleIds": false,
      "passPerPreset": false,
      "basename": "app"
    },
    "ignored": false,
    "code": "/**\n * Main application file\n */\n\n'use strict';\n\nvar _express = require('express');\n\nvar _express2 = _interopRequireDefault(_express);\n\nvar _mongoose = require('mongoose');\n\nvar _mongoose2 = _interopRequireDefault(_mongoose);\n\nvar _environment = require('./config/environment');\n\nvar _environment2 = _interopRequireDefault(_environment);\n\nvar _http = require('http');\n\nvar _http2 = _interopRequireDefault(_http);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n_mongoose2.default.Promise = require('bluebird');\n\n\n// Connect to MongoDB\n_mongoose2.default.connect(_environment2.default.mongo.uri, _environment2.default.mongo.options);\n_mongoose2.default.connection.on('error', function (err) {\n  console.error('MongoDB connection error: ' + err);\n  process.exit(-1);\n});\n\n// Populate databases with sample data\nif (_environment2.default.seedDB) {\n  require('./config/seed');\n}\n\n// Setup server\nvar app = (0, _express2.default)();\nvar server = _http2.default.createServer(app);\nvar socketio = require('socket.io')(server, {\n  serveClient: _environment2.default.env !== 'production',\n  path: '/socket.io-client'\n});\nrequire('./config/socketio').default(socketio);\nrequire('./config/express').default(app);\nrequire('./routes').default(app);\n\n// Start server\nfunction startServer() {\n  app.angularFullstack = server.listen(_environment2.default.port, _environment2.default.ip, function () {\n    console.log('Express server listening on %d, in %s mode', _environment2.default.port, app.get('env'));\n  });\n}\n\nsetImmediate(startServer);\n\n// Expose app\nexports = module.exports = app;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O0FBSUE7O0FBRUE7Ozs7QUFDQTs7OztBQUVBOzs7O0FBQ0E7Ozs7OztBQUZBLG1CQUFTLE9BQVQsR0FBbUIsUUFBUSxVQUFSLENBQW5COzs7O0FBS0EsbUJBQVMsT0FBVCxDQUFpQixzQkFBTyxLQUFQLENBQWEsR0FBYixFQUFrQixzQkFBTyxLQUFQLENBQWEsT0FBYixDQUFuQztBQUNBLG1CQUFTLFVBQVQsQ0FBb0IsRUFBcEIsQ0FBdUIsT0FBdkIsRUFBZ0MsVUFBUyxHQUFULEVBQWM7QUFDNUMsVUFBUSxLQUFSLENBQWMsK0JBQStCLEdBQS9CLENBQWQsQ0FENEM7QUFFNUMsVUFBUSxJQUFSLENBQWEsQ0FBQyxDQUFELENBQWIsQ0FGNEM7Q0FBZCxDQUFoQzs7O0FBTUEsSUFBSSxzQkFBTyxNQUFQLEVBQWU7QUFBRSxVQUFRLGVBQVIsRUFBRjtDQUFuQjs7O0FBR0EsSUFBSSxNQUFNLHdCQUFOO0FBQ0osSUFBSSxTQUFTLGVBQUssWUFBTCxDQUFrQixHQUFsQixDQUFUO0FBQ0osSUFBSSxXQUFXLFFBQVEsV0FBUixFQUFxQixNQUFyQixFQUE2QjtBQUMxQyxlQUFhLHNCQUFPLEdBQVAsS0FBZSxZQUFmO0FBQ2IsUUFBTSxtQkFBTjtDQUZhLENBQVg7QUFJSixRQUFRLG1CQUFSLEVBQTZCLE9BQTdCLENBQXFDLFFBQXJDO0FBQ0EsUUFBUSxrQkFBUixFQUE0QixPQUE1QixDQUFvQyxHQUFwQztBQUNBLFFBQVEsVUFBUixFQUFvQixPQUFwQixDQUE0QixHQUE1Qjs7O0FBR0EsU0FBUyxXQUFULEdBQXVCO0FBQ3JCLE1BQUksZ0JBQUosR0FBdUIsT0FBTyxNQUFQLENBQWMsc0JBQU8sSUFBUCxFQUFhLHNCQUFPLEVBQVAsRUFBVyxZQUFXO0FBQ3RFLFlBQVEsR0FBUixDQUFZLDRDQUFaLEVBQTBELHNCQUFPLElBQVAsRUFBYSxJQUFJLEdBQUosQ0FBUSxLQUFSLENBQXZFLEVBRHNFO0dBQVgsQ0FBN0QsQ0FEcUI7Q0FBdkI7O0FBTUEsYUFBYSxXQUFiOzs7QUFHQSxVQUFVLE9BQU8sT0FBUCxHQUFpQixHQUFqQiIsImZpbGUiOiJhcHAuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIE1haW4gYXBwbGljYXRpb24gZmlsZVxuICovXG5cbid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IGV4cHJlc3MgZnJvbSAnZXhwcmVzcyc7XG5pbXBvcnQgbW9uZ29vc2UgZnJvbSAnbW9uZ29vc2UnO1xubW9uZ29vc2UuUHJvbWlzZSA9IHJlcXVpcmUoJ2JsdWViaXJkJyk7XG5pbXBvcnQgY29uZmlnIGZyb20gJy4vY29uZmlnL2Vudmlyb25tZW50JztcbmltcG9ydCBodHRwIGZyb20gJ2h0dHAnO1xuXG4vLyBDb25uZWN0IHRvIE1vbmdvREJcbm1vbmdvb3NlLmNvbm5lY3QoY29uZmlnLm1vbmdvLnVyaSwgY29uZmlnLm1vbmdvLm9wdGlvbnMpO1xubW9uZ29vc2UuY29ubmVjdGlvbi5vbignZXJyb3InLCBmdW5jdGlvbihlcnIpIHtcbiAgY29uc29sZS5lcnJvcignTW9uZ29EQiBjb25uZWN0aW9uIGVycm9yOiAnICsgZXJyKTtcbiAgcHJvY2Vzcy5leGl0KC0xKTtcbn0pO1xuXG4vLyBQb3B1bGF0ZSBkYXRhYmFzZXMgd2l0aCBzYW1wbGUgZGF0YVxuaWYgKGNvbmZpZy5zZWVkREIpIHsgcmVxdWlyZSgnLi9jb25maWcvc2VlZCcpOyB9XG5cbi8vIFNldHVwIHNlcnZlclxudmFyIGFwcCA9IGV4cHJlc3MoKTtcbnZhciBzZXJ2ZXIgPSBodHRwLmNyZWF0ZVNlcnZlcihhcHApO1xudmFyIHNvY2tldGlvID0gcmVxdWlyZSgnc29ja2V0LmlvJykoc2VydmVyLCB7XG4gIHNlcnZlQ2xpZW50OiBjb25maWcuZW52ICE9PSAncHJvZHVjdGlvbicsXG4gIHBhdGg6ICcvc29ja2V0LmlvLWNsaWVudCdcbn0pO1xucmVxdWlyZSgnLi9jb25maWcvc29ja2V0aW8nKS5kZWZhdWx0KHNvY2tldGlvKTtcbnJlcXVpcmUoJy4vY29uZmlnL2V4cHJlc3MnKS5kZWZhdWx0KGFwcCk7XG5yZXF1aXJlKCcuL3JvdXRlcycpLmRlZmF1bHQoYXBwKTtcblxuLy8gU3RhcnQgc2VydmVyXG5mdW5jdGlvbiBzdGFydFNlcnZlcigpIHtcbiAgYXBwLmFuZ3VsYXJGdWxsc3RhY2sgPSBzZXJ2ZXIubGlzdGVuKGNvbmZpZy5wb3J0LCBjb25maWcuaXAsIGZ1bmN0aW9uKCkge1xuICAgIGNvbnNvbGUubG9nKCdFeHByZXNzIHNlcnZlciBsaXN0ZW5pbmcgb24gJWQsIGluICVzIG1vZGUnLCBjb25maWcucG9ydCwgYXBwLmdldCgnZW52JykpO1xuICB9KTtcbn1cblxuc2V0SW1tZWRpYXRlKHN0YXJ0U2VydmVyKTtcblxuLy8gRXhwb3NlIGFwcFxuZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gYXBwO1xuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "app.js"
      ],
      "names": [],
      "mappings": ";;;;AAIA;;AAEA;;;;AACA;;;;AAEA;;;;AACA;;;;;;AAFA,mBAAS,OAAT,GAAmB,QAAQ,UAAR,CAAnB;;;;AAKA,mBAAS,OAAT,CAAiB,sBAAO,KAAP,CAAa,GAAb,EAAkB,sBAAO,KAAP,CAAa,OAAb,CAAnC;AACA,mBAAS,UAAT,CAAoB,EAApB,CAAuB,OAAvB,EAAgC,UAAS,GAAT,EAAc;AAC5C,UAAQ,KAAR,CAAc,+BAA+B,GAA/B,CAAd,CAD4C;AAE5C,UAAQ,IAAR,CAAa,CAAC,CAAD,CAAb,CAF4C;CAAd,CAAhC;;;AAMA,IAAI,sBAAO,MAAP,EAAe;AAAE,UAAQ,eAAR,EAAF;CAAnB;;;AAGA,IAAI,MAAM,wBAAN;AACJ,IAAI,SAAS,eAAK,YAAL,CAAkB,GAAlB,CAAT;AACJ,IAAI,WAAW,QAAQ,WAAR,EAAqB,MAArB,EAA6B;AAC1C,eAAa,sBAAO,GAAP,KAAe,YAAf;AACb,QAAM,mBAAN;CAFa,CAAX;AAIJ,QAAQ,mBAAR,EAA6B,OAA7B,CAAqC,QAArC;AACA,QAAQ,kBAAR,EAA4B,OAA5B,CAAoC,GAApC;AACA,QAAQ,UAAR,EAAoB,OAApB,CAA4B,GAA5B;;;AAGA,SAAS,WAAT,GAAuB;AACrB,MAAI,gBAAJ,GAAuB,OAAO,MAAP,CAAc,sBAAO,IAAP,EAAa,sBAAO,EAAP,EAAW,YAAW;AACtE,YAAQ,GAAR,CAAY,4CAAZ,EAA0D,sBAAO,IAAP,EAAa,IAAI,GAAJ,CAAQ,KAAR,CAAvE,EADsE;GAAX,CAA7D,CADqB;CAAvB;;AAMA,aAAa,WAAb;;;AAGA,UAAU,OAAO,OAAP,GAAiB,GAAjB",
      "file": "app.js",
      "sourcesContent": [
        "/**\n * Main application file\n */\n\n'use strict';\n\nimport express from 'express';\nimport mongoose from 'mongoose';\nmongoose.Promise = require('bluebird');\nimport config from './config/environment';\nimport http from 'http';\n\n// Connect to MongoDB\nmongoose.connect(config.mongo.uri, config.mongo.options);\nmongoose.connection.on('error', function(err) {\n  console.error('MongoDB connection error: ' + err);\n  process.exit(-1);\n});\n\n// Populate databases with sample data\nif (config.seedDB) { require('./config/seed'); }\n\n// Setup server\nvar app = express();\nvar server = http.createServer(app);\nvar socketio = require('socket.io')(server, {\n  serveClient: config.env !== 'production',\n  path: '/socket.io-client'\n});\nrequire('./config/socketio').default(socketio);\nrequire('./config/express').default(app);\nrequire('./routes').default(app);\n\n// Start server\nfunction startServer() {\n  app.angularFullstack = server.listen(config.port, config.ip, function() {\n    console.log('Express server listening on %d, in %s mode', config.port, app.get('env'));\n  });\n}\n\nsetImmediate(startServer);\n\n// Expose app\nexports = module.exports = app;\n"
      ]
    },
    "mtime": 1459628251539
  },
  "{\"filename\":\"/home/vagrant/server/config/socketio.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false}:6.7.4:test": {
    "metadata": {
      "usedHelpers": [
        "interopRequireDefault"
      ],
      "marked": [],
      "modules": {
        "imports": [
          {
            "source": "./environment",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "config"
              }
            ]
          }
        ],
        "exports": {
          "exported": [
            "socketio"
          ],
          "specifiers": [
            {
              "kind": "local",
              "local": "socketio",
              "exported": "default"
            }
          ]
        }
      }
    },
    "options": {
      "filename": "/home/vagrant/server/config/socketio.js",
      "filenameRelative": "/home/vagrant/server/config/socketio.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMap": "both",
      "sourceMaps": "both",
      "sourceMapTarget": "socketio.js",
      "sourceFileName": "socketio.js",
      "babelrc": false,
      "sourceType": "module",
      "moduleIds": false,
      "passPerPreset": false,
      "basename": "socketio"
    },
    "ignored": false,
    "code": "/**\n * Socket.io configuration\n */\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (socketio) {\n  // socket.io (v1.x.x) is powered by debug.\n  // In order to see all the debug output, set DEBUG (in server/config/local.env.js) to including the desired scope.\n  //\n  // ex: DEBUG: \"http*,socket.io:socket\"\n\n  // We can authenticate socket.io users and access their token through socket.decoded_token\n  //\n  // 1. You will need to send the token in `client/components/socket/socket.service.js`\n  //\n  // 2. Require authentication here:\n  // socketio.use(require('socketio-jwt').authorize({\n  //   secret: config.secrets.session,\n  //   handshake: true\n  // }));\n\n  socketio.on('connection', function (socket) {\n    socket.address = socket.request.connection.remoteAddress + ':' + socket.request.connection.remotePort;\n\n    socket.connectedAt = new Date();\n\n    socket.log = function () {\n      var _console;\n\n      for (var _len = arguments.length, data = Array(_len), _key = 0; _key < _len; _key++) {\n        data[_key] = arguments[_key];\n      }\n\n      (_console = console).log.apply(_console, ['SocketIO ' + socket.nsp.name + ' [' + socket.address + ']'].concat(data));\n    };\n\n    // Call onDisconnect.\n    socket.on('disconnect', function () {\n      onDisconnect(socket);\n      socket.log('DISCONNECTED');\n    });\n\n    // Call onConnect.\n    onConnect(socket);\n    socket.log('CONNECTED');\n  });\n};\n\nvar _environment = require('./environment');\n\nvar _environment2 = _interopRequireDefault(_environment);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// When the user disconnects.. perform this\nfunction onDisconnect(socket) {}\n\n// When the user connects.. perform this\nfunction onConnect(socket) {\n  // When the client emits 'info', this listens and executes\n  socket.on('info', function (data) {\n    socket.log(JSON.stringify(data, null, 2));\n  });\n\n  // Insert sockets below\n  require('../api/thing/thing.socket').register(socket);\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNvY2tldGlvLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQUdBOzs7Ozs7a0JBb0JlLFVBQVMsUUFBVCxFQUFtQjs7Ozs7Ozs7Ozs7Ozs7OztBQWdCaEMsV0FBUyxFQUFULENBQVksWUFBWixFQUEwQixVQUFTLE1BQVQsRUFBaUI7QUFDekMsV0FBTyxPQUFQLEdBQWlCLE9BQU8sT0FBUCxDQUFlLFVBQWYsQ0FBMEIsYUFBMUIsR0FDZixHQURlLEdBQ1QsT0FBTyxPQUFQLENBQWUsVUFBZixDQUEwQixVQUExQixDQUZpQzs7QUFJekMsV0FBTyxXQUFQLEdBQXFCLElBQUksSUFBSixFQUFyQixDQUp5Qzs7QUFNekMsV0FBTyxHQUFQLEdBQWEsWUFBa0I7Ozt3Q0FBTjs7T0FBTTs7QUFDN0IsMkJBQVEsR0FBUixnQ0FBd0IsT0FBTyxHQUFQLENBQVcsSUFBWCxVQUFvQixPQUFPLE9BQVAsZUFBc0IsS0FBbEUsRUFENkI7S0FBbEI7OztBQU40QixVQVd6QyxDQUFPLEVBQVAsQ0FBVSxZQUFWLEVBQXdCLFlBQU07QUFDNUIsbUJBQWEsTUFBYixFQUQ0QjtBQUU1QixhQUFPLEdBQVAsQ0FBVyxjQUFYLEVBRjRCO0tBQU4sQ0FBeEI7OztBQVh5QyxhQWlCekMsQ0FBVSxNQUFWLEVBakJ5QztBQWtCekMsV0FBTyxHQUFQLENBQVcsV0FBWCxFQWxCeUM7R0FBakIsQ0FBMUIsQ0FoQmdDO0NBQW5COztBQWxCZjs7Ozs7OztBQUdBLFNBQVMsWUFBVCxDQUFzQixNQUF0QixFQUE4QixFQUE5Qjs7O0FBSUEsU0FBUyxTQUFULENBQW1CLE1BQW5CLEVBQTJCOztBQUV6QixTQUFPLEVBQVAsQ0FBVSxNQUFWLEVBQWtCLGdCQUFRO0FBQ3hCLFdBQU8sR0FBUCxDQUFXLEtBQUssU0FBTCxDQUFlLElBQWYsRUFBcUIsSUFBckIsRUFBMkIsQ0FBM0IsQ0FBWCxFQUR3QjtHQUFSLENBQWxCOzs7QUFGeUIsU0FPekIsQ0FBUSwyQkFBUixFQUFxQyxRQUFyQyxDQUE4QyxNQUE5QyxFQVB5QjtDQUEzQiIsImZpbGUiOiJzb2NrZXRpby5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogU29ja2V0LmlvIGNvbmZpZ3VyYXRpb25cbiAqL1xuJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgY29uZmlnIGZyb20gJy4vZW52aXJvbm1lbnQnO1xuXG4vLyBXaGVuIHRoZSB1c2VyIGRpc2Nvbm5lY3RzLi4gcGVyZm9ybSB0aGlzXG5mdW5jdGlvbiBvbkRpc2Nvbm5lY3Qoc29ja2V0KSB7XG59XG5cbi8vIFdoZW4gdGhlIHVzZXIgY29ubmVjdHMuLiBwZXJmb3JtIHRoaXNcbmZ1bmN0aW9uIG9uQ29ubmVjdChzb2NrZXQpIHtcbiAgLy8gV2hlbiB0aGUgY2xpZW50IGVtaXRzICdpbmZvJywgdGhpcyBsaXN0ZW5zIGFuZCBleGVjdXRlc1xuICBzb2NrZXQub24oJ2luZm8nLCBkYXRhID0+IHtcbiAgICBzb2NrZXQubG9nKEpTT04uc3RyaW5naWZ5KGRhdGEsIG51bGwsIDIpKTtcbiAgfSk7XG5cbiAgLy8gSW5zZXJ0IHNvY2tldHMgYmVsb3dcbiAgcmVxdWlyZSgnLi4vYXBpL3RoaW5nL3RoaW5nLnNvY2tldCcpLnJlZ2lzdGVyKHNvY2tldCk7XG5cbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oc29ja2V0aW8pIHtcbiAgLy8gc29ja2V0LmlvICh2MS54LngpIGlzIHBvd2VyZWQgYnkgZGVidWcuXG4gIC8vIEluIG9yZGVyIHRvIHNlZSBhbGwgdGhlIGRlYnVnIG91dHB1dCwgc2V0IERFQlVHIChpbiBzZXJ2ZXIvY29uZmlnL2xvY2FsLmVudi5qcykgdG8gaW5jbHVkaW5nIHRoZSBkZXNpcmVkIHNjb3BlLlxuICAvL1xuICAvLyBleDogREVCVUc6IFwiaHR0cCosc29ja2V0LmlvOnNvY2tldFwiXG5cbiAgLy8gV2UgY2FuIGF1dGhlbnRpY2F0ZSBzb2NrZXQuaW8gdXNlcnMgYW5kIGFjY2VzcyB0aGVpciB0b2tlbiB0aHJvdWdoIHNvY2tldC5kZWNvZGVkX3Rva2VuXG4gIC8vXG4gIC8vIDEuIFlvdSB3aWxsIG5lZWQgdG8gc2VuZCB0aGUgdG9rZW4gaW4gYGNsaWVudC9jb21wb25lbnRzL3NvY2tldC9zb2NrZXQuc2VydmljZS5qc2BcbiAgLy9cbiAgLy8gMi4gUmVxdWlyZSBhdXRoZW50aWNhdGlvbiBoZXJlOlxuICAvLyBzb2NrZXRpby51c2UocmVxdWlyZSgnc29ja2V0aW8tand0JykuYXV0aG9yaXplKHtcbiAgLy8gICBzZWNyZXQ6IGNvbmZpZy5zZWNyZXRzLnNlc3Npb24sXG4gIC8vICAgaGFuZHNoYWtlOiB0cnVlXG4gIC8vIH0pKTtcblxuICBzb2NrZXRpby5vbignY29ubmVjdGlvbicsIGZ1bmN0aW9uKHNvY2tldCkge1xuICAgIHNvY2tldC5hZGRyZXNzID0gc29ja2V0LnJlcXVlc3QuY29ubmVjdGlvbi5yZW1vdGVBZGRyZXNzICtcbiAgICAgICc6JyArIHNvY2tldC5yZXF1ZXN0LmNvbm5lY3Rpb24ucmVtb3RlUG9ydDtcblxuICAgIHNvY2tldC5jb25uZWN0ZWRBdCA9IG5ldyBEYXRlKCk7XG5cbiAgICBzb2NrZXQubG9nID0gZnVuY3Rpb24oLi4uZGF0YSkge1xuICAgICAgY29uc29sZS5sb2coYFNvY2tldElPICR7c29ja2V0Lm5zcC5uYW1lfSBbJHtzb2NrZXQuYWRkcmVzc31dYCwgLi4uZGF0YSk7XG4gICAgfTtcblxuICAgIC8vIENhbGwgb25EaXNjb25uZWN0LlxuICAgIHNvY2tldC5vbignZGlzY29ubmVjdCcsICgpID0+IHtcbiAgICAgIG9uRGlzY29ubmVjdChzb2NrZXQpO1xuICAgICAgc29ja2V0LmxvZygnRElTQ09OTkVDVEVEJyk7XG4gICAgfSk7XG5cbiAgICAvLyBDYWxsIG9uQ29ubmVjdC5cbiAgICBvbkNvbm5lY3Qoc29ja2V0KTtcbiAgICBzb2NrZXQubG9nKCdDT05ORUNURUQnKTtcbiAgfSk7XG59XG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "socketio.js"
      ],
      "names": [],
      "mappings": ";;;AAGA;;;;;;kBAoBe,UAAS,QAAT,EAAmB;;;;;;;;;;;;;;;;AAgBhC,WAAS,EAAT,CAAY,YAAZ,EAA0B,UAAS,MAAT,EAAiB;AACzC,WAAO,OAAP,GAAiB,OAAO,OAAP,CAAe,UAAf,CAA0B,aAA1B,GACf,GADe,GACT,OAAO,OAAP,CAAe,UAAf,CAA0B,UAA1B,CAFiC;;AAIzC,WAAO,WAAP,GAAqB,IAAI,IAAJ,EAArB,CAJyC;;AAMzC,WAAO,GAAP,GAAa,YAAkB;;;wCAAN;;OAAM;;AAC7B,2BAAQ,GAAR,gCAAwB,OAAO,GAAP,CAAW,IAAX,UAAoB,OAAO,OAAP,eAAsB,KAAlE,EAD6B;KAAlB;;;AAN4B,UAWzC,CAAO,EAAP,CAAU,YAAV,EAAwB,YAAM;AAC5B,mBAAa,MAAb,EAD4B;AAE5B,aAAO,GAAP,CAAW,cAAX,EAF4B;KAAN,CAAxB;;;AAXyC,aAiBzC,CAAU,MAAV,EAjByC;AAkBzC,WAAO,GAAP,CAAW,WAAX,EAlByC;GAAjB,CAA1B,CAhBgC;CAAnB;;AAlBf;;;;;;;AAGA,SAAS,YAAT,CAAsB,MAAtB,EAA8B,EAA9B;;;AAIA,SAAS,SAAT,CAAmB,MAAnB,EAA2B;;AAEzB,SAAO,EAAP,CAAU,MAAV,EAAkB,gBAAQ;AACxB,WAAO,GAAP,CAAW,KAAK,SAAL,CAAe,IAAf,EAAqB,IAArB,EAA2B,CAA3B,CAAX,EADwB;GAAR,CAAlB;;;AAFyB,SAOzB,CAAQ,2BAAR,EAAqC,QAArC,CAA8C,MAA9C,EAPyB;CAA3B",
      "file": "socketio.js",
      "sourcesContent": [
        "/**\n * Socket.io configuration\n */\n'use strict';\n\nimport config from './environment';\n\n// When the user disconnects.. perform this\nfunction onDisconnect(socket) {\n}\n\n// When the user connects.. perform this\nfunction onConnect(socket) {\n  // When the client emits 'info', this listens and executes\n  socket.on('info', data => {\n    socket.log(JSON.stringify(data, null, 2));\n  });\n\n  // Insert sockets below\n  require('../api/thing/thing.socket').register(socket);\n\n}\n\nexport default function(socketio) {\n  // socket.io (v1.x.x) is powered by debug.\n  // In order to see all the debug output, set DEBUG (in server/config/local.env.js) to including the desired scope.\n  //\n  // ex: DEBUG: \"http*,socket.io:socket\"\n\n  // We can authenticate socket.io users and access their token through socket.decoded_token\n  //\n  // 1. You will need to send the token in `client/components/socket/socket.service.js`\n  //\n  // 2. Require authentication here:\n  // socketio.use(require('socketio-jwt').authorize({\n  //   secret: config.secrets.session,\n  //   handshake: true\n  // }));\n\n  socketio.on('connection', function(socket) {\n    socket.address = socket.request.connection.remoteAddress +\n      ':' + socket.request.connection.remotePort;\n\n    socket.connectedAt = new Date();\n\n    socket.log = function(...data) {\n      console.log(`SocketIO ${socket.nsp.name} [${socket.address}]`, ...data);\n    };\n\n    // Call onDisconnect.\n    socket.on('disconnect', () => {\n      onDisconnect(socket);\n      socket.log('DISCONNECTED');\n    });\n\n    // Call onConnect.\n    onConnect(socket);\n    socket.log('CONNECTED');\n  });\n}\n"
      ]
    },
    "mtime": 1459628526293
  },
  "{\"filename\":\"/home/vagrant/server/config/express.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false}:6.7.4:test": {
    "metadata": {
      "usedHelpers": [
        "interopRequireDefault"
      ],
      "marked": [],
      "modules": {
        "imports": [
          {
            "source": "express",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "express"
              }
            ]
          },
          {
            "source": "serve-favicon",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "favicon"
              }
            ]
          },
          {
            "source": "morgan",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "morgan"
              }
            ]
          },
          {
            "source": "compression",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "compression"
              }
            ]
          },
          {
            "source": "body-parser",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "bodyParser"
              }
            ]
          },
          {
            "source": "method-override",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "methodOverride"
              }
            ]
          },
          {
            "source": "cookie-parser",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "cookieParser"
              }
            ]
          },
          {
            "source": "errorhandler",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "errorHandler"
              }
            ]
          },
          {
            "source": "path",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "path"
              }
            ]
          },
          {
            "source": "lusca",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "lusca"
              }
            ]
          },
          {
            "source": "./environment",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "config"
              }
            ]
          },
          {
            "source": "passport",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "passport"
              }
            ]
          },
          {
            "source": "express-session",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "session"
              }
            ]
          },
          {
            "source": "connect-mongo",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "connectMongo"
              }
            ]
          },
          {
            "source": "mongoose",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "mongoose"
              }
            ]
          }
        ],
        "exports": {
          "exported": [
            "app"
          ],
          "specifiers": [
            {
              "kind": "local",
              "local": "app",
              "exported": "default"
            }
          ]
        }
      }
    },
    "options": {
      "filename": "/home/vagrant/server/config/express.js",
      "filenameRelative": "/home/vagrant/server/config/express.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMap": "both",
      "sourceMaps": "both",
      "sourceMapTarget": "express.js",
      "sourceFileName": "express.js",
      "babelrc": false,
      "sourceType": "module",
      "moduleIds": false,
      "passPerPreset": false,
      "basename": "express"
    },
    "ignored": false,
    "code": "/**\n * Express configuration\n */\n\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (app) {\n  var env = app.get('env');\n\n  app.set('views', _environment2.default.root + '/server/views');\n  app.engine('html', require('ejs').renderFile);\n  app.set('view engine', 'html');\n  app.use((0, _compression2.default)());\n  app.use(_bodyParser2.default.urlencoded({ extended: false }));\n  app.use(_bodyParser2.default.json());\n  app.use((0, _methodOverride2.default)());\n  app.use((0, _cookieParser2.default)());\n  app.use(_passport2.default.initialize());\n\n  // Persist sessions with MongoStore / sequelizeStore\n  // We need to enable sessions for passport-twitter because it's an\n  // oauth 1.0 strategy, and Lusca depends on sessions\n  app.use((0, _expressSession2.default)({\n    secret: _environment2.default.secrets.session,\n    saveUninitialized: true,\n    resave: false,\n    store: new MongoStore({\n      mongooseConnection: _mongoose2.default.connection,\n      db: 'vagrant'\n    })\n  }));\n\n  /**\n   * Lusca - express server security\n   * https://github.com/krakenjs/lusca\n   */\n  if ('test' !== env) {\n    app.use((0, _lusca2.default)({\n      csrf: {\n        angular: true\n      },\n      xframe: 'SAMEORIGIN',\n      hsts: {\n        maxAge: 31536000, //1 year, in seconds\n        includeSubDomains: true,\n        preload: true\n      },\n      xssProtection: true\n    }));\n  }\n\n  app.set('appPath', _path2.default.join(_environment2.default.root, 'client'));\n\n  if ('production' === env) {\n    app.use((0, _serveFavicon2.default)(_path2.default.join(_environment2.default.root, 'client', 'favicon.ico')));\n    app.use(_express2.default.static(app.get('appPath')));\n    app.use((0, _morgan2.default)('dev'));\n  }\n\n  if ('development' === env) {\n    app.use(require('connect-livereload')());\n  }\n\n  if ('development' === env || 'test' === env) {\n    app.use(_express2.default.static(_path2.default.join(_environment2.default.root, '.tmp')));\n    app.use(_express2.default.static(app.get('appPath')));\n    app.use((0, _morgan2.default)('dev'));\n    app.use((0, _errorhandler2.default)()); // Error handler - has to be last\n  }\n};\n\nvar _express = require('express');\n\nvar _express2 = _interopRequireDefault(_express);\n\nvar _serveFavicon = require('serve-favicon');\n\nvar _serveFavicon2 = _interopRequireDefault(_serveFavicon);\n\nvar _morgan = require('morgan');\n\nvar _morgan2 = _interopRequireDefault(_morgan);\n\nvar _compression = require('compression');\n\nvar _compression2 = _interopRequireDefault(_compression);\n\nvar _bodyParser = require('body-parser');\n\nvar _bodyParser2 = _interopRequireDefault(_bodyParser);\n\nvar _methodOverride = require('method-override');\n\nvar _methodOverride2 = _interopRequireDefault(_methodOverride);\n\nvar _cookieParser = require('cookie-parser');\n\nvar _cookieParser2 = _interopRequireDefault(_cookieParser);\n\nvar _errorhandler = require('errorhandler');\n\nvar _errorhandler2 = _interopRequireDefault(_errorhandler);\n\nvar _path = require('path');\n\nvar _path2 = _interopRequireDefault(_path);\n\nvar _lusca = require('lusca');\n\nvar _lusca2 = _interopRequireDefault(_lusca);\n\nvar _environment = require('./environment');\n\nvar _environment2 = _interopRequireDefault(_environment);\n\nvar _passport = require('passport');\n\nvar _passport2 = _interopRequireDefault(_passport);\n\nvar _expressSession = require('express-session');\n\nvar _expressSession2 = _interopRequireDefault(_expressSession);\n\nvar _connectMongo = require('connect-mongo');\n\nvar _connectMongo2 = _interopRequireDefault(_connectMongo);\n\nvar _mongoose = require('mongoose');\n\nvar _mongoose2 = _interopRequireDefault(_mongoose);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar MongoStore = (0, _connectMongo2.default)(_expressSession2.default);\n//# sourceMappingURL=data:application/json;base64,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QUksYUFBYSxxREFBYiIsImZpbGUiOiJleHByZXNzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBFeHByZXNzIGNvbmZpZ3VyYXRpb25cbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbmltcG9ydCBleHByZXNzIGZyb20gJ2V4cHJlc3MnO1xuaW1wb3J0IGZhdmljb24gZnJvbSAnc2VydmUtZmF2aWNvbic7XG5pbXBvcnQgbW9yZ2FuIGZyb20gJ21vcmdhbic7XG5pbXBvcnQgY29tcHJlc3Npb24gZnJvbSAnY29tcHJlc3Npb24nO1xuaW1wb3J0IGJvZHlQYXJzZXIgZnJvbSAnYm9keS1wYXJzZXInO1xuaW1wb3J0IG1ldGhvZE92ZXJyaWRlIGZyb20gJ21ldGhvZC1vdmVycmlkZSc7XG5pbXBvcnQgY29va2llUGFyc2VyIGZyb20gJ2Nvb2tpZS1wYXJzZXInO1xuaW1wb3J0IGVycm9ySGFuZGxlciBmcm9tICdlcnJvcmhhbmRsZXInO1xuaW1wb3J0IHBhdGggZnJvbSAncGF0aCc7XG5pbXBvcnQgbHVzY2EgZnJvbSAnbHVzY2EnO1xuaW1wb3J0IGNvbmZpZyBmcm9tICcuL2Vudmlyb25tZW50JztcbmltcG9ydCBwYXNzcG9ydCBmcm9tICdwYXNzcG9ydCc7XG5pbXBvcnQgc2Vzc2lvbiBmcm9tICdleHByZXNzLXNlc3Npb24nO1xuaW1wb3J0IGNvbm5lY3RNb25nbyBmcm9tICdjb25uZWN0LW1vbmdvJztcbmltcG9ydCBtb25nb29zZSBmcm9tICdtb25nb29zZSc7XG52YXIgTW9uZ29TdG9yZSA9IGNvbm5lY3RNb25nbyhzZXNzaW9uKTtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oYXBwKSB7XG4gIHZhciBlbnYgPSBhcHAuZ2V0KCdlbnYnKTtcblxuICBhcHAuc2V0KCd2aWV3cycsIGNvbmZpZy5yb290ICsgJy9zZXJ2ZXIvdmlld3MnKTtcbiAgYXBwLmVuZ2luZSgnaHRtbCcsIHJlcXVpcmUoJ2VqcycpLnJlbmRlckZpbGUpO1xuICBhcHAuc2V0KCd2aWV3IGVuZ2luZScsICdodG1sJyk7XG4gIGFwcC51c2UoY29tcHJlc3Npb24oKSk7XG4gIGFwcC51c2UoYm9keVBhcnNlci51cmxlbmNvZGVkKHsgZXh0ZW5kZWQ6IGZhbHNlIH0pKTtcbiAgYXBwLnVzZShib2R5UGFyc2VyLmpzb24oKSk7XG4gIGFwcC51c2UobWV0aG9kT3ZlcnJpZGUoKSk7XG4gIGFwcC51c2UoY29va2llUGFyc2VyKCkpO1xuICBhcHAudXNlKHBhc3Nwb3J0LmluaXRpYWxpemUoKSk7XG5cbiAgLy8gUGVyc2lzdCBzZXNzaW9ucyB3aXRoIE1vbmdvU3RvcmUgLyBzZXF1ZWxpemVTdG9yZVxuICAvLyBXZSBuZWVkIHRvIGVuYWJsZSBzZXNzaW9ucyBmb3IgcGFzc3BvcnQtdHdpdHRlciBiZWNhdXNlIGl0J3MgYW5cbiAgLy8gb2F1dGggMS4wIHN0cmF0ZWd5LCBhbmQgTHVzY2EgZGVwZW5kcyBvbiBzZXNzaW9uc1xuICBhcHAudXNlKHNlc3Npb24oe1xuICAgIHNlY3JldDogY29uZmlnLnNlY3JldHMuc2Vzc2lvbixcbiAgICBzYXZlVW5pbml0aWFsaXplZDogdHJ1ZSxcbiAgICByZXNhdmU6IGZhbHNlLFxuICAgIHN0b3JlOiBuZXcgTW9uZ29TdG9yZSh7XG4gICAgICBtb25nb29zZUNvbm5lY3Rpb246IG1vbmdvb3NlLmNvbm5lY3Rpb24sXG4gICAgICBkYjogJ3ZhZ3JhbnQnXG4gICAgfSlcbiAgfSkpO1xuXG4gIC8qKlxuICAgKiBMdXNjYSAtIGV4cHJlc3Mgc2VydmVyIHNlY3VyaXR5XG4gICAqIGh0dHBzOi8vZ2l0aHViLmNvbS9rcmFrZW5qcy9sdXNjYVxuICAgKi9cbiAgaWYgKCd0ZXN0JyAhPT0gZW52KSB7XG4gICAgYXBwLnVzZShsdXNjYSh7XG4gICAgICBjc3JmOiB7XG4gICAgICAgIGFuZ3VsYXI6IHRydWVcbiAgICAgIH0sXG4gICAgICB4ZnJhbWU6ICdTQU1FT1JJR0lOJyxcbiAgICAgIGhzdHM6IHtcbiAgICAgICAgbWF4QWdlOiAzMTUzNjAwMCwgLy8xIHllYXIsIGluIHNlY29uZHNcbiAgICAgICAgaW5jbHVkZVN1YkRvbWFpbnM6IHRydWUsXG4gICAgICAgIHByZWxvYWQ6IHRydWVcbiAgICAgIH0sXG4gICAgICB4c3NQcm90ZWN0aW9uOiB0cnVlXG4gICAgfSkpO1xuICB9XG5cbiAgYXBwLnNldCgnYXBwUGF0aCcsIHBhdGguam9pbihjb25maWcucm9vdCwgJ2NsaWVudCcpKTtcblxuICBpZiAoJ3Byb2R1Y3Rpb24nID09PSBlbnYpIHtcbiAgICBhcHAudXNlKGZhdmljb24ocGF0aC5qb2luKGNvbmZpZy5yb290LCAnY2xpZW50JywgJ2Zhdmljb24uaWNvJykpKTtcbiAgICBhcHAudXNlKGV4cHJlc3Muc3RhdGljKGFwcC5nZXQoJ2FwcFBhdGgnKSkpO1xuICAgIGFwcC51c2UobW9yZ2FuKCdkZXYnKSk7XG4gIH1cblxuICBpZiAoJ2RldmVsb3BtZW50JyA9PT0gZW52KSB7XG4gICAgYXBwLnVzZShyZXF1aXJlKCdjb25uZWN0LWxpdmVyZWxvYWQnKSgpKTtcbiAgfVxuXG4gIGlmICgnZGV2ZWxvcG1lbnQnID09PSBlbnYgfHwgJ3Rlc3QnID09PSBlbnYpIHtcbiAgICBhcHAudXNlKGV4cHJlc3Muc3RhdGljKHBhdGguam9pbihjb25maWcucm9vdCwgJy50bXAnKSkpO1xuICAgIGFwcC51c2UoZXhwcmVzcy5zdGF0aWMoYXBwLmdldCgnYXBwUGF0aCcpKSk7XG4gICAgYXBwLnVzZShtb3JnYW4oJ2RldicpKTtcbiAgICBhcHAudXNlKGVycm9ySGFuZGxlcigpKTsgLy8gRXJyb3IgaGFuZGxlciAtIGhhcyB0byBiZSBsYXN0XG4gIH1cbn1cbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "express.js"
      ],
      "names": [],
      "mappings": ";;;;AAIA;;;;;;kBAmBe,UAAS,GAAT,EAAc;AAC3B,MAAI,MAAM,IAAI,GAAJ,CAAQ,KAAR,CAAN,CADuB;;AAG3B,MAAI,GAAJ,CAAQ,OAAR,EAAiB,sBAAO,IAAP,GAAc,eAAd,CAAjB,CAH2B;AAI3B,MAAI,MAAJ,CAAW,MAAX,EAAmB,QAAQ,KAAR,EAAe,UAAf,CAAnB,CAJ2B;AAK3B,MAAI,GAAJ,CAAQ,aAAR,EAAuB,MAAvB,EAL2B;AAM3B,MAAI,GAAJ,CAAQ,4BAAR,EAN2B;AAO3B,MAAI,GAAJ,CAAQ,qBAAW,UAAX,CAAsB,EAAE,UAAU,KAAV,EAAxB,CAAR,EAP2B;AAQ3B,MAAI,GAAJ,CAAQ,qBAAW,IAAX,EAAR,EAR2B;AAS3B,MAAI,GAAJ,CAAQ,+BAAR,EAT2B;AAU3B,MAAI,GAAJ,CAAQ,6BAAR,EAV2B;AAW3B,MAAI,GAAJ,CAAQ,mBAAS,UAAT,EAAR;;;;;AAX2B,KAgB3B,CAAI,GAAJ,CAAQ,8BAAQ;AACd,YAAQ,sBAAO,OAAP,CAAe,OAAf;AACR,uBAAmB,IAAnB;AACA,YAAQ,KAAR;AACA,WAAO,IAAI,UAAJ,CAAe;AACpB,0BAAoB,mBAAS,UAAT;AACpB,UAAI,SAAJ;KAFK,CAAP;GAJM,CAAR;;;;;;AAhB2B,MA8BvB,WAAW,GAAX,EAAgB;AAClB,QAAI,GAAJ,CAAQ,qBAAM;AACZ,YAAM;AACJ,iBAAS,IAAT;OADF;AAGA,cAAQ,YAAR;AACA,YAAM;AACJ,gBAAQ,QAAR;AACA,2BAAmB,IAAnB;AACA,iBAAS,IAAT;OAHF;AAKA,qBAAe,IAAf;KAVM,CAAR,EADkB;GAApB;;AAeA,MAAI,GAAJ,CAAQ,SAAR,EAAmB,eAAK,IAAL,CAAU,sBAAO,IAAP,EAAa,QAAvB,CAAnB,EA7C2B;;AA+C3B,MAAI,iBAAiB,GAAjB,EAAsB;AACxB,QAAI,GAAJ,CAAQ,4BAAQ,eAAK,IAAL,CAAU,sBAAO,IAAP,EAAa,QAAvB,EAAiC,aAAjC,CAAR,CAAR,EADwB;AAExB,QAAI,GAAJ,CAAQ,kBAAQ,MAAR,CAAe,IAAI,GAAJ,CAAQ,SAAR,CAAf,CAAR,EAFwB;AAGxB,QAAI,GAAJ,CAAQ,sBAAO,KAAP,CAAR,EAHwB;GAA1B;;AAMA,MAAI,kBAAkB,GAAlB,EAAuB;AACzB,QAAI,GAAJ,CAAQ,QAAQ,oBAAR,GAAR,EADyB;GAA3B;;AAIA,MAAI,kBAAkB,GAAlB,IAAyB,WAAW,GAAX,EAAgB;AAC3C,QAAI,GAAJ,CAAQ,kBAAQ,MAAR,CAAe,eAAK,IAAL,CAAU,sBAAO,IAAP,EAAa,MAAvB,CAAf,CAAR,EAD2C;AAE3C,QAAI,GAAJ,CAAQ,kBAAQ,MAAR,CAAe,IAAI,GAAJ,CAAQ,SAAR,CAAf,CAAR,EAF2C;AAG3C,QAAI,GAAJ,CAAQ,sBAAO,KAAP,CAAR,EAH2C;AAI3C,QAAI,GAAJ,CAAQ,6BAAR;AAJ2C,GAA7C;CAzDa;;AAjBf;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;AACA,IAAI,aAAa,qDAAb",
      "file": "express.js",
      "sourcesContent": [
        "/**\n * Express configuration\n */\n\n'use strict';\n\nimport express from 'express';\nimport favicon from 'serve-favicon';\nimport morgan from 'morgan';\nimport compression from 'compression';\nimport bodyParser from 'body-parser';\nimport methodOverride from 'method-override';\nimport cookieParser from 'cookie-parser';\nimport errorHandler from 'errorhandler';\nimport path from 'path';\nimport lusca from 'lusca';\nimport config from './environment';\nimport passport from 'passport';\nimport session from 'express-session';\nimport connectMongo from 'connect-mongo';\nimport mongoose from 'mongoose';\nvar MongoStore = connectMongo(session);\n\nexport default function(app) {\n  var env = app.get('env');\n\n  app.set('views', config.root + '/server/views');\n  app.engine('html', require('ejs').renderFile);\n  app.set('view engine', 'html');\n  app.use(compression());\n  app.use(bodyParser.urlencoded({ extended: false }));\n  app.use(bodyParser.json());\n  app.use(methodOverride());\n  app.use(cookieParser());\n  app.use(passport.initialize());\n\n  // Persist sessions with MongoStore / sequelizeStore\n  // We need to enable sessions for passport-twitter because it's an\n  // oauth 1.0 strategy, and Lusca depends on sessions\n  app.use(session({\n    secret: config.secrets.session,\n    saveUninitialized: true,\n    resave: false,\n    store: new MongoStore({\n      mongooseConnection: mongoose.connection,\n      db: 'vagrant'\n    })\n  }));\n\n  /**\n   * Lusca - express server security\n   * https://github.com/krakenjs/lusca\n   */\n  if ('test' !== env) {\n    app.use(lusca({\n      csrf: {\n        angular: true\n      },\n      xframe: 'SAMEORIGIN',\n      hsts: {\n        maxAge: 31536000, //1 year, in seconds\n        includeSubDomains: true,\n        preload: true\n      },\n      xssProtection: true\n    }));\n  }\n\n  app.set('appPath', path.join(config.root, 'client'));\n\n  if ('production' === env) {\n    app.use(favicon(path.join(config.root, 'client', 'favicon.ico')));\n    app.use(express.static(app.get('appPath')));\n    app.use(morgan('dev'));\n  }\n\n  if ('development' === env) {\n    app.use(require('connect-livereload')());\n  }\n\n  if ('development' === env || 'test' === env) {\n    app.use(express.static(path.join(config.root, '.tmp')));\n    app.use(express.static(app.get('appPath')));\n    app.use(morgan('dev'));\n    app.use(errorHandler()); // Error handler - has to be last\n  }\n}\n"
      ]
    },
    "mtime": 1459628251567
  },
  "{\"filename\":\"/home/vagrant/server/routes.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false}:6.7.4:test": {
    "metadata": {
      "usedHelpers": [
        "interopRequireDefault"
      ],
      "marked": [],
      "modules": {
        "imports": [
          {
            "source": "./components/errors",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "errors"
              }
            ]
          },
          {
            "source": "path",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "path"
              }
            ]
          }
        ],
        "exports": {
          "exported": [
            "app"
          ],
          "specifiers": [
            {
              "kind": "local",
              "local": "app",
              "exported": "default"
            }
          ]
        }
      }
    },
    "options": {
      "filename": "/home/vagrant/server/routes.js",
      "filenameRelative": "/home/vagrant/server/routes.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMap": "both",
      "sourceMaps": "both",
      "sourceMapTarget": "routes.js",
      "sourceFileName": "routes.js",
      "babelrc": false,
      "sourceType": "module",
      "moduleIds": false,
      "passPerPreset": false,
      "basename": "routes"
    },
    "ignored": false,
    "code": "/**\n * Main application routes\n */\n\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (app) {\n  // Insert routes below\n  app.use('/api/things', require('./api/thing'));\n  app.use('/api/users', require('./api/user'));\n\n  app.use('/auth', require('./auth').default);\n\n  // All undefined asset or api routes should return a 404\n  app.route('/:url(api|auth|components|app|bower_components|assets)/*').get(_errors2.default[404]);\n\n  // All other routes should redirect to the index.html\n  app.route('/*').get(function (req, res) {\n    res.sendFile(_path2.default.resolve(app.get('appPath') + '/index.html'));\n  });\n};\n\nvar _errors = require('./components/errors');\n\nvar _errors2 = _interopRequireDefault(_errors);\n\nvar _path = require('path');\n\nvar _path2 = _interopRequireDefault(_path);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJvdXRlcy5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O0FBSUE7Ozs7OztrQkFLZSxVQUFTLEdBQVQsRUFBYzs7QUFFM0IsTUFBSSxHQUFKLENBQVEsYUFBUixFQUF1QixRQUFRLGFBQVIsQ0FBdkIsRUFGMkI7QUFHM0IsTUFBSSxHQUFKLENBQVEsWUFBUixFQUFzQixRQUFRLFlBQVIsQ0FBdEIsRUFIMkI7O0FBSzNCLE1BQUksR0FBSixDQUFRLE9BQVIsRUFBaUIsUUFBUSxRQUFSLEVBQWtCLE9BQWxCLENBQWpCOzs7QUFMMkIsS0FRM0IsQ0FBSSxLQUFKLENBQVUsMERBQVYsRUFDRSxHQURGLENBQ00saUJBQU8sR0FBUCxDQUROOzs7QUFSMkIsS0FZM0IsQ0FBSSxLQUFKLENBQVUsSUFBVixFQUNHLEdBREgsQ0FDTyxVQUFDLEdBQUQsRUFBTSxHQUFOLEVBQWM7QUFDakIsUUFBSSxRQUFKLENBQWEsZUFBSyxPQUFMLENBQWEsSUFBSSxHQUFKLENBQVEsU0FBUixJQUFxQixhQUFyQixDQUExQixFQURpQjtHQUFkLENBRFAsQ0FaMkI7Q0FBZDs7QUFIZjs7OztBQUNBIiwiZmlsZSI6InJvdXRlcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogTWFpbiBhcHBsaWNhdGlvbiByb3V0ZXNcbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbmltcG9ydCBlcnJvcnMgZnJvbSAnLi9jb21wb25lbnRzL2Vycm9ycyc7XG5pbXBvcnQgcGF0aCBmcm9tICdwYXRoJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oYXBwKSB7XG4gIC8vIEluc2VydCByb3V0ZXMgYmVsb3dcbiAgYXBwLnVzZSgnL2FwaS90aGluZ3MnLCByZXF1aXJlKCcuL2FwaS90aGluZycpKTtcbiAgYXBwLnVzZSgnL2FwaS91c2VycycsIHJlcXVpcmUoJy4vYXBpL3VzZXInKSk7XG5cbiAgYXBwLnVzZSgnL2F1dGgnLCByZXF1aXJlKCcuL2F1dGgnKS5kZWZhdWx0KTtcblxuICAvLyBBbGwgdW5kZWZpbmVkIGFzc2V0IG9yIGFwaSByb3V0ZXMgc2hvdWxkIHJldHVybiBhIDQwNFxuICBhcHAucm91dGUoJy86dXJsKGFwaXxhdXRofGNvbXBvbmVudHN8YXBwfGJvd2VyX2NvbXBvbmVudHN8YXNzZXRzKS8qJylcbiAgIC5nZXQoZXJyb3JzWzQwNF0pO1xuXG4gIC8vIEFsbCBvdGhlciByb3V0ZXMgc2hvdWxkIHJlZGlyZWN0IHRvIHRoZSBpbmRleC5odG1sXG4gIGFwcC5yb3V0ZSgnLyonKVxuICAgIC5nZXQoKHJlcSwgcmVzKSA9PiB7XG4gICAgICByZXMuc2VuZEZpbGUocGF0aC5yZXNvbHZlKGFwcC5nZXQoJ2FwcFBhdGgnKSArICcvaW5kZXguaHRtbCcpKTtcbiAgICB9KTtcbn1cbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "routes.js"
      ],
      "names": [],
      "mappings": ";;;;AAIA;;;;;;kBAKe,UAAS,GAAT,EAAc;;AAE3B,MAAI,GAAJ,CAAQ,aAAR,EAAuB,QAAQ,aAAR,CAAvB,EAF2B;AAG3B,MAAI,GAAJ,CAAQ,YAAR,EAAsB,QAAQ,YAAR,CAAtB,EAH2B;;AAK3B,MAAI,GAAJ,CAAQ,OAAR,EAAiB,QAAQ,QAAR,EAAkB,OAAlB,CAAjB;;;AAL2B,KAQ3B,CAAI,KAAJ,CAAU,0DAAV,EACE,GADF,CACM,iBAAO,GAAP,CADN;;;AAR2B,KAY3B,CAAI,KAAJ,CAAU,IAAV,EACG,GADH,CACO,UAAC,GAAD,EAAM,GAAN,EAAc;AACjB,QAAI,QAAJ,CAAa,eAAK,OAAL,CAAa,IAAI,GAAJ,CAAQ,SAAR,IAAqB,aAArB,CAA1B,EADiB;GAAd,CADP,CAZ2B;CAAd;;AAHf;;;;AACA",
      "file": "routes.js",
      "sourcesContent": [
        "/**\n * Main application routes\n */\n\n'use strict';\n\nimport errors from './components/errors';\nimport path from 'path';\n\nexport default function(app) {\n  // Insert routes below\n  app.use('/api/things', require('./api/thing'));\n  app.use('/api/users', require('./api/user'));\n\n  app.use('/auth', require('./auth').default);\n\n  // All undefined asset or api routes should return a 404\n  app.route('/:url(api|auth|components|app|bower_components|assets)/*')\n   .get(errors[404]);\n\n  // All other routes should redirect to the index.html\n  app.route('/*')\n    .get((req, res) => {\n      res.sendFile(path.resolve(app.get('appPath') + '/index.html'));\n    });\n}\n"
      ]
    },
    "mtime": 1459628526293
  },
  "{\"filename\":\"/home/vagrant/server/components/errors/index.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false}:6.7.4:test": {
    "metadata": {
      "usedHelpers": [],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/home/vagrant/server/components/errors/index.js",
      "filenameRelative": "/home/vagrant/server/components/errors/index.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMap": "both",
      "sourceMaps": "both",
      "sourceMapTarget": "index.js",
      "sourceFileName": "index.js",
      "babelrc": false,
      "sourceType": "module",
      "moduleIds": false,
      "passPerPreset": false,
      "basename": "index"
    },
    "ignored": false,
    "code": "/**\n * Error responses\n */\n\n'use strict';\n\nmodule.exports[404] = function pageNotFound(req, res) {\n  var viewFilePath = '404';\n  var statusCode = 404;\n  var result = {\n    status: statusCode\n  };\n\n  res.status(result.status);\n  res.render(viewFilePath, {}, function (err, html) {\n    if (err) {\n      return res.status(result.status).json(result);\n    }\n\n    res.send(html);\n  });\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7QUFJQTs7QUFFQSxPQUFPLE9BQVAsQ0FBZSxHQUFmLElBQXNCLFNBQVMsWUFBVCxDQUFzQixHQUF0QixFQUEyQixHQUEzQixFQUFnQztBQUNwRCxNQUFJLGVBQWUsS0FBZixDQURnRDtBQUVwRCxNQUFJLGFBQWEsR0FBYixDQUZnRDtBQUdwRCxNQUFJLFNBQVM7QUFDWCxZQUFRLFVBQVI7R0FERSxDQUhnRDs7QUFPcEQsTUFBSSxNQUFKLENBQVcsT0FBTyxNQUFQLENBQVgsQ0FQb0Q7QUFRcEQsTUFBSSxNQUFKLENBQVcsWUFBWCxFQUF5QixFQUF6QixFQUE2QixVQUFTLEdBQVQsRUFBYyxJQUFkLEVBQW9CO0FBQy9DLFFBQUksR0FBSixFQUFTO0FBQ1AsYUFBTyxJQUFJLE1BQUosQ0FBVyxPQUFPLE1BQVAsQ0FBWCxDQUEwQixJQUExQixDQUErQixNQUEvQixDQUFQLENBRE87S0FBVDs7QUFJQSxRQUFJLElBQUosQ0FBUyxJQUFULEVBTCtDO0dBQXBCLENBQTdCLENBUm9EO0NBQWhDIiwiZmlsZSI6ImluZGV4LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBFcnJvciByZXNwb25zZXNcbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbm1vZHVsZS5leHBvcnRzWzQwNF0gPSBmdW5jdGlvbiBwYWdlTm90Rm91bmQocmVxLCByZXMpIHtcbiAgdmFyIHZpZXdGaWxlUGF0aCA9ICc0MDQnO1xuICB2YXIgc3RhdHVzQ29kZSA9IDQwNDtcbiAgdmFyIHJlc3VsdCA9IHtcbiAgICBzdGF0dXM6IHN0YXR1c0NvZGVcbiAgfTtcblxuICByZXMuc3RhdHVzKHJlc3VsdC5zdGF0dXMpO1xuICByZXMucmVuZGVyKHZpZXdGaWxlUGF0aCwge30sIGZ1bmN0aW9uKGVyciwgaHRtbCkge1xuICAgIGlmIChlcnIpIHtcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKHJlc3VsdC5zdGF0dXMpLmpzb24ocmVzdWx0KTtcbiAgICB9XG5cbiAgICByZXMuc2VuZChodG1sKTtcbiAgfSk7XG59O1xuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [],
      "mappings": ";;;;AAIA;;AAEA,OAAO,OAAP,CAAe,GAAf,IAAsB,SAAS,YAAT,CAAsB,GAAtB,EAA2B,GAA3B,EAAgC;AACpD,MAAI,eAAe,KAAf,CADgD;AAEpD,MAAI,aAAa,GAAb,CAFgD;AAGpD,MAAI,SAAS;AACX,YAAQ,UAAR;GADE,CAHgD;;AAOpD,MAAI,MAAJ,CAAW,OAAO,MAAP,CAAX,CAPoD;AAQpD,MAAI,MAAJ,CAAW,YAAX,EAAyB,EAAzB,EAA6B,UAAS,GAAT,EAAc,IAAd,EAAoB;AAC/C,QAAI,GAAJ,EAAS;AACP,aAAO,IAAI,MAAJ,CAAW,OAAO,MAAP,CAAX,CAA0B,IAA1B,CAA+B,MAA/B,CAAP,CADO;KAAT;;AAIA,QAAI,IAAJ,CAAS,IAAT,EAL+C;GAApB,CAA7B,CARoD;CAAhC",
      "file": "index.js",
      "sourcesContent": [
        "/**\n * Error responses\n */\n\n'use strict';\n\nmodule.exports[404] = function pageNotFound(req, res) {\n  var viewFilePath = '404';\n  var statusCode = 404;\n  var result = {\n    status: statusCode\n  };\n\n  res.status(result.status);\n  res.render(viewFilePath, {}, function(err, html) {\n    if (err) {\n      return res.status(result.status).json(result);\n    }\n\n    res.send(html);\n  });\n};\n"
      ]
    },
    "mtime": 1459628251559
  },
  "{\"filename\":\"/home/vagrant/server/auth/index.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false}:6.7.4:test": {
    "metadata": {
      "usedHelpers": [
        "interopRequireDefault"
      ],
      "marked": [],
      "modules": {
        "imports": [
          {
            "source": "express",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "express"
              }
            ]
          },
          {
            "source": "passport",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "passport"
              }
            ]
          },
          {
            "source": "../config/environment",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "config"
              }
            ]
          },
          {
            "source": "../api/user/user.model",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "User"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/home/vagrant/server/auth/index.js",
      "filenameRelative": "/home/vagrant/server/auth/index.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMap": "both",
      "sourceMaps": "both",
      "sourceMapTarget": "index.js",
      "sourceFileName": "index.js",
      "babelrc": false,
      "sourceType": "module",
      "moduleIds": false,
      "passPerPreset": false,
      "basename": "index"
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _express = require('express');\n\nvar _express2 = _interopRequireDefault(_express);\n\nvar _passport = require('passport');\n\nvar _passport2 = _interopRequireDefault(_passport);\n\nvar _environment = require('../config/environment');\n\nvar _environment2 = _interopRequireDefault(_environment);\n\nvar _user = require('../api/user/user.model');\n\nvar _user2 = _interopRequireDefault(_user);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Passport Configuration\nrequire('./local/passport').setup(_user2.default, _environment2.default);\nrequire('./facebook/passport').setup(_user2.default, _environment2.default);\nrequire('./google/passport').setup(_user2.default, _environment2.default);\nrequire('./twitter/passport').setup(_user2.default, _environment2.default);\n\nvar router = _express2.default.Router();\n\nrouter.use('/local', require('./local').default);\nrouter.use('/facebook', require('./facebook').default);\nrouter.use('/twitter', require('./twitter').default);\nrouter.use('/google', require('./google').default);\n\nexports.default = router;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7QUFFQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7Ozs7OztBQUdBLFFBQVEsa0JBQVIsRUFBNEIsS0FBNUI7QUFDQSxRQUFRLHFCQUFSLEVBQStCLEtBQS9CO0FBQ0EsUUFBUSxtQkFBUixFQUE2QixLQUE3QjtBQUNBLFFBQVEsb0JBQVIsRUFBOEIsS0FBOUI7O0FBRUEsSUFBSSxTQUFTLGtCQUFRLE1BQVIsRUFBVDs7QUFFSixPQUFPLEdBQVAsQ0FBVyxRQUFYLEVBQXFCLFFBQVEsU0FBUixFQUFtQixPQUFuQixDQUFyQjtBQUNBLE9BQU8sR0FBUCxDQUFXLFdBQVgsRUFBd0IsUUFBUSxZQUFSLEVBQXNCLE9BQXRCLENBQXhCO0FBQ0EsT0FBTyxHQUFQLENBQVcsVUFBWCxFQUF1QixRQUFRLFdBQVIsRUFBcUIsT0FBckIsQ0FBdkI7QUFDQSxPQUFPLEdBQVAsQ0FBVyxTQUFYLEVBQXNCLFFBQVEsVUFBUixFQUFvQixPQUFwQixDQUF0Qjs7a0JBRWUiLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbmltcG9ydCBleHByZXNzIGZyb20gJ2V4cHJlc3MnO1xuaW1wb3J0IHBhc3Nwb3J0IGZyb20gJ3Bhc3Nwb3J0JztcbmltcG9ydCBjb25maWcgZnJvbSAnLi4vY29uZmlnL2Vudmlyb25tZW50JztcbmltcG9ydCBVc2VyIGZyb20gJy4uL2FwaS91c2VyL3VzZXIubW9kZWwnO1xuXG4vLyBQYXNzcG9ydCBDb25maWd1cmF0aW9uXG5yZXF1aXJlKCcuL2xvY2FsL3Bhc3Nwb3J0Jykuc2V0dXAoVXNlciwgY29uZmlnKTtcbnJlcXVpcmUoJy4vZmFjZWJvb2svcGFzc3BvcnQnKS5zZXR1cChVc2VyLCBjb25maWcpO1xucmVxdWlyZSgnLi9nb29nbGUvcGFzc3BvcnQnKS5zZXR1cChVc2VyLCBjb25maWcpO1xucmVxdWlyZSgnLi90d2l0dGVyL3Bhc3Nwb3J0Jykuc2V0dXAoVXNlciwgY29uZmlnKTtcblxudmFyIHJvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7XG5cbnJvdXRlci51c2UoJy9sb2NhbCcsIHJlcXVpcmUoJy4vbG9jYWwnKS5kZWZhdWx0KTtcbnJvdXRlci51c2UoJy9mYWNlYm9vaycsIHJlcXVpcmUoJy4vZmFjZWJvb2snKS5kZWZhdWx0KTtcbnJvdXRlci51c2UoJy90d2l0dGVyJywgcmVxdWlyZSgnLi90d2l0dGVyJykuZGVmYXVsdCk7XG5yb3V0ZXIudXNlKCcvZ29vZ2xlJywgcmVxdWlyZSgnLi9nb29nbGUnKS5kZWZhdWx0KTtcblxuZXhwb3J0IGRlZmF1bHQgcm91dGVyO1xuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [],
      "mappings": "AAAA;;;;;;AAEA;;;;AACA;;;;AACA;;;;AACA;;;;;;;AAGA,QAAQ,kBAAR,EAA4B,KAA5B;AACA,QAAQ,qBAAR,EAA+B,KAA/B;AACA,QAAQ,mBAAR,EAA6B,KAA7B;AACA,QAAQ,oBAAR,EAA8B,KAA9B;;AAEA,IAAI,SAAS,kBAAQ,MAAR,EAAT;;AAEJ,OAAO,GAAP,CAAW,QAAX,EAAqB,QAAQ,SAAR,EAAmB,OAAnB,CAArB;AACA,OAAO,GAAP,CAAW,WAAX,EAAwB,QAAQ,YAAR,EAAsB,OAAtB,CAAxB;AACA,OAAO,GAAP,CAAW,UAAX,EAAuB,QAAQ,WAAR,EAAqB,OAArB,CAAvB;AACA,OAAO,GAAP,CAAW,SAAX,EAAsB,QAAQ,UAAR,EAAoB,OAApB,CAAtB;;kBAEe",
      "file": "index.js",
      "sourcesContent": [
        "'use strict';\n\nimport express from 'express';\nimport passport from 'passport';\nimport config from '../config/environment';\nimport User from '../api/user/user.model';\n\n// Passport Configuration\nrequire('./local/passport').setup(User, config);\nrequire('./facebook/passport').setup(User, config);\nrequire('./google/passport').setup(User, config);\nrequire('./twitter/passport').setup(User, config);\n\nvar router = express.Router();\n\nrouter.use('/local', require('./local').default);\nrouter.use('/facebook', require('./facebook').default);\nrouter.use('/twitter', require('./twitter').default);\nrouter.use('/google', require('./google').default);\n\nexport default router;\n"
      ]
    },
    "mtime": 1459628251551
  },
  "{\"filename\":\"/home/vagrant/server/auth/local/passport.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false}:6.7.4:test": {
    "metadata": {
      "usedHelpers": [
        "interopRequireDefault"
      ],
      "marked": [],
      "modules": {
        "imports": [
          {
            "source": "passport",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "passport"
              }
            ]
          },
          {
            "source": "passport-local",
            "imported": [
              "Strategy"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "Strategy",
                "local": "LocalStrategy"
              }
            ]
          }
        ],
        "exports": {
          "exported": [
            "setup",
            "User",
            "config"
          ],
          "specifiers": [
            {
              "kind": "local",
              "local": "setup",
              "exported": "setup"
            },
            {
              "kind": "local",
              "local": "User",
              "exported": "User"
            },
            {
              "kind": "local",
              "local": "config",
              "exported": "config"
            }
          ]
        }
      }
    },
    "options": {
      "filename": "/home/vagrant/server/auth/local/passport.js",
      "filenameRelative": "/home/vagrant/server/auth/local/passport.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMap": "both",
      "sourceMaps": "both",
      "sourceMapTarget": "passport.js",
      "sourceFileName": "passport.js",
      "babelrc": false,
      "sourceType": "module",
      "moduleIds": false,
      "passPerPreset": false,
      "basename": "passport"
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.setup = setup;\n\nvar _passport = require('passport');\n\nvar _passport2 = _interopRequireDefault(_passport);\n\nvar _passportLocal = require('passport-local');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction localAuthenticate(User, email, password, done) {\n  User.findOne({\n    email: email.toLowerCase()\n  }).exec().then(function (user) {\n    if (!user) {\n      return done(null, false, {\n        message: 'This email is not registered.'\n      });\n    }\n    user.authenticate(password, function (authError, authenticated) {\n      if (authError) {\n        return done(authError);\n      }\n      if (!authenticated) {\n        return done(null, false, { message: 'This password is not correct.' });\n      } else {\n        return done(null, user);\n      }\n    });\n  }).catch(function (err) {\n    return done(err);\n  });\n}\n\nfunction setup(User, config) {\n  _passport2.default.use(new _passportLocal.Strategy({\n    usernameField: 'email',\n    passwordField: 'password' // this is the virtual field on the model\n  }, function (email, password, done) {\n    return localAuthenticate(User, email, password, done);\n  }));\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBhc3Nwb3J0LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7O1FBMkJnQjs7QUEzQmhCOzs7O0FBQ0E7Ozs7QUFFQSxTQUFTLGlCQUFULENBQTJCLElBQTNCLEVBQWlDLEtBQWpDLEVBQXdDLFFBQXhDLEVBQWtELElBQWxELEVBQXdEO0FBQ3RELE9BQUssT0FBTCxDQUFhO0FBQ1gsV0FBTyxNQUFNLFdBQU4sRUFBUDtHQURGLEVBRUcsSUFGSCxHQUdHLElBSEgsQ0FHUSxnQkFBUTtBQUNaLFFBQUksQ0FBQyxJQUFELEVBQU87QUFDVCxhQUFPLEtBQUssSUFBTCxFQUFXLEtBQVgsRUFBa0I7QUFDdkIsaUJBQVMsK0JBQVQ7T0FESyxDQUFQLENBRFM7S0FBWDtBQUtBLFNBQUssWUFBTCxDQUFrQixRQUFsQixFQUE0QixVQUFTLFNBQVQsRUFBb0IsYUFBcEIsRUFBbUM7QUFDN0QsVUFBSSxTQUFKLEVBQWU7QUFDYixlQUFPLEtBQUssU0FBTCxDQUFQLENBRGE7T0FBZjtBQUdBLFVBQUksQ0FBQyxhQUFELEVBQWdCO0FBQ2xCLGVBQU8sS0FBSyxJQUFMLEVBQVcsS0FBWCxFQUFrQixFQUFFLFNBQVMsK0JBQVQsRUFBcEIsQ0FBUCxDQURrQjtPQUFwQixNQUVPO0FBQ0wsZUFBTyxLQUFLLElBQUwsRUFBVyxJQUFYLENBQVAsQ0FESztPQUZQO0tBSjBCLENBQTVCLENBTlk7R0FBUixDQUhSLENBb0JHLEtBcEJILENBb0JTO1dBQU8sS0FBSyxHQUFMO0dBQVAsQ0FwQlQsQ0FEc0Q7Q0FBeEQ7O0FBd0JPLFNBQVMsS0FBVCxDQUFlLElBQWYsRUFBcUIsTUFBckIsRUFBNkI7QUFDbEMscUJBQVMsR0FBVCxDQUFhLDRCQUFrQjtBQUM3QixtQkFBZSxPQUFmO0FBQ0EsbUJBQWUsVUFBZjtBQUY2QixHQUFsQixFQUdWLFVBQVMsS0FBVCxFQUFnQixRQUFoQixFQUEwQixJQUExQixFQUFnQztBQUNqQyxXQUFPLGtCQUFrQixJQUFsQixFQUF3QixLQUF4QixFQUErQixRQUEvQixFQUF5QyxJQUF6QyxDQUFQLENBRGlDO0dBQWhDLENBSEgsRUFEa0M7Q0FBN0IiLCJmaWxlIjoicGFzc3BvcnQuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgcGFzc3BvcnQgZnJvbSAncGFzc3BvcnQnO1xuaW1wb3J0IHtTdHJhdGVneSBhcyBMb2NhbFN0cmF0ZWd5fSBmcm9tICdwYXNzcG9ydC1sb2NhbCc7XG5cbmZ1bmN0aW9uIGxvY2FsQXV0aGVudGljYXRlKFVzZXIsIGVtYWlsLCBwYXNzd29yZCwgZG9uZSkge1xuICBVc2VyLmZpbmRPbmUoe1xuICAgIGVtYWlsOiBlbWFpbC50b0xvd2VyQ2FzZSgpXG4gIH0pLmV4ZWMoKVxuICAgIC50aGVuKHVzZXIgPT4ge1xuICAgICAgaWYgKCF1c2VyKSB7XG4gICAgICAgIHJldHVybiBkb25lKG51bGwsIGZhbHNlLCB7XG4gICAgICAgICAgbWVzc2FnZTogJ1RoaXMgZW1haWwgaXMgbm90IHJlZ2lzdGVyZWQuJ1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHVzZXIuYXV0aGVudGljYXRlKHBhc3N3b3JkLCBmdW5jdGlvbihhdXRoRXJyb3IsIGF1dGhlbnRpY2F0ZWQpIHtcbiAgICAgICAgaWYgKGF1dGhFcnJvcikge1xuICAgICAgICAgIHJldHVybiBkb25lKGF1dGhFcnJvcik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFhdXRoZW50aWNhdGVkKSB7XG4gICAgICAgICAgcmV0dXJuIGRvbmUobnVsbCwgZmFsc2UsIHsgbWVzc2FnZTogJ1RoaXMgcGFzc3dvcmQgaXMgbm90IGNvcnJlY3QuJyB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gZG9uZShudWxsLCB1c2VyKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSlcbiAgICAuY2F0Y2goZXJyID0+IGRvbmUoZXJyKSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZXR1cChVc2VyLCBjb25maWcpIHtcbiAgcGFzc3BvcnQudXNlKG5ldyBMb2NhbFN0cmF0ZWd5KHtcbiAgICB1c2VybmFtZUZpZWxkOiAnZW1haWwnLFxuICAgIHBhc3N3b3JkRmllbGQ6ICdwYXNzd29yZCcgLy8gdGhpcyBpcyB0aGUgdmlydHVhbCBmaWVsZCBvbiB0aGUgbW9kZWxcbiAgfSwgZnVuY3Rpb24oZW1haWwsIHBhc3N3b3JkLCBkb25lKSB7XG4gICAgcmV0dXJuIGxvY2FsQXV0aGVudGljYXRlKFVzZXIsIGVtYWlsLCBwYXNzd29yZCwgZG9uZSk7XG4gIH0pKTtcbn1cbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "passport.js"
      ],
      "names": [],
      "mappings": ";;;;;QA2BgB;;AA3BhB;;;;AACA;;;;AAEA,SAAS,iBAAT,CAA2B,IAA3B,EAAiC,KAAjC,EAAwC,QAAxC,EAAkD,IAAlD,EAAwD;AACtD,OAAK,OAAL,CAAa;AACX,WAAO,MAAM,WAAN,EAAP;GADF,EAEG,IAFH,GAGG,IAHH,CAGQ,gBAAQ;AACZ,QAAI,CAAC,IAAD,EAAO;AACT,aAAO,KAAK,IAAL,EAAW,KAAX,EAAkB;AACvB,iBAAS,+BAAT;OADK,CAAP,CADS;KAAX;AAKA,SAAK,YAAL,CAAkB,QAAlB,EAA4B,UAAS,SAAT,EAAoB,aAApB,EAAmC;AAC7D,UAAI,SAAJ,EAAe;AACb,eAAO,KAAK,SAAL,CAAP,CADa;OAAf;AAGA,UAAI,CAAC,aAAD,EAAgB;AAClB,eAAO,KAAK,IAAL,EAAW,KAAX,EAAkB,EAAE,SAAS,+BAAT,EAApB,CAAP,CADkB;OAApB,MAEO;AACL,eAAO,KAAK,IAAL,EAAW,IAAX,CAAP,CADK;OAFP;KAJ0B,CAA5B,CANY;GAAR,CAHR,CAoBG,KApBH,CAoBS;WAAO,KAAK,GAAL;GAAP,CApBT,CADsD;CAAxD;;AAwBO,SAAS,KAAT,CAAe,IAAf,EAAqB,MAArB,EAA6B;AAClC,qBAAS,GAAT,CAAa,4BAAkB;AAC7B,mBAAe,OAAf;AACA,mBAAe,UAAf;AAF6B,GAAlB,EAGV,UAAS,KAAT,EAAgB,QAAhB,EAA0B,IAA1B,EAAgC;AACjC,WAAO,kBAAkB,IAAlB,EAAwB,KAAxB,EAA+B,QAA/B,EAAyC,IAAzC,CAAP,CADiC;GAAhC,CAHH,EADkC;CAA7B",
      "file": "passport.js",
      "sourcesContent": [
        "import passport from 'passport';\nimport {Strategy as LocalStrategy} from 'passport-local';\n\nfunction localAuthenticate(User, email, password, done) {\n  User.findOne({\n    email: email.toLowerCase()\n  }).exec()\n    .then(user => {\n      if (!user) {\n        return done(null, false, {\n          message: 'This email is not registered.'\n        });\n      }\n      user.authenticate(password, function(authError, authenticated) {\n        if (authError) {\n          return done(authError);\n        }\n        if (!authenticated) {\n          return done(null, false, { message: 'This password is not correct.' });\n        } else {\n          return done(null, user);\n        }\n      });\n    })\n    .catch(err => done(err));\n}\n\nexport function setup(User, config) {\n  passport.use(new LocalStrategy({\n    usernameField: 'email',\n    passwordField: 'password' // this is the virtual field on the model\n  }, function(email, password, done) {\n    return localAuthenticate(User, email, password, done);\n  }));\n}\n"
      ]
    },
    "mtime": 1459628251555
  },
  "{\"filename\":\"/home/vagrant/server/auth/facebook/passport.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false}:6.7.4:test": {
    "metadata": {
      "usedHelpers": [
        "interopRequireDefault"
      ],
      "marked": [],
      "modules": {
        "imports": [
          {
            "source": "passport",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "passport"
              }
            ]
          },
          {
            "source": "passport-facebook",
            "imported": [
              "Strategy"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "Strategy",
                "local": "FacebookStrategy"
              }
            ]
          }
        ],
        "exports": {
          "exported": [
            "setup",
            "User",
            "config"
          ],
          "specifiers": [
            {
              "kind": "local",
              "local": "setup",
              "exported": "setup"
            },
            {
              "kind": "local",
              "local": "User",
              "exported": "User"
            },
            {
              "kind": "local",
              "local": "config",
              "exported": "config"
            }
          ]
        }
      }
    },
    "options": {
      "filename": "/home/vagrant/server/auth/facebook/passport.js",
      "filenameRelative": "/home/vagrant/server/auth/facebook/passport.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMap": "both",
      "sourceMaps": "both",
      "sourceMapTarget": "passport.js",
      "sourceFileName": "passport.js",
      "babelrc": false,
      "sourceType": "module",
      "moduleIds": false,
      "passPerPreset": false,
      "basename": "passport"
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.setup = setup;\n\nvar _passport = require('passport');\n\nvar _passport2 = _interopRequireDefault(_passport);\n\nvar _passportFacebook = require('passport-facebook');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction setup(User, config) {\n  _passport2.default.use(new _passportFacebook.Strategy({\n    clientID: config.facebook.clientID,\n    clientSecret: config.facebook.clientSecret,\n    callbackURL: config.facebook.callbackURL,\n    profileFields: ['displayName', 'emails']\n  }, function (accessToken, refreshToken, profile, done) {\n    User.findOne({ 'facebook.id': profile.id }).exec().then(function (user) {\n      if (user) {\n        return done(null, user);\n      }\n\n      user = new User({\n        name: profile.displayName,\n        email: profile.emails[0].value,\n        role: 'user',\n        provider: 'facebook',\n        facebook: profile._json\n      });\n      user.save().then(function (user) {\n        return done(null, user);\n      }).catch(function (err) {\n        return done(err);\n      });\n    }).catch(function (err) {\n      return done(err);\n    });\n  }));\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBhc3Nwb3J0LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7O1FBR2dCOztBQUhoQjs7OztBQUNBOzs7O0FBRU8sU0FBUyxLQUFULENBQWUsSUFBZixFQUFxQixNQUFyQixFQUE2QjtBQUNsQyxxQkFBUyxHQUFULENBQWEsK0JBQXFCO0FBQ2hDLGNBQVUsT0FBTyxRQUFQLENBQWdCLFFBQWhCO0FBQ1Ysa0JBQWMsT0FBTyxRQUFQLENBQWdCLFlBQWhCO0FBQ2QsaUJBQWEsT0FBTyxRQUFQLENBQWdCLFdBQWhCO0FBQ2IsbUJBQWUsQ0FDYixhQURhLEVBRWIsUUFGYSxDQUFmO0dBSlcsRUFTYixVQUFTLFdBQVQsRUFBc0IsWUFBdEIsRUFBb0MsT0FBcEMsRUFBNkMsSUFBN0MsRUFBbUQ7QUFDakQsU0FBSyxPQUFMLENBQWEsRUFBQyxlQUFlLFFBQVEsRUFBUixFQUE3QixFQUEwQyxJQUExQyxHQUNHLElBREgsQ0FDUSxnQkFBUTtBQUNaLFVBQUksSUFBSixFQUFVO0FBQ1IsZUFBTyxLQUFLLElBQUwsRUFBVyxJQUFYLENBQVAsQ0FEUTtPQUFWOztBQUlBLGFBQU8sSUFBSSxJQUFKLENBQVM7QUFDZCxjQUFNLFFBQVEsV0FBUjtBQUNOLGVBQU8sUUFBUSxNQUFSLENBQWUsQ0FBZixFQUFrQixLQUFsQjtBQUNQLGNBQU0sTUFBTjtBQUNBLGtCQUFVLFVBQVY7QUFDQSxrQkFBVSxRQUFRLEtBQVI7T0FMTCxDQUFQLENBTFk7QUFZWixXQUFLLElBQUwsR0FDRyxJQURILENBQ1E7ZUFBUSxLQUFLLElBQUwsRUFBVyxJQUFYO09BQVIsQ0FEUixDQUVHLEtBRkgsQ0FFUztlQUFPLEtBQUssR0FBTDtPQUFQLENBRlQsQ0FaWTtLQUFSLENBRFIsQ0FpQkcsS0FqQkgsQ0FpQlM7YUFBTyxLQUFLLEdBQUw7S0FBUCxDQWpCVCxDQURpRDtHQUFuRCxDQVRBLEVBRGtDO0NBQTdCIiwiZmlsZSI6InBhc3Nwb3J0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHBhc3Nwb3J0IGZyb20gJ3Bhc3Nwb3J0JztcbmltcG9ydCB7U3RyYXRlZ3kgYXMgRmFjZWJvb2tTdHJhdGVneX0gZnJvbSAncGFzc3BvcnQtZmFjZWJvb2snO1xuXG5leHBvcnQgZnVuY3Rpb24gc2V0dXAoVXNlciwgY29uZmlnKSB7XG4gIHBhc3Nwb3J0LnVzZShuZXcgRmFjZWJvb2tTdHJhdGVneSh7XG4gICAgY2xpZW50SUQ6IGNvbmZpZy5mYWNlYm9vay5jbGllbnRJRCxcbiAgICBjbGllbnRTZWNyZXQ6IGNvbmZpZy5mYWNlYm9vay5jbGllbnRTZWNyZXQsXG4gICAgY2FsbGJhY2tVUkw6IGNvbmZpZy5mYWNlYm9vay5jYWxsYmFja1VSTCxcbiAgICBwcm9maWxlRmllbGRzOiBbXG4gICAgICAnZGlzcGxheU5hbWUnLFxuICAgICAgJ2VtYWlscydcbiAgICBdXG4gIH0sXG4gIGZ1bmN0aW9uKGFjY2Vzc1Rva2VuLCByZWZyZXNoVG9rZW4sIHByb2ZpbGUsIGRvbmUpIHtcbiAgICBVc2VyLmZpbmRPbmUoeydmYWNlYm9vay5pZCc6IHByb2ZpbGUuaWR9KS5leGVjKClcbiAgICAgIC50aGVuKHVzZXIgPT4ge1xuICAgICAgICBpZiAodXNlcikge1xuICAgICAgICAgIHJldHVybiBkb25lKG51bGwsIHVzZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgdXNlciA9IG5ldyBVc2VyKHtcbiAgICAgICAgICBuYW1lOiBwcm9maWxlLmRpc3BsYXlOYW1lLFxuICAgICAgICAgIGVtYWlsOiBwcm9maWxlLmVtYWlsc1swXS52YWx1ZSxcbiAgICAgICAgICByb2xlOiAndXNlcicsXG4gICAgICAgICAgcHJvdmlkZXI6ICdmYWNlYm9vaycsXG4gICAgICAgICAgZmFjZWJvb2s6IHByb2ZpbGUuX2pzb25cbiAgICAgICAgfSk7XG4gICAgICAgIHVzZXIuc2F2ZSgpXG4gICAgICAgICAgLnRoZW4odXNlciA9PiBkb25lKG51bGwsIHVzZXIpKVxuICAgICAgICAgIC5jYXRjaChlcnIgPT4gZG9uZShlcnIpKTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goZXJyID0+IGRvbmUoZXJyKSk7XG4gIH0pKTtcbn1cbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "passport.js"
      ],
      "names": [],
      "mappings": ";;;;;QAGgB;;AAHhB;;;;AACA;;;;AAEO,SAAS,KAAT,CAAe,IAAf,EAAqB,MAArB,EAA6B;AAClC,qBAAS,GAAT,CAAa,+BAAqB;AAChC,cAAU,OAAO,QAAP,CAAgB,QAAhB;AACV,kBAAc,OAAO,QAAP,CAAgB,YAAhB;AACd,iBAAa,OAAO,QAAP,CAAgB,WAAhB;AACb,mBAAe,CACb,aADa,EAEb,QAFa,CAAf;GAJW,EASb,UAAS,WAAT,EAAsB,YAAtB,EAAoC,OAApC,EAA6C,IAA7C,EAAmD;AACjD,SAAK,OAAL,CAAa,EAAC,eAAe,QAAQ,EAAR,EAA7B,EAA0C,IAA1C,GACG,IADH,CACQ,gBAAQ;AACZ,UAAI,IAAJ,EAAU;AACR,eAAO,KAAK,IAAL,EAAW,IAAX,CAAP,CADQ;OAAV;;AAIA,aAAO,IAAI,IAAJ,CAAS;AACd,cAAM,QAAQ,WAAR;AACN,eAAO,QAAQ,MAAR,CAAe,CAAf,EAAkB,KAAlB;AACP,cAAM,MAAN;AACA,kBAAU,UAAV;AACA,kBAAU,QAAQ,KAAR;OALL,CAAP,CALY;AAYZ,WAAK,IAAL,GACG,IADH,CACQ;eAAQ,KAAK,IAAL,EAAW,IAAX;OAAR,CADR,CAEG,KAFH,CAES;eAAO,KAAK,GAAL;OAAP,CAFT,CAZY;KAAR,CADR,CAiBG,KAjBH,CAiBS;aAAO,KAAK,GAAL;KAAP,CAjBT,CADiD;GAAnD,CATA,EADkC;CAA7B",
      "file": "passport.js",
      "sourcesContent": [
        "import passport from 'passport';\nimport {Strategy as FacebookStrategy} from 'passport-facebook';\n\nexport function setup(User, config) {\n  passport.use(new FacebookStrategy({\n    clientID: config.facebook.clientID,\n    clientSecret: config.facebook.clientSecret,\n    callbackURL: config.facebook.callbackURL,\n    profileFields: [\n      'displayName',\n      'emails'\n    ]\n  },\n  function(accessToken, refreshToken, profile, done) {\n    User.findOne({'facebook.id': profile.id}).exec()\n      .then(user => {\n        if (user) {\n          return done(null, user);\n        }\n\n        user = new User({\n          name: profile.displayName,\n          email: profile.emails[0].value,\n          role: 'user',\n          provider: 'facebook',\n          facebook: profile._json\n        });\n        user.save()\n          .then(user => done(null, user))\n          .catch(err => done(err));\n      })\n      .catch(err => done(err));\n  }));\n}\n"
      ]
    },
    "mtime": 1459628251543
  },
  "{\"filename\":\"/home/vagrant/server/auth/google/passport.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false}:6.7.4:test": {
    "metadata": {
      "usedHelpers": [
        "interopRequireDefault"
      ],
      "marked": [],
      "modules": {
        "imports": [
          {
            "source": "passport",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "passport"
              }
            ]
          },
          {
            "source": "passport-google-oauth20",
            "imported": [
              "Strategy"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "Strategy",
                "local": "GoogleStrategy"
              }
            ]
          }
        ],
        "exports": {
          "exported": [
            "setup",
            "User",
            "config"
          ],
          "specifiers": [
            {
              "kind": "local",
              "local": "setup",
              "exported": "setup"
            },
            {
              "kind": "local",
              "local": "User",
              "exported": "User"
            },
            {
              "kind": "local",
              "local": "config",
              "exported": "config"
            }
          ]
        }
      }
    },
    "options": {
      "filename": "/home/vagrant/server/auth/google/passport.js",
      "filenameRelative": "/home/vagrant/server/auth/google/passport.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMap": "both",
      "sourceMaps": "both",
      "sourceMapTarget": "passport.js",
      "sourceFileName": "passport.js",
      "babelrc": false,
      "sourceType": "module",
      "moduleIds": false,
      "passPerPreset": false,
      "basename": "passport"
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.setup = setup;\n\nvar _passport = require('passport');\n\nvar _passport2 = _interopRequireDefault(_passport);\n\nvar _passportGoogleOauth = require('passport-google-oauth20');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction setup(User, config) {\n  _passport2.default.use(new _passportGoogleOauth.Strategy({\n    clientID: config.google.clientID,\n    clientSecret: config.google.clientSecret,\n    callbackURL: config.google.callbackURL\n  }, function (accessToken, refreshToken, profile, done) {\n    User.findOne({ 'google.id': profile.id }).exec().then(function (user) {\n      if (user) {\n        return done(null, user);\n      }\n\n      user = new User({\n        name: profile.displayName,\n        email: profile.emails[0].value,\n        role: 'user',\n        username: profile.emails[0].value.split('@')[0],\n        provider: 'google',\n        google: profile._json\n      });\n      user.save().then(function (user) {\n        return done(null, user);\n      }).catch(function (err) {\n        return done(err);\n      });\n    }).catch(function (err) {\n      return done(err);\n    });\n  }));\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBhc3Nwb3J0LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7O1FBR2dCOztBQUhoQjs7OztBQUNBOzs7O0FBRU8sU0FBUyxLQUFULENBQWUsSUFBZixFQUFxQixNQUFyQixFQUE2QjtBQUNsQyxxQkFBUyxHQUFULENBQWEsa0NBQW1CO0FBQzlCLGNBQVUsT0FBTyxNQUFQLENBQWMsUUFBZDtBQUNWLGtCQUFjLE9BQU8sTUFBUCxDQUFjLFlBQWQ7QUFDZCxpQkFBYSxPQUFPLE1BQVAsQ0FBYyxXQUFkO0dBSEYsRUFLYixVQUFTLFdBQVQsRUFBc0IsWUFBdEIsRUFBb0MsT0FBcEMsRUFBNkMsSUFBN0MsRUFBbUQ7QUFDakQsU0FBSyxPQUFMLENBQWEsRUFBQyxhQUFhLFFBQVEsRUFBUixFQUEzQixFQUF3QyxJQUF4QyxHQUNHLElBREgsQ0FDUSxnQkFBUTtBQUNaLFVBQUksSUFBSixFQUFVO0FBQ1IsZUFBTyxLQUFLLElBQUwsRUFBVyxJQUFYLENBQVAsQ0FEUTtPQUFWOztBQUlBLGFBQU8sSUFBSSxJQUFKLENBQVM7QUFDZCxjQUFNLFFBQVEsV0FBUjtBQUNOLGVBQU8sUUFBUSxNQUFSLENBQWUsQ0FBZixFQUFrQixLQUFsQjtBQUNQLGNBQU0sTUFBTjtBQUNBLGtCQUFVLFFBQVEsTUFBUixDQUFlLENBQWYsRUFBa0IsS0FBbEIsQ0FBd0IsS0FBeEIsQ0FBOEIsR0FBOUIsRUFBbUMsQ0FBbkMsQ0FBVjtBQUNBLGtCQUFVLFFBQVY7QUFDQSxnQkFBUSxRQUFRLEtBQVI7T0FOSCxDQUFQLENBTFk7QUFhWixXQUFLLElBQUwsR0FDRyxJQURILENBQ1E7ZUFBUSxLQUFLLElBQUwsRUFBVyxJQUFYO09BQVIsQ0FEUixDQUVHLEtBRkgsQ0FFUztlQUFPLEtBQUssR0FBTDtPQUFQLENBRlQsQ0FiWTtLQUFSLENBRFIsQ0FrQkcsS0FsQkgsQ0FrQlM7YUFBTyxLQUFLLEdBQUw7S0FBUCxDQWxCVCxDQURpRDtHQUFuRCxDQUxBLEVBRGtDO0NBQTdCIiwiZmlsZSI6InBhc3Nwb3J0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHBhc3Nwb3J0IGZyb20gJ3Bhc3Nwb3J0JztcbmltcG9ydCB7U3RyYXRlZ3kgYXMgR29vZ2xlU3RyYXRlZ3l9IGZyb20gJ3Bhc3Nwb3J0LWdvb2dsZS1vYXV0aDIwJztcblxuZXhwb3J0IGZ1bmN0aW9uIHNldHVwKFVzZXIsIGNvbmZpZykge1xuICBwYXNzcG9ydC51c2UobmV3IEdvb2dsZVN0cmF0ZWd5KHtcbiAgICBjbGllbnRJRDogY29uZmlnLmdvb2dsZS5jbGllbnRJRCxcbiAgICBjbGllbnRTZWNyZXQ6IGNvbmZpZy5nb29nbGUuY2xpZW50U2VjcmV0LFxuICAgIGNhbGxiYWNrVVJMOiBjb25maWcuZ29vZ2xlLmNhbGxiYWNrVVJMXG4gIH0sXG4gIGZ1bmN0aW9uKGFjY2Vzc1Rva2VuLCByZWZyZXNoVG9rZW4sIHByb2ZpbGUsIGRvbmUpIHtcbiAgICBVc2VyLmZpbmRPbmUoeydnb29nbGUuaWQnOiBwcm9maWxlLmlkfSkuZXhlYygpXG4gICAgICAudGhlbih1c2VyID0+IHtcbiAgICAgICAgaWYgKHVzZXIpIHtcbiAgICAgICAgICByZXR1cm4gZG9uZShudWxsLCB1c2VyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHVzZXIgPSBuZXcgVXNlcih7XG4gICAgICAgICAgbmFtZTogcHJvZmlsZS5kaXNwbGF5TmFtZSxcbiAgICAgICAgICBlbWFpbDogcHJvZmlsZS5lbWFpbHNbMF0udmFsdWUsXG4gICAgICAgICAgcm9sZTogJ3VzZXInLFxuICAgICAgICAgIHVzZXJuYW1lOiBwcm9maWxlLmVtYWlsc1swXS52YWx1ZS5zcGxpdCgnQCcpWzBdLFxuICAgICAgICAgIHByb3ZpZGVyOiAnZ29vZ2xlJyxcbiAgICAgICAgICBnb29nbGU6IHByb2ZpbGUuX2pzb25cbiAgICAgICAgfSk7XG4gICAgICAgIHVzZXIuc2F2ZSgpXG4gICAgICAgICAgLnRoZW4odXNlciA9PiBkb25lKG51bGwsIHVzZXIpKVxuICAgICAgICAgIC5jYXRjaChlcnIgPT4gZG9uZShlcnIpKTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goZXJyID0+IGRvbmUoZXJyKSk7XG4gIH0pKTtcbn1cbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "passport.js"
      ],
      "names": [],
      "mappings": ";;;;;QAGgB;;AAHhB;;;;AACA;;;;AAEO,SAAS,KAAT,CAAe,IAAf,EAAqB,MAArB,EAA6B;AAClC,qBAAS,GAAT,CAAa,kCAAmB;AAC9B,cAAU,OAAO,MAAP,CAAc,QAAd;AACV,kBAAc,OAAO,MAAP,CAAc,YAAd;AACd,iBAAa,OAAO,MAAP,CAAc,WAAd;GAHF,EAKb,UAAS,WAAT,EAAsB,YAAtB,EAAoC,OAApC,EAA6C,IAA7C,EAAmD;AACjD,SAAK,OAAL,CAAa,EAAC,aAAa,QAAQ,EAAR,EAA3B,EAAwC,IAAxC,GACG,IADH,CACQ,gBAAQ;AACZ,UAAI,IAAJ,EAAU;AACR,eAAO,KAAK,IAAL,EAAW,IAAX,CAAP,CADQ;OAAV;;AAIA,aAAO,IAAI,IAAJ,CAAS;AACd,cAAM,QAAQ,WAAR;AACN,eAAO,QAAQ,MAAR,CAAe,CAAf,EAAkB,KAAlB;AACP,cAAM,MAAN;AACA,kBAAU,QAAQ,MAAR,CAAe,CAAf,EAAkB,KAAlB,CAAwB,KAAxB,CAA8B,GAA9B,EAAmC,CAAnC,CAAV;AACA,kBAAU,QAAV;AACA,gBAAQ,QAAQ,KAAR;OANH,CAAP,CALY;AAaZ,WAAK,IAAL,GACG,IADH,CACQ;eAAQ,KAAK,IAAL,EAAW,IAAX;OAAR,CADR,CAEG,KAFH,CAES;eAAO,KAAK,GAAL;OAAP,CAFT,CAbY;KAAR,CADR,CAkBG,KAlBH,CAkBS;aAAO,KAAK,GAAL;KAAP,CAlBT,CADiD;GAAnD,CALA,EADkC;CAA7B",
      "file": "passport.js",
      "sourcesContent": [
        "import passport from 'passport';\nimport {Strategy as GoogleStrategy} from 'passport-google-oauth20';\n\nexport function setup(User, config) {\n  passport.use(new GoogleStrategy({\n    clientID: config.google.clientID,\n    clientSecret: config.google.clientSecret,\n    callbackURL: config.google.callbackURL\n  },\n  function(accessToken, refreshToken, profile, done) {\n    User.findOne({'google.id': profile.id}).exec()\n      .then(user => {\n        if (user) {\n          return done(null, user);\n        }\n\n        user = new User({\n          name: profile.displayName,\n          email: profile.emails[0].value,\n          role: 'user',\n          username: profile.emails[0].value.split('@')[0],\n          provider: 'google',\n          google: profile._json\n        });\n        user.save()\n          .then(user => done(null, user))\n          .catch(err => done(err));\n      })\n      .catch(err => done(err));\n  }));\n}\n"
      ]
    },
    "mtime": 1459628251547
  },
  "{\"filename\":\"/home/vagrant/server/auth/twitter/passport.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false}:6.7.4:test": {
    "metadata": {
      "usedHelpers": [
        "interopRequireDefault"
      ],
      "marked": [],
      "modules": {
        "imports": [
          {
            "source": "passport",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "passport"
              }
            ]
          },
          {
            "source": "passport-twitter",
            "imported": [
              "Strategy"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "Strategy",
                "local": "TwitterStrategy"
              }
            ]
          }
        ],
        "exports": {
          "exported": [
            "setup",
            "User",
            "config"
          ],
          "specifiers": [
            {
              "kind": "local",
              "local": "setup",
              "exported": "setup"
            },
            {
              "kind": "local",
              "local": "User",
              "exported": "User"
            },
            {
              "kind": "local",
              "local": "config",
              "exported": "config"
            }
          ]
        }
      }
    },
    "options": {
      "filename": "/home/vagrant/server/auth/twitter/passport.js",
      "filenameRelative": "/home/vagrant/server/auth/twitter/passport.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMap": "both",
      "sourceMaps": "both",
      "sourceMapTarget": "passport.js",
      "sourceFileName": "passport.js",
      "babelrc": false,
      "sourceType": "module",
      "moduleIds": false,
      "passPerPreset": false,
      "basename": "passport"
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.setup = setup;\n\nvar _passport = require('passport');\n\nvar _passport2 = _interopRequireDefault(_passport);\n\nvar _passportTwitter = require('passport-twitter');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction setup(User, config) {\n  _passport2.default.use(new _passportTwitter.Strategy({\n    consumerKey: config.twitter.clientID,\n    consumerSecret: config.twitter.clientSecret,\n    callbackURL: config.twitter.callbackURL\n  }, function (token, tokenSecret, profile, done) {\n    User.findOne({ 'twitter.id': profile.id }).exec().then(function (user) {\n      if (user) {\n        return done(null, user);\n      }\n\n      user = new User({\n        name: profile.displayName,\n        username: profile.username,\n        role: 'user',\n        provider: 'twitter',\n        twitter: profile._json\n      });\n      user.save().then(function (user) {\n        return done(null, user);\n      }).catch(function (err) {\n        return done(err);\n      });\n    }).catch(function (err) {\n      return done(err);\n    });\n  }));\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBhc3Nwb3J0LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7O1FBR2dCOztBQUhoQjs7OztBQUNBOzs7O0FBRU8sU0FBUyxLQUFULENBQWUsSUFBZixFQUFxQixNQUFyQixFQUE2QjtBQUNsQyxxQkFBUyxHQUFULENBQWEsOEJBQW9CO0FBQy9CLGlCQUFhLE9BQU8sT0FBUCxDQUFlLFFBQWY7QUFDYixvQkFBZ0IsT0FBTyxPQUFQLENBQWUsWUFBZjtBQUNoQixpQkFBYSxPQUFPLE9BQVAsQ0FBZSxXQUFmO0dBSEYsRUFLYixVQUFTLEtBQVQsRUFBZ0IsV0FBaEIsRUFBNkIsT0FBN0IsRUFBc0MsSUFBdEMsRUFBNEM7QUFDMUMsU0FBSyxPQUFMLENBQWEsRUFBQyxjQUFjLFFBQVEsRUFBUixFQUE1QixFQUF5QyxJQUF6QyxHQUNHLElBREgsQ0FDUSxnQkFBUTtBQUNaLFVBQUksSUFBSixFQUFVO0FBQ1IsZUFBTyxLQUFLLElBQUwsRUFBVyxJQUFYLENBQVAsQ0FEUTtPQUFWOztBQUlBLGFBQU8sSUFBSSxJQUFKLENBQVM7QUFDZCxjQUFNLFFBQVEsV0FBUjtBQUNOLGtCQUFVLFFBQVEsUUFBUjtBQUNWLGNBQU0sTUFBTjtBQUNBLGtCQUFVLFNBQVY7QUFDQSxpQkFBUyxRQUFRLEtBQVI7T0FMSixDQUFQLENBTFk7QUFZWixXQUFLLElBQUwsR0FDRyxJQURILENBQ1E7ZUFBUSxLQUFLLElBQUwsRUFBVyxJQUFYO09BQVIsQ0FEUixDQUVHLEtBRkgsQ0FFUztlQUFPLEtBQUssR0FBTDtPQUFQLENBRlQsQ0FaWTtLQUFSLENBRFIsQ0FpQkcsS0FqQkgsQ0FpQlM7YUFBTyxLQUFLLEdBQUw7S0FBUCxDQWpCVCxDQUQwQztHQUE1QyxDQUxBLEVBRGtDO0NBQTdCIiwiZmlsZSI6InBhc3Nwb3J0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHBhc3Nwb3J0IGZyb20gJ3Bhc3Nwb3J0JztcbmltcG9ydCB7U3RyYXRlZ3kgYXMgVHdpdHRlclN0cmF0ZWd5fSBmcm9tICdwYXNzcG9ydC10d2l0dGVyJztcblxuZXhwb3J0IGZ1bmN0aW9uIHNldHVwKFVzZXIsIGNvbmZpZykge1xuICBwYXNzcG9ydC51c2UobmV3IFR3aXR0ZXJTdHJhdGVneSh7XG4gICAgY29uc3VtZXJLZXk6IGNvbmZpZy50d2l0dGVyLmNsaWVudElELFxuICAgIGNvbnN1bWVyU2VjcmV0OiBjb25maWcudHdpdHRlci5jbGllbnRTZWNyZXQsXG4gICAgY2FsbGJhY2tVUkw6IGNvbmZpZy50d2l0dGVyLmNhbGxiYWNrVVJMXG4gIH0sXG4gIGZ1bmN0aW9uKHRva2VuLCB0b2tlblNlY3JldCwgcHJvZmlsZSwgZG9uZSkge1xuICAgIFVzZXIuZmluZE9uZSh7J3R3aXR0ZXIuaWQnOiBwcm9maWxlLmlkfSkuZXhlYygpXG4gICAgICAudGhlbih1c2VyID0+IHtcbiAgICAgICAgaWYgKHVzZXIpIHtcbiAgICAgICAgICByZXR1cm4gZG9uZShudWxsLCB1c2VyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHVzZXIgPSBuZXcgVXNlcih7XG4gICAgICAgICAgbmFtZTogcHJvZmlsZS5kaXNwbGF5TmFtZSxcbiAgICAgICAgICB1c2VybmFtZTogcHJvZmlsZS51c2VybmFtZSxcbiAgICAgICAgICByb2xlOiAndXNlcicsXG4gICAgICAgICAgcHJvdmlkZXI6ICd0d2l0dGVyJyxcbiAgICAgICAgICB0d2l0dGVyOiBwcm9maWxlLl9qc29uXG4gICAgICAgIH0pO1xuICAgICAgICB1c2VyLnNhdmUoKVxuICAgICAgICAgIC50aGVuKHVzZXIgPT4gZG9uZShudWxsLCB1c2VyKSlcbiAgICAgICAgICAuY2F0Y2goZXJyID0+IGRvbmUoZXJyKSk7XG4gICAgICB9KVxuICAgICAgLmNhdGNoKGVyciA9PiBkb25lKGVycikpO1xuICB9KSk7XG59XG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "passport.js"
      ],
      "names": [],
      "mappings": ";;;;;QAGgB;;AAHhB;;;;AACA;;;;AAEO,SAAS,KAAT,CAAe,IAAf,EAAqB,MAArB,EAA6B;AAClC,qBAAS,GAAT,CAAa,8BAAoB;AAC/B,iBAAa,OAAO,OAAP,CAAe,QAAf;AACb,oBAAgB,OAAO,OAAP,CAAe,YAAf;AAChB,iBAAa,OAAO,OAAP,CAAe,WAAf;GAHF,EAKb,UAAS,KAAT,EAAgB,WAAhB,EAA6B,OAA7B,EAAsC,IAAtC,EAA4C;AAC1C,SAAK,OAAL,CAAa,EAAC,cAAc,QAAQ,EAAR,EAA5B,EAAyC,IAAzC,GACG,IADH,CACQ,gBAAQ;AACZ,UAAI,IAAJ,EAAU;AACR,eAAO,KAAK,IAAL,EAAW,IAAX,CAAP,CADQ;OAAV;;AAIA,aAAO,IAAI,IAAJ,CAAS;AACd,cAAM,QAAQ,WAAR;AACN,kBAAU,QAAQ,QAAR;AACV,cAAM,MAAN;AACA,kBAAU,SAAV;AACA,iBAAS,QAAQ,KAAR;OALJ,CAAP,CALY;AAYZ,WAAK,IAAL,GACG,IADH,CACQ;eAAQ,KAAK,IAAL,EAAW,IAAX;OAAR,CADR,CAEG,KAFH,CAES;eAAO,KAAK,GAAL;OAAP,CAFT,CAZY;KAAR,CADR,CAiBG,KAjBH,CAiBS;aAAO,KAAK,GAAL;KAAP,CAjBT,CAD0C;GAA5C,CALA,EADkC;CAA7B",
      "file": "passport.js",
      "sourcesContent": [
        "import passport from 'passport';\nimport {Strategy as TwitterStrategy} from 'passport-twitter';\n\nexport function setup(User, config) {\n  passport.use(new TwitterStrategy({\n    consumerKey: config.twitter.clientID,\n    consumerSecret: config.twitter.clientSecret,\n    callbackURL: config.twitter.callbackURL\n  },\n  function(token, tokenSecret, profile, done) {\n    User.findOne({'twitter.id': profile.id}).exec()\n      .then(user => {\n        if (user) {\n          return done(null, user);\n        }\n\n        user = new User({\n          name: profile.displayName,\n          username: profile.username,\n          role: 'user',\n          provider: 'twitter',\n          twitter: profile._json\n        });\n        user.save()\n          .then(user => done(null, user))\n          .catch(err => done(err));\n      })\n      .catch(err => done(err));\n  }));\n}\n"
      ]
    },
    "mtime": 1459628251555
  },
  "{\"filename\":\"/home/vagrant/server/auth/local/index.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false}:6.7.4:test": {
    "metadata": {
      "usedHelpers": [
        "interopRequireDefault"
      ],
      "marked": [],
      "modules": {
        "imports": [
          {
            "source": "express",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "express"
              }
            ]
          },
          {
            "source": "passport",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "passport"
              }
            ]
          },
          {
            "source": "../auth.service",
            "imported": [
              "signToken"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "signToken",
                "local": "signToken"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/home/vagrant/server/auth/local/index.js",
      "filenameRelative": "/home/vagrant/server/auth/local/index.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMap": "both",
      "sourceMaps": "both",
      "sourceMapTarget": "index.js",
      "sourceFileName": "index.js",
      "babelrc": false,
      "sourceType": "module",
      "moduleIds": false,
      "passPerPreset": false,
      "basename": "index"
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _express = require('express');\n\nvar _express2 = _interopRequireDefault(_express);\n\nvar _passport = require('passport');\n\nvar _passport2 = _interopRequireDefault(_passport);\n\nvar _auth = require('../auth.service');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar router = _express2.default.Router();\n\nrouter.post('/', function (req, res, next) {\n  _passport2.default.authenticate('local', function (err, user, info) {\n    var error = err || info;\n    if (error) {\n      return res.status(401).json(error);\n    }\n    if (!user) {\n      return res.status(404).json({ message: 'Something went wrong, please try again.' });\n    }\n\n    var token = (0, _auth.signToken)(user._id, user.role);\n    res.json({ token: token });\n  })(req, res, next);\n});\n\nexports.default = router;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7QUFFQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFFQSxJQUFJLFNBQVMsa0JBQVEsTUFBUixFQUFUOztBQUVKLE9BQU8sSUFBUCxDQUFZLEdBQVosRUFBaUIsVUFBUyxHQUFULEVBQWMsR0FBZCxFQUFtQixJQUFuQixFQUF5QjtBQUN4QyxxQkFBUyxZQUFULENBQXNCLE9BQXRCLEVBQStCLFVBQVMsR0FBVCxFQUFjLElBQWQsRUFBb0IsSUFBcEIsRUFBMEI7QUFDdkQsUUFBSSxRQUFRLE9BQU8sSUFBUCxDQUQyQztBQUV2RCxRQUFJLEtBQUosRUFBVztBQUNULGFBQU8sSUFBSSxNQUFKLENBQVcsR0FBWCxFQUFnQixJQUFoQixDQUFxQixLQUFyQixDQUFQLENBRFM7S0FBWDtBQUdBLFFBQUksQ0FBQyxJQUFELEVBQU87QUFDVCxhQUFPLElBQUksTUFBSixDQUFXLEdBQVgsRUFBZ0IsSUFBaEIsQ0FBcUIsRUFBQyxTQUFTLHlDQUFULEVBQXRCLENBQVAsQ0FEUztLQUFYOztBQUlBLFFBQUksUUFBUSxxQkFBVSxLQUFLLEdBQUwsRUFBVSxLQUFLLElBQUwsQ0FBNUIsQ0FUbUQ7QUFVdkQsUUFBSSxJQUFKLENBQVMsRUFBRSxZQUFGLEVBQVQsRUFWdUQ7R0FBMUIsQ0FBL0IsQ0FXRyxHQVhILEVBV1EsR0FYUixFQVdhLElBWGIsRUFEd0M7Q0FBekIsQ0FBakI7O2tCQWVlIiwiZmlsZSI6ImluZGV4LmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgZXhwcmVzcyBmcm9tICdleHByZXNzJztcbmltcG9ydCBwYXNzcG9ydCBmcm9tICdwYXNzcG9ydCc7XG5pbXBvcnQge3NpZ25Ub2tlbn0gZnJvbSAnLi4vYXV0aC5zZXJ2aWNlJztcblxudmFyIHJvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7XG5cbnJvdXRlci5wb3N0KCcvJywgZnVuY3Rpb24ocmVxLCByZXMsIG5leHQpIHtcbiAgcGFzc3BvcnQuYXV0aGVudGljYXRlKCdsb2NhbCcsIGZ1bmN0aW9uKGVyciwgdXNlciwgaW5mbykge1xuICAgIHZhciBlcnJvciA9IGVyciB8fCBpbmZvO1xuICAgIGlmIChlcnJvcikge1xuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAxKS5qc29uKGVycm9yKTtcbiAgICB9XG4gICAgaWYgKCF1c2VyKSB7XG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDQpLmpzb24oe21lc3NhZ2U6ICdTb21ldGhpbmcgd2VudCB3cm9uZywgcGxlYXNlIHRyeSBhZ2Fpbi4nfSk7XG4gICAgfVxuXG4gICAgdmFyIHRva2VuID0gc2lnblRva2VuKHVzZXIuX2lkLCB1c2VyLnJvbGUpO1xuICAgIHJlcy5qc29uKHsgdG9rZW4gfSk7XG4gIH0pKHJlcSwgcmVzLCBuZXh0KVxufSk7XG5cbmV4cG9ydCBkZWZhdWx0IHJvdXRlcjtcbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [],
      "mappings": "AAAA;;;;;;AAEA;;;;AACA;;;;AACA;;;;AAEA,IAAI,SAAS,kBAAQ,MAAR,EAAT;;AAEJ,OAAO,IAAP,CAAY,GAAZ,EAAiB,UAAS,GAAT,EAAc,GAAd,EAAmB,IAAnB,EAAyB;AACxC,qBAAS,YAAT,CAAsB,OAAtB,EAA+B,UAAS,GAAT,EAAc,IAAd,EAAoB,IAApB,EAA0B;AACvD,QAAI,QAAQ,OAAO,IAAP,CAD2C;AAEvD,QAAI,KAAJ,EAAW;AACT,aAAO,IAAI,MAAJ,CAAW,GAAX,EAAgB,IAAhB,CAAqB,KAArB,CAAP,CADS;KAAX;AAGA,QAAI,CAAC,IAAD,EAAO;AACT,aAAO,IAAI,MAAJ,CAAW,GAAX,EAAgB,IAAhB,CAAqB,EAAC,SAAS,yCAAT,EAAtB,CAAP,CADS;KAAX;;AAIA,QAAI,QAAQ,qBAAU,KAAK,GAAL,EAAU,KAAK,IAAL,CAA5B,CATmD;AAUvD,QAAI,IAAJ,CAAS,EAAE,YAAF,EAAT,EAVuD;GAA1B,CAA/B,CAWG,GAXH,EAWQ,GAXR,EAWa,IAXb,EADwC;CAAzB,CAAjB;;kBAee",
      "file": "index.js",
      "sourcesContent": [
        "'use strict';\n\nimport express from 'express';\nimport passport from 'passport';\nimport {signToken} from '../auth.service';\n\nvar router = express.Router();\n\nrouter.post('/', function(req, res, next) {\n  passport.authenticate('local', function(err, user, info) {\n    var error = err || info;\n    if (error) {\n      return res.status(401).json(error);\n    }\n    if (!user) {\n      return res.status(404).json({message: 'Something went wrong, please try again.'});\n    }\n\n    var token = signToken(user._id, user.role);\n    res.json({ token });\n  })(req, res, next)\n});\n\nexport default router;\n"
      ]
    },
    "mtime": 1459628251551
  },
  "{\"filename\":\"/home/vagrant/server/auth/facebook/index.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false}:6.7.4:test": {
    "metadata": {
      "usedHelpers": [
        "interopRequireDefault"
      ],
      "marked": [],
      "modules": {
        "imports": [
          {
            "source": "express",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "express"
              }
            ]
          },
          {
            "source": "passport",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "passport"
              }
            ]
          },
          {
            "source": "../auth.service",
            "imported": [
              "setTokenCookie"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "setTokenCookie",
                "local": "setTokenCookie"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/home/vagrant/server/auth/facebook/index.js",
      "filenameRelative": "/home/vagrant/server/auth/facebook/index.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMap": "both",
      "sourceMaps": "both",
      "sourceMapTarget": "index.js",
      "sourceFileName": "index.js",
      "babelrc": false,
      "sourceType": "module",
      "moduleIds": false,
      "passPerPreset": false,
      "basename": "index"
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _express = require('express');\n\nvar _express2 = _interopRequireDefault(_express);\n\nvar _passport = require('passport');\n\nvar _passport2 = _interopRequireDefault(_passport);\n\nvar _auth = require('../auth.service');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar router = _express2.default.Router();\n\nrouter.get('/', _passport2.default.authenticate('facebook', {\n  scope: ['email', 'user_about_me'],\n  failureRedirect: '/signup',\n  session: false\n})).get('/callback', _passport2.default.authenticate('facebook', {\n  failureRedirect: '/signup',\n  session: false\n}), _auth.setTokenCookie);\n\nexports.default = router;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7QUFFQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFFQSxJQUFJLFNBQVMsa0JBQVEsTUFBUixFQUFUOztBQUVKLE9BQ0csR0FESCxDQUNPLEdBRFAsRUFDWSxtQkFBUyxZQUFULENBQXNCLFVBQXRCLEVBQWtDO0FBQzFDLFNBQU8sQ0FBQyxPQUFELEVBQVUsZUFBVixDQUFQO0FBQ0EsbUJBQWlCLFNBQWpCO0FBQ0EsV0FBUyxLQUFUO0NBSFEsQ0FEWixFQU1HLEdBTkgsQ0FNTyxXQU5QLEVBTW9CLG1CQUFTLFlBQVQsQ0FBc0IsVUFBdEIsRUFBa0M7QUFDbEQsbUJBQWlCLFNBQWpCO0FBQ0EsV0FBUyxLQUFUO0NBRmdCLENBTnBCOztrQkFXZSIsImZpbGUiOiJpbmRleC5qcyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IGV4cHJlc3MgZnJvbSAnZXhwcmVzcyc7XG5pbXBvcnQgcGFzc3BvcnQgZnJvbSAncGFzc3BvcnQnO1xuaW1wb3J0IHtzZXRUb2tlbkNvb2tpZX0gZnJvbSAnLi4vYXV0aC5zZXJ2aWNlJztcblxudmFyIHJvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7XG5cbnJvdXRlclxuICAuZ2V0KCcvJywgcGFzc3BvcnQuYXV0aGVudGljYXRlKCdmYWNlYm9vaycsIHtcbiAgICBzY29wZTogWydlbWFpbCcsICd1c2VyX2Fib3V0X21lJ10sXG4gICAgZmFpbHVyZVJlZGlyZWN0OiAnL3NpZ251cCcsXG4gICAgc2Vzc2lvbjogZmFsc2VcbiAgfSkpXG4gIC5nZXQoJy9jYWxsYmFjaycsIHBhc3Nwb3J0LmF1dGhlbnRpY2F0ZSgnZmFjZWJvb2snLCB7XG4gICAgZmFpbHVyZVJlZGlyZWN0OiAnL3NpZ251cCcsXG4gICAgc2Vzc2lvbjogZmFsc2VcbiAgfSksIHNldFRva2VuQ29va2llKTtcblxuZXhwb3J0IGRlZmF1bHQgcm91dGVyO1xuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [],
      "mappings": "AAAA;;;;;;AAEA;;;;AACA;;;;AACA;;;;AAEA,IAAI,SAAS,kBAAQ,MAAR,EAAT;;AAEJ,OACG,GADH,CACO,GADP,EACY,mBAAS,YAAT,CAAsB,UAAtB,EAAkC;AAC1C,SAAO,CAAC,OAAD,EAAU,eAAV,CAAP;AACA,mBAAiB,SAAjB;AACA,WAAS,KAAT;CAHQ,CADZ,EAMG,GANH,CAMO,WANP,EAMoB,mBAAS,YAAT,CAAsB,UAAtB,EAAkC;AAClD,mBAAiB,SAAjB;AACA,WAAS,KAAT;CAFgB,CANpB;;kBAWe",
      "file": "index.js",
      "sourcesContent": [
        "'use strict';\n\nimport express from 'express';\nimport passport from 'passport';\nimport {setTokenCookie} from '../auth.service';\n\nvar router = express.Router();\n\nrouter\n  .get('/', passport.authenticate('facebook', {\n    scope: ['email', 'user_about_me'],\n    failureRedirect: '/signup',\n    session: false\n  }))\n  .get('/callback', passport.authenticate('facebook', {\n    failureRedirect: '/signup',\n    session: false\n  }), setTokenCookie);\n\nexport default router;\n"
      ]
    },
    "mtime": 1459628251539
  },
  "{\"filename\":\"/home/vagrant/server/auth/twitter/index.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false}:6.7.4:test": {
    "metadata": {
      "usedHelpers": [
        "interopRequireDefault"
      ],
      "marked": [],
      "modules": {
        "imports": [
          {
            "source": "express",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "express"
              }
            ]
          },
          {
            "source": "passport",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "passport"
              }
            ]
          },
          {
            "source": "../auth.service",
            "imported": [
              "setTokenCookie"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "setTokenCookie",
                "local": "setTokenCookie"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/home/vagrant/server/auth/twitter/index.js",
      "filenameRelative": "/home/vagrant/server/auth/twitter/index.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMap": "both",
      "sourceMaps": "both",
      "sourceMapTarget": "index.js",
      "sourceFileName": "index.js",
      "babelrc": false,
      "sourceType": "module",
      "moduleIds": false,
      "passPerPreset": false,
      "basename": "index"
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _express = require('express');\n\nvar _express2 = _interopRequireDefault(_express);\n\nvar _passport = require('passport');\n\nvar _passport2 = _interopRequireDefault(_passport);\n\nvar _auth = require('../auth.service');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar router = _express2.default.Router();\n\nrouter.get('/', _passport2.default.authenticate('twitter', {\n  failureRedirect: '/signup',\n  session: false\n})).get('/callback', _passport2.default.authenticate('twitter', {\n  failureRedirect: '/signup',\n  session: false\n}), _auth.setTokenCookie);\n\nexports.default = router;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7QUFFQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFFQSxJQUFJLFNBQVMsa0JBQVEsTUFBUixFQUFUOztBQUVKLE9BQ0csR0FESCxDQUNPLEdBRFAsRUFDWSxtQkFBUyxZQUFULENBQXNCLFNBQXRCLEVBQWlDO0FBQ3pDLG1CQUFpQixTQUFqQjtBQUNBLFdBQVMsS0FBVDtDQUZRLENBRFosRUFLRyxHQUxILENBS08sV0FMUCxFQUtvQixtQkFBUyxZQUFULENBQXNCLFNBQXRCLEVBQWlDO0FBQ2pELG1CQUFpQixTQUFqQjtBQUNBLFdBQVMsS0FBVDtDQUZnQixDQUxwQjs7a0JBVWUiLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbmltcG9ydCBleHByZXNzIGZyb20gJ2V4cHJlc3MnO1xuaW1wb3J0IHBhc3Nwb3J0IGZyb20gJ3Bhc3Nwb3J0JztcbmltcG9ydCB7c2V0VG9rZW5Db29raWV9IGZyb20gJy4uL2F1dGguc2VydmljZSc7XG5cbnZhciByb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xuXG5yb3V0ZXJcbiAgLmdldCgnLycsIHBhc3Nwb3J0LmF1dGhlbnRpY2F0ZSgndHdpdHRlcicsIHtcbiAgICBmYWlsdXJlUmVkaXJlY3Q6ICcvc2lnbnVwJyxcbiAgICBzZXNzaW9uOiBmYWxzZVxuICB9KSlcbiAgLmdldCgnL2NhbGxiYWNrJywgcGFzc3BvcnQuYXV0aGVudGljYXRlKCd0d2l0dGVyJywge1xuICAgIGZhaWx1cmVSZWRpcmVjdDogJy9zaWdudXAnLFxuICAgIHNlc3Npb246IGZhbHNlXG4gIH0pLCBzZXRUb2tlbkNvb2tpZSk7XG5cbmV4cG9ydCBkZWZhdWx0IHJvdXRlcjtcbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [],
      "mappings": "AAAA;;;;;;AAEA;;;;AACA;;;;AACA;;;;AAEA,IAAI,SAAS,kBAAQ,MAAR,EAAT;;AAEJ,OACG,GADH,CACO,GADP,EACY,mBAAS,YAAT,CAAsB,SAAtB,EAAiC;AACzC,mBAAiB,SAAjB;AACA,WAAS,KAAT;CAFQ,CADZ,EAKG,GALH,CAKO,WALP,EAKoB,mBAAS,YAAT,CAAsB,SAAtB,EAAiC;AACjD,mBAAiB,SAAjB;AACA,WAAS,KAAT;CAFgB,CALpB;;kBAUe",
      "file": "index.js",
      "sourcesContent": [
        "'use strict';\n\nimport express from 'express';\nimport passport from 'passport';\nimport {setTokenCookie} from '../auth.service';\n\nvar router = express.Router();\n\nrouter\n  .get('/', passport.authenticate('twitter', {\n    failureRedirect: '/signup',\n    session: false\n  }))\n  .get('/callback', passport.authenticate('twitter', {\n    failureRedirect: '/signup',\n    session: false\n  }), setTokenCookie);\n\nexport default router;\n"
      ]
    },
    "mtime": 1459628251555
  },
  "{\"filename\":\"/home/vagrant/server/auth/google/index.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false}:6.7.4:test": {
    "metadata": {
      "usedHelpers": [
        "interopRequireDefault"
      ],
      "marked": [],
      "modules": {
        "imports": [
          {
            "source": "express",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "express"
              }
            ]
          },
          {
            "source": "passport",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "passport"
              }
            ]
          },
          {
            "source": "../auth.service",
            "imported": [
              "setTokenCookie"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "setTokenCookie",
                "local": "setTokenCookie"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/home/vagrant/server/auth/google/index.js",
      "filenameRelative": "/home/vagrant/server/auth/google/index.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMap": "both",
      "sourceMaps": "both",
      "sourceMapTarget": "index.js",
      "sourceFileName": "index.js",
      "babelrc": false,
      "sourceType": "module",
      "moduleIds": false,
      "passPerPreset": false,
      "basename": "index"
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _express = require('express');\n\nvar _express2 = _interopRequireDefault(_express);\n\nvar _passport = require('passport');\n\nvar _passport2 = _interopRequireDefault(_passport);\n\nvar _auth = require('../auth.service');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar router = _express2.default.Router();\n\nrouter.get('/', _passport2.default.authenticate('google', {\n  failureRedirect: '/signup',\n  scope: ['profile', 'email'],\n  session: false\n})).get('/callback', _passport2.default.authenticate('google', {\n  failureRedirect: '/signup',\n  session: false\n}), _auth.setTokenCookie);\n\nexports.default = router;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7QUFFQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFFQSxJQUFJLFNBQVMsa0JBQVEsTUFBUixFQUFUOztBQUVKLE9BQ0csR0FESCxDQUNPLEdBRFAsRUFDWSxtQkFBUyxZQUFULENBQXNCLFFBQXRCLEVBQWdDO0FBQ3hDLG1CQUFpQixTQUFqQjtBQUNBLFNBQU8sQ0FDTCxTQURLLEVBRUwsT0FGSyxDQUFQO0FBSUEsV0FBUyxLQUFUO0NBTlEsQ0FEWixFQVNHLEdBVEgsQ0FTTyxXQVRQLEVBU29CLG1CQUFTLFlBQVQsQ0FBc0IsUUFBdEIsRUFBZ0M7QUFDaEQsbUJBQWlCLFNBQWpCO0FBQ0EsV0FBUyxLQUFUO0NBRmdCLENBVHBCOztrQkFjZSIsImZpbGUiOiJpbmRleC5qcyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IGV4cHJlc3MgZnJvbSAnZXhwcmVzcyc7XG5pbXBvcnQgcGFzc3BvcnQgZnJvbSAncGFzc3BvcnQnO1xuaW1wb3J0IHtzZXRUb2tlbkNvb2tpZX0gZnJvbSAnLi4vYXV0aC5zZXJ2aWNlJztcblxudmFyIHJvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7XG5cbnJvdXRlclxuICAuZ2V0KCcvJywgcGFzc3BvcnQuYXV0aGVudGljYXRlKCdnb29nbGUnLCB7XG4gICAgZmFpbHVyZVJlZGlyZWN0OiAnL3NpZ251cCcsXG4gICAgc2NvcGU6IFtcbiAgICAgICdwcm9maWxlJyxcbiAgICAgICdlbWFpbCdcbiAgICBdLFxuICAgIHNlc3Npb246IGZhbHNlXG4gIH0pKVxuICAuZ2V0KCcvY2FsbGJhY2snLCBwYXNzcG9ydC5hdXRoZW50aWNhdGUoJ2dvb2dsZScsIHtcbiAgICBmYWlsdXJlUmVkaXJlY3Q6ICcvc2lnbnVwJyxcbiAgICBzZXNzaW9uOiBmYWxzZVxuICB9KSwgc2V0VG9rZW5Db29raWUpO1xuXG5leHBvcnQgZGVmYXVsdCByb3V0ZXI7XG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [],
      "mappings": "AAAA;;;;;;AAEA;;;;AACA;;;;AACA;;;;AAEA,IAAI,SAAS,kBAAQ,MAAR,EAAT;;AAEJ,OACG,GADH,CACO,GADP,EACY,mBAAS,YAAT,CAAsB,QAAtB,EAAgC;AACxC,mBAAiB,SAAjB;AACA,SAAO,CACL,SADK,EAEL,OAFK,CAAP;AAIA,WAAS,KAAT;CANQ,CADZ,EASG,GATH,CASO,WATP,EASoB,mBAAS,YAAT,CAAsB,QAAtB,EAAgC;AAChD,mBAAiB,SAAjB;AACA,WAAS,KAAT;CAFgB,CATpB;;kBAce",
      "file": "index.js",
      "sourcesContent": [
        "'use strict';\n\nimport express from 'express';\nimport passport from 'passport';\nimport {setTokenCookie} from '../auth.service';\n\nvar router = express.Router();\n\nrouter\n  .get('/', passport.authenticate('google', {\n    failureRedirect: '/signup',\n    scope: [\n      'profile',\n      'email'\n    ],\n    session: false\n  }))\n  .get('/callback', passport.authenticate('google', {\n    failureRedirect: '/signup',\n    session: false\n  }), setTokenCookie);\n\nexport default router;\n"
      ]
    },
    "mtime": 1459628251547
  },
  "{\"filename\":\"/home/vagrant/server/api/thing/thing.integration.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false}:6.7.4:test": {
    "metadata": {
      "usedHelpers": [
        "interopRequireDefault"
      ],
      "marked": [],
      "modules": {
        "imports": [
          {
            "source": "supertest",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "request"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/home/vagrant/server/api/thing/thing.integration.js",
      "filenameRelative": "/home/vagrant/server/api/thing/thing.integration.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMap": "both",
      "sourceMaps": "both",
      "sourceMapTarget": "thing.integration.js",
      "sourceFileName": "thing.integration.js",
      "babelrc": false,
      "sourceType": "module",
      "moduleIds": false,
      "passPerPreset": false,
      "basename": "thing.integration"
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _supertest = require('supertest');\n\nvar _supertest2 = _interopRequireDefault(_supertest);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar app = require('../..');\n\n\nvar newThing;\n\ndescribe('Thing API:', function () {\n\n  describe('GET /api/things', function () {\n    var things;\n\n    beforeEach(function (done) {\n      (0, _supertest2.default)(app).get('/api/things').expect(200).expect('Content-Type', /json/).end(function (err, res) {\n        if (err) {\n          return done(err);\n        }\n        things = res.body;\n        done();\n      });\n    });\n\n    it('should respond with JSON array', function () {\n      expect(things).to.be.instanceOf(Array);\n    });\n  });\n\n  describe('POST /api/things', function () {\n    beforeEach(function (done) {\n      (0, _supertest2.default)(app).post('/api/things').send({\n        name: 'New Thing',\n        info: 'This is the brand new thing!!!'\n      }).expect(201).expect('Content-Type', /json/).end(function (err, res) {\n        if (err) {\n          return done(err);\n        }\n        newThing = res.body;\n        done();\n      });\n    });\n\n    it('should respond with the newly created thing', function () {\n      expect(newThing.name).to.equal('New Thing');\n      expect(newThing.info).to.equal('This is the brand new thing!!!');\n    });\n  });\n\n  describe('GET /api/things/:id', function () {\n    var thing;\n\n    beforeEach(function (done) {\n      (0, _supertest2.default)(app).get('/api/things/' + newThing._id).expect(200).expect('Content-Type', /json/).end(function (err, res) {\n        if (err) {\n          return done(err);\n        }\n        thing = res.body;\n        done();\n      });\n    });\n\n    afterEach(function () {\n      thing = {};\n    });\n\n    it('should respond with the requested thing', function () {\n      expect(thing.name).to.equal('New Thing');\n      expect(thing.info).to.equal('This is the brand new thing!!!');\n    });\n  });\n\n  describe('PUT /api/things/:id', function () {\n    var updatedThing;\n\n    beforeEach(function (done) {\n      (0, _supertest2.default)(app).put('/api/things/' + newThing._id).send({\n        name: 'Updated Thing',\n        info: 'This is the updated thing!!!'\n      }).expect(200).expect('Content-Type', /json/).end(function (err, res) {\n        if (err) {\n          return done(err);\n        }\n        updatedThing = res.body;\n        done();\n      });\n    });\n\n    afterEach(function () {\n      updatedThing = {};\n    });\n\n    it('should respond with the updated thing', function () {\n      expect(updatedThing.name).to.equal('Updated Thing');\n      expect(updatedThing.info).to.equal('This is the updated thing!!!');\n    });\n  });\n\n  describe('DELETE /api/things/:id', function () {\n\n    it('should respond with 204 on successful removal', function (done) {\n      (0, _supertest2.default)(app).delete('/api/things/' + newThing._id).expect(204).end(function (err, res) {\n        if (err) {\n          return done(err);\n        }\n        done();\n      });\n    });\n\n    it('should respond with 404 when thing does not exist', function (done) {\n      (0, _supertest2.default)(app).delete('/api/things/' + newThing._id).expect(404).end(function (err, res) {\n        if (err) {\n          return done(err);\n        }\n        done();\n      });\n    });\n  });\n});\n//# sourceMappingURL=data:application/json;base64,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Q0FBUCxDQURPO1NBQVQ7QUFHQSxlQUppQjtPQUFkLENBSFAsQ0FEaUU7S0FBZixDQUFwRCxDQUY0Qzs7QUFjNUMsT0FBRyxtREFBSCxFQUF3RCxVQUFTLElBQVQsRUFBZTtBQUNyRSwrQkFBUSxHQUFSLEVBQ0csTUFESCxDQUNVLGlCQUFpQixTQUFTLEdBQVQsQ0FEM0IsQ0FFRyxNQUZILENBRVUsR0FGVixFQUdHLEdBSEgsQ0FHTyxVQUFDLEdBQUQsRUFBTSxHQUFOLEVBQWM7QUFDakIsWUFBSSxHQUFKLEVBQVM7QUFDUCxpQkFBTyxLQUFLLEdBQUwsQ0FBUCxDQURPO1NBQVQ7QUFHQSxlQUppQjtPQUFkLENBSFAsQ0FEcUU7S0FBZixDQUF4RCxDQWQ0QztHQUFYLENBQW5DLENBL0dnQztDQUFYLENBQXZCIiwiZmlsZSI6InRoaW5nLmludGVncmF0aW9uLmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG52YXIgYXBwID0gcmVxdWlyZSgnLi4vLi4nKTtcbmltcG9ydCByZXF1ZXN0IGZyb20gJ3N1cGVydGVzdCc7XG5cbnZhciBuZXdUaGluZztcblxuZGVzY3JpYmUoJ1RoaW5nIEFQSTonLCBmdW5jdGlvbigpIHtcblxuICBkZXNjcmliZSgnR0VUIC9hcGkvdGhpbmdzJywgZnVuY3Rpb24oKSB7XG4gICAgdmFyIHRoaW5ncztcblxuICAgIGJlZm9yZUVhY2goZnVuY3Rpb24oZG9uZSkge1xuICAgICAgcmVxdWVzdChhcHApXG4gICAgICAgIC5nZXQoJy9hcGkvdGhpbmdzJylcbiAgICAgICAgLmV4cGVjdCgyMDApXG4gICAgICAgIC5leHBlY3QoJ0NvbnRlbnQtVHlwZScsIC9qc29uLylcbiAgICAgICAgLmVuZCgoZXJyLCByZXMpID0+IHtcbiAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICByZXR1cm4gZG9uZShlcnIpO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0aGluZ3MgPSByZXMuYm9keTtcbiAgICAgICAgICBkb25lKCk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCByZXNwb25kIHdpdGggSlNPTiBhcnJheScsIGZ1bmN0aW9uKCkge1xuICAgICAgZXhwZWN0KHRoaW5ncykudG8uYmUuaW5zdGFuY2VPZihBcnJheSk7XG4gICAgfSk7XG5cbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ1BPU1QgL2FwaS90aGluZ3MnLCBmdW5jdGlvbigpIHtcbiAgICBiZWZvcmVFYWNoKGZ1bmN0aW9uKGRvbmUpIHtcbiAgICAgIHJlcXVlc3QoYXBwKVxuICAgICAgICAucG9zdCgnL2FwaS90aGluZ3MnKVxuICAgICAgICAuc2VuZCh7XG4gICAgICAgICAgbmFtZTogJ05ldyBUaGluZycsXG4gICAgICAgICAgaW5mbzogJ1RoaXMgaXMgdGhlIGJyYW5kIG5ldyB0aGluZyEhISdcbiAgICAgICAgfSlcbiAgICAgICAgLmV4cGVjdCgyMDEpXG4gICAgICAgIC5leHBlY3QoJ0NvbnRlbnQtVHlwZScsIC9qc29uLylcbiAgICAgICAgLmVuZCgoZXJyLCByZXMpID0+IHtcbiAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICByZXR1cm4gZG9uZShlcnIpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBuZXdUaGluZyA9IHJlcy5ib2R5O1xuICAgICAgICAgIGRvbmUoKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHJlc3BvbmQgd2l0aCB0aGUgbmV3bHkgY3JlYXRlZCB0aGluZycsIGZ1bmN0aW9uKCkge1xuICAgICAgZXhwZWN0KG5ld1RoaW5nLm5hbWUpLnRvLmVxdWFsKCdOZXcgVGhpbmcnKTtcbiAgICAgIGV4cGVjdChuZXdUaGluZy5pbmZvKS50by5lcXVhbCgnVGhpcyBpcyB0aGUgYnJhbmQgbmV3IHRoaW5nISEhJyk7XG4gICAgfSk7XG5cbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ0dFVCAvYXBpL3RoaW5ncy86aWQnLCBmdW5jdGlvbigpIHtcbiAgICB2YXIgdGhpbmc7XG5cbiAgICBiZWZvcmVFYWNoKGZ1bmN0aW9uKGRvbmUpIHtcbiAgICAgIHJlcXVlc3QoYXBwKVxuICAgICAgICAuZ2V0KCcvYXBpL3RoaW5ncy8nICsgbmV3VGhpbmcuX2lkKVxuICAgICAgICAuZXhwZWN0KDIwMClcbiAgICAgICAgLmV4cGVjdCgnQ29udGVudC1UeXBlJywgL2pzb24vKVxuICAgICAgICAuZW5kKChlcnIsIHJlcykgPT4ge1xuICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgIHJldHVybiBkb25lKGVycik7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRoaW5nID0gcmVzLmJvZHk7XG4gICAgICAgICAgZG9uZSgpO1xuICAgICAgICB9KTtcbiAgICB9KTtcblxuICAgIGFmdGVyRWFjaChmdW5jdGlvbigpIHtcbiAgICAgIHRoaW5nID0ge307XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHJlc3BvbmQgd2l0aCB0aGUgcmVxdWVzdGVkIHRoaW5nJywgZnVuY3Rpb24oKSB7XG4gICAgICBleHBlY3QodGhpbmcubmFtZSkudG8uZXF1YWwoJ05ldyBUaGluZycpO1xuICAgICAgZXhwZWN0KHRoaW5nLmluZm8pLnRvLmVxdWFsKCdUaGlzIGlzIHRoZSBicmFuZCBuZXcgdGhpbmchISEnKTtcbiAgICB9KTtcblxuICB9KTtcblxuICBkZXNjcmliZSgnUFVUIC9hcGkvdGhpbmdzLzppZCcsIGZ1bmN0aW9uKCkge1xuICAgIHZhciB1cGRhdGVkVGhpbmc7XG5cbiAgICBiZWZvcmVFYWNoKGZ1bmN0aW9uKGRvbmUpIHtcbiAgICAgIHJlcXVlc3QoYXBwKVxuICAgICAgICAucHV0KCcvYXBpL3RoaW5ncy8nICsgbmV3VGhpbmcuX2lkKVxuICAgICAgICAuc2VuZCh7XG4gICAgICAgICAgbmFtZTogJ1VwZGF0ZWQgVGhpbmcnLFxuICAgICAgICAgIGluZm86ICdUaGlzIGlzIHRoZSB1cGRhdGVkIHRoaW5nISEhJ1xuICAgICAgICB9KVxuICAgICAgICAuZXhwZWN0KDIwMClcbiAgICAgICAgLmV4cGVjdCgnQ29udGVudC1UeXBlJywgL2pzb24vKVxuICAgICAgICAuZW5kKGZ1bmN0aW9uKGVyciwgcmVzKSB7XG4gICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgcmV0dXJuIGRvbmUoZXJyKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdXBkYXRlZFRoaW5nID0gcmVzLmJvZHk7XG4gICAgICAgICAgZG9uZSgpO1xuICAgICAgICB9KTtcbiAgICB9KTtcblxuICAgIGFmdGVyRWFjaChmdW5jdGlvbigpIHtcbiAgICAgIHVwZGF0ZWRUaGluZyA9IHt9O1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCByZXNwb25kIHdpdGggdGhlIHVwZGF0ZWQgdGhpbmcnLCBmdW5jdGlvbigpIHtcbiAgICAgIGV4cGVjdCh1cGRhdGVkVGhpbmcubmFtZSkudG8uZXF1YWwoJ1VwZGF0ZWQgVGhpbmcnKTtcbiAgICAgIGV4cGVjdCh1cGRhdGVkVGhpbmcuaW5mbykudG8uZXF1YWwoJ1RoaXMgaXMgdGhlIHVwZGF0ZWQgdGhpbmchISEnKTtcbiAgICB9KTtcblxuICB9KTtcblxuICBkZXNjcmliZSgnREVMRVRFIC9hcGkvdGhpbmdzLzppZCcsIGZ1bmN0aW9uKCkge1xuXG4gICAgaXQoJ3Nob3VsZCByZXNwb25kIHdpdGggMjA0IG9uIHN1Y2Nlc3NmdWwgcmVtb3ZhbCcsIGZ1bmN0aW9uKGRvbmUpIHtcbiAgICAgIHJlcXVlc3QoYXBwKVxuICAgICAgICAuZGVsZXRlKCcvYXBpL3RoaW5ncy8nICsgbmV3VGhpbmcuX2lkKVxuICAgICAgICAuZXhwZWN0KDIwNClcbiAgICAgICAgLmVuZCgoZXJyLCByZXMpID0+IHtcbiAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICByZXR1cm4gZG9uZShlcnIpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBkb25lKCk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCByZXNwb25kIHdpdGggNDA0IHdoZW4gdGhpbmcgZG9lcyBub3QgZXhpc3QnLCBmdW5jdGlvbihkb25lKSB7XG4gICAgICByZXF1ZXN0KGFwcClcbiAgICAgICAgLmRlbGV0ZSgnL2FwaS90aGluZ3MvJyArIG5ld1RoaW5nLl9pZClcbiAgICAgICAgLmV4cGVjdCg0MDQpXG4gICAgICAgIC5lbmQoKGVyciwgcmVzKSA9PiB7XG4gICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgcmV0dXJuIGRvbmUoZXJyKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZG9uZSgpO1xuICAgICAgICB9KTtcbiAgICB9KTtcblxuICB9KTtcblxufSk7XG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "thing.integration.js"
      ],
      "names": [],
      "mappings": "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",
      "file": "thing.integration.js",
      "sourcesContent": [
        "'use strict';\n\nvar app = require('../..');\nimport request from 'supertest';\n\nvar newThing;\n\ndescribe('Thing API:', function() {\n\n  describe('GET /api/things', function() {\n    var things;\n\n    beforeEach(function(done) {\n      request(app)\n        .get('/api/things')\n        .expect(200)\n        .expect('Content-Type', /json/)\n        .end((err, res) => {\n          if (err) {\n            return done(err);\n          }\n          things = res.body;\n          done();\n        });\n    });\n\n    it('should respond with JSON array', function() {\n      expect(things).to.be.instanceOf(Array);\n    });\n\n  });\n\n  describe('POST /api/things', function() {\n    beforeEach(function(done) {\n      request(app)\n        .post('/api/things')\n        .send({\n          name: 'New Thing',\n          info: 'This is the brand new thing!!!'\n        })\n        .expect(201)\n        .expect('Content-Type', /json/)\n        .end((err, res) => {\n          if (err) {\n            return done(err);\n          }\n          newThing = res.body;\n          done();\n        });\n    });\n\n    it('should respond with the newly created thing', function() {\n      expect(newThing.name).to.equal('New Thing');\n      expect(newThing.info).to.equal('This is the brand new thing!!!');\n    });\n\n  });\n\n  describe('GET /api/things/:id', function() {\n    var thing;\n\n    beforeEach(function(done) {\n      request(app)\n        .get('/api/things/' + newThing._id)\n        .expect(200)\n        .expect('Content-Type', /json/)\n        .end((err, res) => {\n          if (err) {\n            return done(err);\n          }\n          thing = res.body;\n          done();\n        });\n    });\n\n    afterEach(function() {\n      thing = {};\n    });\n\n    it('should respond with the requested thing', function() {\n      expect(thing.name).to.equal('New Thing');\n      expect(thing.info).to.equal('This is the brand new thing!!!');\n    });\n\n  });\n\n  describe('PUT /api/things/:id', function() {\n    var updatedThing;\n\n    beforeEach(function(done) {\n      request(app)\n        .put('/api/things/' + newThing._id)\n        .send({\n          name: 'Updated Thing',\n          info: 'This is the updated thing!!!'\n        })\n        .expect(200)\n        .expect('Content-Type', /json/)\n        .end(function(err, res) {\n          if (err) {\n            return done(err);\n          }\n          updatedThing = res.body;\n          done();\n        });\n    });\n\n    afterEach(function() {\n      updatedThing = {};\n    });\n\n    it('should respond with the updated thing', function() {\n      expect(updatedThing.name).to.equal('Updated Thing');\n      expect(updatedThing.info).to.equal('This is the updated thing!!!');\n    });\n\n  });\n\n  describe('DELETE /api/things/:id', function() {\n\n    it('should respond with 204 on successful removal', function(done) {\n      request(app)\n        .delete('/api/things/' + newThing._id)\n        .expect(204)\n        .end((err, res) => {\n          if (err) {\n            return done(err);\n          }\n          done();\n        });\n    });\n\n    it('should respond with 404 when thing does not exist', function(done) {\n      request(app)\n        .delete('/api/things/' + newThing._id)\n        .expect(404)\n        .end((err, res) => {\n          if (err) {\n            return done(err);\n          }\n          done();\n        });\n    });\n\n  });\n\n});\n"
      ]
    },
    "mtime": 1459628251579
  },
  "{\"filename\":\"/home/vagrant/server/api/user/user.integration.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false}:6.7.4:test": {
    "metadata": {
      "usedHelpers": [
        "interopRequireDefault"
      ],
      "marked": [],
      "modules": {
        "imports": [
          {
            "source": "../..",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "app"
              }
            ]
          },
          {
            "source": "./user.model",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "User"
              }
            ]
          },
          {
            "source": "supertest",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "request"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/home/vagrant/server/api/user/user.integration.js",
      "filenameRelative": "/home/vagrant/server/api/user/user.integration.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMap": "both",
      "sourceMaps": "both",
      "sourceMapTarget": "user.integration.js",
      "sourceFileName": "user.integration.js",
      "babelrc": false,
      "sourceType": "module",
      "moduleIds": false,
      "passPerPreset": false,
      "basename": "user.integration"
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _ = require('../..');\n\nvar _2 = _interopRequireDefault(_);\n\nvar _user = require('./user.model');\n\nvar _user2 = _interopRequireDefault(_user);\n\nvar _supertest = require('supertest');\n\nvar _supertest2 = _interopRequireDefault(_supertest);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\ndescribe('User API:', function () {\n  var user;\n\n  // Clear users before testing\n  before(function () {\n    return _user2.default.remove().then(function () {\n      user = new _user2.default({\n        name: 'Fake User',\n        email: 'test@example.com',\n        password: 'password'\n      });\n\n      return user.save();\n    });\n  });\n\n  // Clear users after testing\n  after(function () {\n    return _user2.default.remove();\n  });\n\n  describe('GET /api/users/me', function () {\n    var token;\n\n    before(function (done) {\n      (0, _supertest2.default)(_2.default).post('/auth/local').send({\n        email: 'test@example.com',\n        password: 'password'\n      }).expect(200).expect('Content-Type', /json/).end(function (err, res) {\n        token = res.body.token;\n        done();\n      });\n    });\n\n    it('should respond with a user profile when authenticated', function (done) {\n      (0, _supertest2.default)(_2.default).get('/api/users/me').set('authorization', 'Bearer ' + token).expect(200).expect('Content-Type', /json/).end(function (err, res) {\n        expect(res.body._id.toString()).to.equal(user._id.toString());\n        done();\n      });\n    });\n\n    it('should respond with a 401 when not authenticated', function (done) {\n      (0, _supertest2.default)(_2.default).get('/api/users/me').expect(401).end(done);\n    });\n  });\n});\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXIuaW50ZWdyYXRpb24uanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7O0FBRUE7Ozs7QUFDQTs7OztBQUNBOzs7Ozs7QUFFQSxTQUFTLFdBQVQsRUFBc0IsWUFBVztBQUMvQixNQUFJLElBQUo7OztBQUQrQixRQUkvQixDQUFPLFlBQVc7QUFDaEIsV0FBTyxlQUFLLE1BQUwsR0FBYyxJQUFkLENBQW1CLFlBQVc7QUFDbkMsYUFBTyxtQkFBUztBQUNkLGNBQU0sV0FBTjtBQUNBLGVBQU8sa0JBQVA7QUFDQSxrQkFBVSxVQUFWO09BSEssQ0FBUCxDQURtQzs7QUFPbkMsYUFBTyxLQUFLLElBQUwsRUFBUCxDQVBtQztLQUFYLENBQTFCLENBRGdCO0dBQVgsQ0FBUDs7O0FBSitCLE9BaUIvQixDQUFNLFlBQVc7QUFDZixXQUFPLGVBQUssTUFBTCxFQUFQLENBRGU7R0FBWCxDQUFOLENBakIrQjs7QUFxQi9CLFdBQVMsbUJBQVQsRUFBOEIsWUFBVztBQUN2QyxRQUFJLEtBQUosQ0FEdUM7O0FBR3ZDLFdBQU8sVUFBUyxJQUFULEVBQWU7QUFDcEIsMkNBQ0csSUFESCxDQUNRLGFBRFIsRUFFRyxJQUZILENBRVE7QUFDSixlQUFPLGtCQUFQO0FBQ0Esa0JBQVUsVUFBVjtPQUpKLEVBTUcsTUFOSCxDQU1VLEdBTlYsRUFPRyxNQVBILENBT1UsY0FQVixFQU8wQixNQVAxQixFQVFHLEdBUkgsQ0FRTyxVQUFDLEdBQUQsRUFBTSxHQUFOLEVBQWM7QUFDakIsZ0JBQVEsSUFBSSxJQUFKLENBQVMsS0FBVCxDQURTO0FBRWpCLGVBRmlCO09BQWQsQ0FSUCxDQURvQjtLQUFmLENBQVAsQ0FIdUM7O0FBa0J2QyxPQUFHLHVEQUFILEVBQTRELFVBQVMsSUFBVCxFQUFlO0FBQ3pFLDJDQUNHLEdBREgsQ0FDTyxlQURQLEVBRUcsR0FGSCxDQUVPLGVBRlAsRUFFd0IsWUFBWSxLQUFaLENBRnhCLENBR0csTUFISCxDQUdVLEdBSFYsRUFJRyxNQUpILENBSVUsY0FKVixFQUkwQixNQUoxQixFQUtHLEdBTEgsQ0FLTyxVQUFDLEdBQUQsRUFBTSxHQUFOLEVBQWM7QUFDakIsZUFBTyxJQUFJLElBQUosQ0FBUyxHQUFULENBQWEsUUFBYixFQUFQLEVBQWdDLEVBQWhDLENBQW1DLEtBQW5DLENBQXlDLEtBQUssR0FBTCxDQUFTLFFBQVQsRUFBekMsRUFEaUI7QUFFakIsZUFGaUI7T0FBZCxDQUxQLENBRHlFO0tBQWYsQ0FBNUQsQ0FsQnVDOztBQThCdkMsT0FBRyxrREFBSCxFQUF1RCxVQUFTLElBQVQsRUFBZTtBQUNwRSwyQ0FDRyxHQURILENBQ08sZUFEUCxFQUVHLE1BRkgsQ0FFVSxHQUZWLEVBR0csR0FISCxDQUdPLElBSFAsRUFEb0U7S0FBZixDQUF2RCxDQTlCdUM7R0FBWCxDQUE5QixDQXJCK0I7Q0FBWCxDQUF0QiIsImZpbGUiOiJ1c2VyLmludGVncmF0aW9uLmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgYXBwIGZyb20gJy4uLy4uJztcbmltcG9ydCBVc2VyIGZyb20gJy4vdXNlci5tb2RlbCc7XG5pbXBvcnQgcmVxdWVzdCBmcm9tICdzdXBlcnRlc3QnO1xuXG5kZXNjcmliZSgnVXNlciBBUEk6JywgZnVuY3Rpb24oKSB7XG4gIHZhciB1c2VyO1xuXG4gIC8vIENsZWFyIHVzZXJzIGJlZm9yZSB0ZXN0aW5nXG4gIGJlZm9yZShmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gVXNlci5yZW1vdmUoKS50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgdXNlciA9IG5ldyBVc2VyKHtcbiAgICAgICAgbmFtZTogJ0Zha2UgVXNlcicsXG4gICAgICAgIGVtYWlsOiAndGVzdEBleGFtcGxlLmNvbScsXG4gICAgICAgIHBhc3N3b3JkOiAncGFzc3dvcmQnXG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIHVzZXIuc2F2ZSgpO1xuICAgIH0pO1xuICB9KTtcblxuICAvLyBDbGVhciB1c2VycyBhZnRlciB0ZXN0aW5nXG4gIGFmdGVyKGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBVc2VyLnJlbW92ZSgpO1xuICB9KTtcblxuICBkZXNjcmliZSgnR0VUIC9hcGkvdXNlcnMvbWUnLCBmdW5jdGlvbigpIHtcbiAgICB2YXIgdG9rZW47XG5cbiAgICBiZWZvcmUoZnVuY3Rpb24oZG9uZSkge1xuICAgICAgcmVxdWVzdChhcHApXG4gICAgICAgIC5wb3N0KCcvYXV0aC9sb2NhbCcpXG4gICAgICAgIC5zZW5kKHtcbiAgICAgICAgICBlbWFpbDogJ3Rlc3RAZXhhbXBsZS5jb20nLFxuICAgICAgICAgIHBhc3N3b3JkOiAncGFzc3dvcmQnXG4gICAgICAgIH0pXG4gICAgICAgIC5leHBlY3QoMjAwKVxuICAgICAgICAuZXhwZWN0KCdDb250ZW50LVR5cGUnLCAvanNvbi8pXG4gICAgICAgIC5lbmQoKGVyciwgcmVzKSA9PiB7XG4gICAgICAgICAgdG9rZW4gPSByZXMuYm9keS50b2tlbjtcbiAgICAgICAgICBkb25lKCk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCByZXNwb25kIHdpdGggYSB1c2VyIHByb2ZpbGUgd2hlbiBhdXRoZW50aWNhdGVkJywgZnVuY3Rpb24oZG9uZSkge1xuICAgICAgcmVxdWVzdChhcHApXG4gICAgICAgIC5nZXQoJy9hcGkvdXNlcnMvbWUnKVxuICAgICAgICAuc2V0KCdhdXRob3JpemF0aW9uJywgJ0JlYXJlciAnICsgdG9rZW4pXG4gICAgICAgIC5leHBlY3QoMjAwKVxuICAgICAgICAuZXhwZWN0KCdDb250ZW50LVR5cGUnLCAvanNvbi8pXG4gICAgICAgIC5lbmQoKGVyciwgcmVzKSA9PiB7XG4gICAgICAgICAgZXhwZWN0KHJlcy5ib2R5Ll9pZC50b1N0cmluZygpKS50by5lcXVhbCh1c2VyLl9pZC50b1N0cmluZygpKTtcbiAgICAgICAgICBkb25lKCk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCByZXNwb25kIHdpdGggYSA0MDEgd2hlbiBub3QgYXV0aGVudGljYXRlZCcsIGZ1bmN0aW9uKGRvbmUpIHtcbiAgICAgIHJlcXVlc3QoYXBwKVxuICAgICAgICAuZ2V0KCcvYXBpL3VzZXJzL21lJylcbiAgICAgICAgLmV4cGVjdCg0MDEpXG4gICAgICAgIC5lbmQoZG9uZSk7XG4gICAgfSk7XG4gIH0pO1xufSk7XG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "user.integration.js"
      ],
      "names": [],
      "mappings": "AAAA;;AAEA;;;;AACA;;;;AACA;;;;;;AAEA,SAAS,WAAT,EAAsB,YAAW;AAC/B,MAAI,IAAJ;;;AAD+B,QAI/B,CAAO,YAAW;AAChB,WAAO,eAAK,MAAL,GAAc,IAAd,CAAmB,YAAW;AACnC,aAAO,mBAAS;AACd,cAAM,WAAN;AACA,eAAO,kBAAP;AACA,kBAAU,UAAV;OAHK,CAAP,CADmC;;AAOnC,aAAO,KAAK,IAAL,EAAP,CAPmC;KAAX,CAA1B,CADgB;GAAX,CAAP;;;AAJ+B,OAiB/B,CAAM,YAAW;AACf,WAAO,eAAK,MAAL,EAAP,CADe;GAAX,CAAN,CAjB+B;;AAqB/B,WAAS,mBAAT,EAA8B,YAAW;AACvC,QAAI,KAAJ,CADuC;;AAGvC,WAAO,UAAS,IAAT,EAAe;AACpB,2CACG,IADH,CACQ,aADR,EAEG,IAFH,CAEQ;AACJ,eAAO,kBAAP;AACA,kBAAU,UAAV;OAJJ,EAMG,MANH,CAMU,GANV,EAOG,MAPH,CAOU,cAPV,EAO0B,MAP1B,EAQG,GARH,CAQO,UAAC,GAAD,EAAM,GAAN,EAAc;AACjB,gBAAQ,IAAI,IAAJ,CAAS,KAAT,CADS;AAEjB,eAFiB;OAAd,CARP,CADoB;KAAf,CAAP,CAHuC;;AAkBvC,OAAG,uDAAH,EAA4D,UAAS,IAAT,EAAe;AACzE,2CACG,GADH,CACO,eADP,EAEG,GAFH,CAEO,eAFP,EAEwB,YAAY,KAAZ,CAFxB,CAGG,MAHH,CAGU,GAHV,EAIG,MAJH,CAIU,cAJV,EAI0B,MAJ1B,EAKG,GALH,CAKO,UAAC,GAAD,EAAM,GAAN,EAAc;AACjB,eAAO,IAAI,IAAJ,CAAS,GAAT,CAAa,QAAb,EAAP,EAAgC,EAAhC,CAAmC,KAAnC,CAAyC,KAAK,GAAL,CAAS,QAAT,EAAzC,EADiB;AAEjB,eAFiB;OAAd,CALP,CADyE;KAAf,CAA5D,CAlBuC;;AA8BvC,OAAG,kDAAH,EAAuD,UAAS,IAAT,EAAe;AACpE,2CACG,GADH,CACO,eADP,EAEG,MAFH,CAEU,GAFV,EAGG,GAHH,CAGO,IAHP,EADoE;KAAf,CAAvD,CA9BuC;GAAX,CAA9B,CArB+B;CAAX,CAAtB",
      "file": "user.integration.js",
      "sourcesContent": [
        "'use strict';\n\nimport app from '../..';\nimport User from './user.model';\nimport request from 'supertest';\n\ndescribe('User API:', function() {\n  var user;\n\n  // Clear users before testing\n  before(function() {\n    return User.remove().then(function() {\n      user = new User({\n        name: 'Fake User',\n        email: 'test@example.com',\n        password: 'password'\n      });\n\n      return user.save();\n    });\n  });\n\n  // Clear users after testing\n  after(function() {\n    return User.remove();\n  });\n\n  describe('GET /api/users/me', function() {\n    var token;\n\n    before(function(done) {\n      request(app)\n        .post('/auth/local')\n        .send({\n          email: 'test@example.com',\n          password: 'password'\n        })\n        .expect(200)\n        .expect('Content-Type', /json/)\n        .end((err, res) => {\n          token = res.body.token;\n          done();\n        });\n    });\n\n    it('should respond with a user profile when authenticated', function(done) {\n      request(app)\n        .get('/api/users/me')\n        .set('authorization', 'Bearer ' + token)\n        .expect(200)\n        .expect('Content-Type', /json/)\n        .end((err, res) => {\n          expect(res.body._id.toString()).to.equal(user._id.toString());\n          done();\n        });\n    });\n\n    it('should respond with a 401 when not authenticated', function(done) {\n      request(app)\n        .get('/api/users/me')\n        .expect(401)\n        .end(done);\n    });\n  });\n});\n"
      ]
    },
    "mtime": 1459628251535
  },
  "{\"filename\":\"/home/vagrant/karma.conf.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false}:6.7.4:test": {
    "metadata": {
      "usedHelpers": [],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/home/vagrant/karma.conf.js",
      "filenameRelative": "/home/vagrant/karma.conf.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMap": "both",
      "sourceMaps": "both",
      "sourceMapTarget": "karma.conf.js",
      "sourceFileName": "karma.conf.js",
      "babelrc": false,
      "sourceType": "module",
      "moduleIds": false,
      "passPerPreset": false,
      "basename": "karma.conf"
    },
    "ignored": false,
    "code": "'use strict';\n\n// Karma configuration\n// http://karma-runner.github.io/0.10/config/configuration-file.html\n\nmodule.exports = function (config) {\n  config.set({\n    // base path, that will be used to resolve files and exclude\n    basePath: '',\n\n    // testing framework to use (jasmine/mocha/qunit/...)\n    frameworks: ['mocha', 'chai', 'sinon-chai', 'chai-as-promised', 'chai-things'],\n\n    client: {\n      mocha: {\n        timeout: 5000 // set default mocha spec timeout\n      }\n    },\n\n    // list of files / patterns to load in the browser\n    files: [\n    // bower:js\n    'client/bower_components/jquery/dist/jquery.js', 'client/bower_components/angular/angular.js', 'client/bower_components/angular-resource/angular-resource.js', 'client/bower_components/angular-cookies/angular-cookies.js', 'client/bower_components/angular-sanitize/angular-sanitize.js', 'client/bower_components/angular-bootstrap/ui-bootstrap-tpls.js', 'client/bower_components/lodash/dist/lodash.compat.js', 'client/bower_components/angular-socket-io/socket.js', 'client/bower_components/angular-ui-router/release/angular-ui-router.js', 'client/bower_components/angular-validation-match/dist/angular-validation-match.min.js', 'client/bower_components/angular-mocks/angular-mocks.js',\n    // endbower\n    'node_modules/socket.io-client/socket.io.js', 'client/app/app.js', 'client/{app,components}/**/*.module.js', 'client/{app,components}/**/*.js', 'client/{app,components}/**/*.html'],\n\n    preprocessors: {\n      '**/*.html': 'ng-html2js',\n      'client/{app,components}/**/*.js': 'babel'\n    },\n\n    ngHtml2JsPreprocessor: {\n      stripPrefix: 'client/'\n    },\n\n    babelPreprocessor: {\n      options: {\n        sourceMap: 'inline'\n      },\n      filename: function filename(file) {\n        return file.originalPath.replace(/\\.js$/, '.es5.js');\n      },\n      sourceFileName: function sourceFileName(file) {\n        return file.originalPath;\n      }\n    },\n\n    // list of files / patterns to exclude\n    exclude: [],\n\n    // web server port\n    port: 8080,\n\n    // level of logging\n    // possible values: LOG_DISABLE || LOG_ERROR || LOG_WARN || LOG_INFO || LOG_DEBUG\n    logLevel: config.LOG_INFO,\n\n    // reporter types:\n    // - dots\n    // - progress (default)\n    // - spec (karma-spec-reporter)\n    // - junit\n    // - growl\n    // - coverage\n    reporters: ['spec'],\n\n    // enable / disable watching file and executing tests whenever any file changes\n    autoWatch: false,\n\n    // Start these browsers, currently available:\n    // - Chrome\n    // - ChromeCanary\n    // - Firefox\n    // - Opera\n    // - Safari (only Mac)\n    // - PhantomJS\n    // - IE (only Windows)\n    browsers: ['PhantomJS'],\n\n    // Continuous Integration mode\n    // if true, it capture browsers, run tests and exit\n    singleRun: false\n  });\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImthcm1hLmNvbmYuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFHQSxPQUFPLE9BQVAsR0FBaUIsVUFBUyxNQUFULEVBQWlCO0FBQ2hDLFNBQU8sR0FBUCxDQUFXOztBQUVULGNBQVUsRUFBVjs7O0FBR0EsZ0JBQVksQ0FBQyxPQUFELEVBQVUsTUFBVixFQUFrQixZQUFsQixFQUFnQyxrQkFBaEMsRUFBb0QsYUFBcEQsQ0FBWjs7QUFFQSxZQUFRO0FBQ04sYUFBTztBQUNMLGlCQUFTLElBQVQ7QUFESyxPQUFQO0tBREY7OztBQU9BLFdBQU87O0FBRUwsbURBRkssRUFHTCw0Q0FISyxFQUlMLDhEQUpLLEVBS0wsNERBTEssRUFNTCw4REFOSyxFQU9MLGdFQVBLLEVBUUwsc0RBUkssRUFTTCxxREFUSyxFQVVMLHdFQVZLLEVBV0wsdUZBWEssRUFZTCx3REFaSzs7QUFjTCxnREFkSyxFQWVMLG1CQWZLLEVBZ0JMLHdDQWhCSyxFQWlCTCxpQ0FqQkssRUFrQkwsbUNBbEJLLENBQVA7O0FBcUJBLG1CQUFlO0FBQ2IsbUJBQWEsWUFBYjtBQUNBLHlDQUFtQyxPQUFuQztLQUZGOztBQUtBLDJCQUF1QjtBQUNyQixtQkFBYSxTQUFiO0tBREY7O0FBSUEsdUJBQW1CO0FBQ2pCLGVBQVM7QUFDUCxtQkFBVyxRQUFYO09BREY7QUFHQSxnQkFBVSxrQkFBVSxJQUFWLEVBQWdCO0FBQ3hCLGVBQU8sS0FBSyxZQUFMLENBQWtCLE9BQWxCLENBQTBCLE9BQTFCLEVBQW1DLFNBQW5DLENBQVAsQ0FEd0I7T0FBaEI7QUFHVixzQkFBZ0Isd0JBQVUsSUFBVixFQUFnQjtBQUM5QixlQUFPLEtBQUssWUFBTCxDQUR1QjtPQUFoQjtLQVBsQjs7O0FBYUEsYUFBUyxFQUFUOzs7QUFHQSxVQUFNLElBQU47Ozs7QUFJQSxjQUFVLE9BQU8sUUFBUDs7Ozs7Ozs7O0FBU1YsZUFBVyxDQUFDLE1BQUQsQ0FBWDs7O0FBR0EsZUFBVyxLQUFYOzs7Ozs7Ozs7O0FBVUEsY0FBVSxDQUFDLFdBQUQsQ0FBVjs7OztBQUlBLGVBQVcsS0FBWDtHQTFGRixFQURnQztDQUFqQiIsImZpbGUiOiJrYXJtYS5jb25mLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gS2FybWEgY29uZmlndXJhdGlvblxuLy8gaHR0cDovL2thcm1hLXJ1bm5lci5naXRodWIuaW8vMC4xMC9jb25maWcvY29uZmlndXJhdGlvbi1maWxlLmh0bWxcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihjb25maWcpIHtcbiAgY29uZmlnLnNldCh7XG4gICAgLy8gYmFzZSBwYXRoLCB0aGF0IHdpbGwgYmUgdXNlZCB0byByZXNvbHZlIGZpbGVzIGFuZCBleGNsdWRlXG4gICAgYmFzZVBhdGg6ICcnLFxuXG4gICAgLy8gdGVzdGluZyBmcmFtZXdvcmsgdG8gdXNlIChqYXNtaW5lL21vY2hhL3F1bml0Ly4uLilcbiAgICBmcmFtZXdvcmtzOiBbJ21vY2hhJywgJ2NoYWknLCAnc2lub24tY2hhaScsICdjaGFpLWFzLXByb21pc2VkJywgJ2NoYWktdGhpbmdzJ10sXG5cbiAgICBjbGllbnQ6IHtcbiAgICAgIG1vY2hhOiB7XG4gICAgICAgIHRpbWVvdXQ6IDUwMDAgLy8gc2V0IGRlZmF1bHQgbW9jaGEgc3BlYyB0aW1lb3V0XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8vIGxpc3Qgb2YgZmlsZXMgLyBwYXR0ZXJucyB0byBsb2FkIGluIHRoZSBicm93c2VyXG4gICAgZmlsZXM6IFtcbiAgICAgIC8vIGJvd2VyOmpzXG4gICAgICAnY2xpZW50L2Jvd2VyX2NvbXBvbmVudHMvanF1ZXJ5L2Rpc3QvanF1ZXJ5LmpzJyxcbiAgICAgICdjbGllbnQvYm93ZXJfY29tcG9uZW50cy9hbmd1bGFyL2FuZ3VsYXIuanMnLFxuICAgICAgJ2NsaWVudC9ib3dlcl9jb21wb25lbnRzL2FuZ3VsYXItcmVzb3VyY2UvYW5ndWxhci1yZXNvdXJjZS5qcycsXG4gICAgICAnY2xpZW50L2Jvd2VyX2NvbXBvbmVudHMvYW5ndWxhci1jb29raWVzL2FuZ3VsYXItY29va2llcy5qcycsXG4gICAgICAnY2xpZW50L2Jvd2VyX2NvbXBvbmVudHMvYW5ndWxhci1zYW5pdGl6ZS9hbmd1bGFyLXNhbml0aXplLmpzJyxcbiAgICAgICdjbGllbnQvYm93ZXJfY29tcG9uZW50cy9hbmd1bGFyLWJvb3RzdHJhcC91aS1ib290c3RyYXAtdHBscy5qcycsXG4gICAgICAnY2xpZW50L2Jvd2VyX2NvbXBvbmVudHMvbG9kYXNoL2Rpc3QvbG9kYXNoLmNvbXBhdC5qcycsXG4gICAgICAnY2xpZW50L2Jvd2VyX2NvbXBvbmVudHMvYW5ndWxhci1zb2NrZXQtaW8vc29ja2V0LmpzJyxcbiAgICAgICdjbGllbnQvYm93ZXJfY29tcG9uZW50cy9hbmd1bGFyLXVpLXJvdXRlci9yZWxlYXNlL2FuZ3VsYXItdWktcm91dGVyLmpzJyxcbiAgICAgICdjbGllbnQvYm93ZXJfY29tcG9uZW50cy9hbmd1bGFyLXZhbGlkYXRpb24tbWF0Y2gvZGlzdC9hbmd1bGFyLXZhbGlkYXRpb24tbWF0Y2gubWluLmpzJyxcbiAgICAgICdjbGllbnQvYm93ZXJfY29tcG9uZW50cy9hbmd1bGFyLW1vY2tzL2FuZ3VsYXItbW9ja3MuanMnLFxuICAgICAgLy8gZW5kYm93ZXJcbiAgICAgICdub2RlX21vZHVsZXMvc29ja2V0LmlvLWNsaWVudC9zb2NrZXQuaW8uanMnLFxuICAgICAgJ2NsaWVudC9hcHAvYXBwLmpzJyxcbiAgICAgICdjbGllbnQve2FwcCxjb21wb25lbnRzfS8qKi8qLm1vZHVsZS5qcycsXG4gICAgICAnY2xpZW50L3thcHAsY29tcG9uZW50c30vKiovKi5qcycsXG4gICAgICAnY2xpZW50L3thcHAsY29tcG9uZW50c30vKiovKi5odG1sJ1xuICAgIF0sXG5cbiAgICBwcmVwcm9jZXNzb3JzOiB7XG4gICAgICAnKiovKi5odG1sJzogJ25nLWh0bWwyanMnLFxuICAgICAgJ2NsaWVudC97YXBwLGNvbXBvbmVudHN9LyoqLyouanMnOiAnYmFiZWwnXG4gICAgfSxcblxuICAgIG5nSHRtbDJKc1ByZXByb2Nlc3Nvcjoge1xuICAgICAgc3RyaXBQcmVmaXg6ICdjbGllbnQvJ1xuICAgIH0sXG5cbiAgICBiYWJlbFByZXByb2Nlc3Nvcjoge1xuICAgICAgb3B0aW9uczoge1xuICAgICAgICBzb3VyY2VNYXA6ICdpbmxpbmUnXG4gICAgICB9LFxuICAgICAgZmlsZW5hbWU6IGZ1bmN0aW9uIChmaWxlKSB7XG4gICAgICAgIHJldHVybiBmaWxlLm9yaWdpbmFsUGF0aC5yZXBsYWNlKC9cXC5qcyQvLCAnLmVzNS5qcycpO1xuICAgICAgfSxcbiAgICAgIHNvdXJjZUZpbGVOYW1lOiBmdW5jdGlvbiAoZmlsZSkge1xuICAgICAgICByZXR1cm4gZmlsZS5vcmlnaW5hbFBhdGg7XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8vIGxpc3Qgb2YgZmlsZXMgLyBwYXR0ZXJucyB0byBleGNsdWRlXG4gICAgZXhjbHVkZTogW10sXG5cbiAgICAvLyB3ZWIgc2VydmVyIHBvcnRcbiAgICBwb3J0OiA4MDgwLFxuXG4gICAgLy8gbGV2ZWwgb2YgbG9nZ2luZ1xuICAgIC8vIHBvc3NpYmxlIHZhbHVlczogTE9HX0RJU0FCTEUgfHwgTE9HX0VSUk9SIHx8IExPR19XQVJOIHx8IExPR19JTkZPIHx8IExPR19ERUJVR1xuICAgIGxvZ0xldmVsOiBjb25maWcuTE9HX0lORk8sXG5cbiAgICAvLyByZXBvcnRlciB0eXBlczpcbiAgICAvLyAtIGRvdHNcbiAgICAvLyAtIHByb2dyZXNzIChkZWZhdWx0KVxuICAgIC8vIC0gc3BlYyAoa2FybWEtc3BlYy1yZXBvcnRlcilcbiAgICAvLyAtIGp1bml0XG4gICAgLy8gLSBncm93bFxuICAgIC8vIC0gY292ZXJhZ2VcbiAgICByZXBvcnRlcnM6IFsnc3BlYyddLFxuXG4gICAgLy8gZW5hYmxlIC8gZGlzYWJsZSB3YXRjaGluZyBmaWxlIGFuZCBleGVjdXRpbmcgdGVzdHMgd2hlbmV2ZXIgYW55IGZpbGUgY2hhbmdlc1xuICAgIGF1dG9XYXRjaDogZmFsc2UsXG5cbiAgICAvLyBTdGFydCB0aGVzZSBicm93c2VycywgY3VycmVudGx5IGF2YWlsYWJsZTpcbiAgICAvLyAtIENocm9tZVxuICAgIC8vIC0gQ2hyb21lQ2FuYXJ5XG4gICAgLy8gLSBGaXJlZm94XG4gICAgLy8gLSBPcGVyYVxuICAgIC8vIC0gU2FmYXJpIChvbmx5IE1hYylcbiAgICAvLyAtIFBoYW50b21KU1xuICAgIC8vIC0gSUUgKG9ubHkgV2luZG93cylcbiAgICBicm93c2VyczogWydQaGFudG9tSlMnXSxcblxuICAgIC8vIENvbnRpbnVvdXMgSW50ZWdyYXRpb24gbW9kZVxuICAgIC8vIGlmIHRydWUsIGl0IGNhcHR1cmUgYnJvd3NlcnMsIHJ1biB0ZXN0cyBhbmQgZXhpdFxuICAgIHNpbmdsZVJ1bjogZmFsc2VcbiAgfSk7XG59O1xuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "karma.conf.js"
      ],
      "names": [],
      "mappings": ";;;;;AAGA,OAAO,OAAP,GAAiB,UAAS,MAAT,EAAiB;AAChC,SAAO,GAAP,CAAW;;AAET,cAAU,EAAV;;;AAGA,gBAAY,CAAC,OAAD,EAAU,MAAV,EAAkB,YAAlB,EAAgC,kBAAhC,EAAoD,aAApD,CAAZ;;AAEA,YAAQ;AACN,aAAO;AACL,iBAAS,IAAT;AADK,OAAP;KADF;;;AAOA,WAAO;;AAEL,mDAFK,EAGL,4CAHK,EAIL,8DAJK,EAKL,4DALK,EAML,8DANK,EAOL,gEAPK,EAQL,sDARK,EASL,qDATK,EAUL,wEAVK,EAWL,uFAXK,EAYL,wDAZK;;AAcL,gDAdK,EAeL,mBAfK,EAgBL,wCAhBK,EAiBL,iCAjBK,EAkBL,mCAlBK,CAAP;;AAqBA,mBAAe;AACb,mBAAa,YAAb;AACA,yCAAmC,OAAnC;KAFF;;AAKA,2BAAuB;AACrB,mBAAa,SAAb;KADF;;AAIA,uBAAmB;AACjB,eAAS;AACP,mBAAW,QAAX;OADF;AAGA,gBAAU,kBAAU,IAAV,EAAgB;AACxB,eAAO,KAAK,YAAL,CAAkB,OAAlB,CAA0B,OAA1B,EAAmC,SAAnC,CAAP,CADwB;OAAhB;AAGV,sBAAgB,wBAAU,IAAV,EAAgB;AAC9B,eAAO,KAAK,YAAL,CADuB;OAAhB;KAPlB;;;AAaA,aAAS,EAAT;;;AAGA,UAAM,IAAN;;;;AAIA,cAAU,OAAO,QAAP;;;;;;;;;AASV,eAAW,CAAC,MAAD,CAAX;;;AAGA,eAAW,KAAX;;;;;;;;;;AAUA,cAAU,CAAC,WAAD,CAAV;;;;AAIA,eAAW,KAAX;GA1FF,EADgC;CAAjB",
      "file": "karma.conf.js",
      "sourcesContent": [
        "// Karma configuration\n// http://karma-runner.github.io/0.10/config/configuration-file.html\n\nmodule.exports = function(config) {\n  config.set({\n    // base path, that will be used to resolve files and exclude\n    basePath: '',\n\n    // testing framework to use (jasmine/mocha/qunit/...)\n    frameworks: ['mocha', 'chai', 'sinon-chai', 'chai-as-promised', 'chai-things'],\n\n    client: {\n      mocha: {\n        timeout: 5000 // set default mocha spec timeout\n      }\n    },\n\n    // list of files / patterns to load in the browser\n    files: [\n      // bower:js\n      'client/bower_components/jquery/dist/jquery.js',\n      'client/bower_components/angular/angular.js',\n      'client/bower_components/angular-resource/angular-resource.js',\n      'client/bower_components/angular-cookies/angular-cookies.js',\n      'client/bower_components/angular-sanitize/angular-sanitize.js',\n      'client/bower_components/angular-bootstrap/ui-bootstrap-tpls.js',\n      'client/bower_components/lodash/dist/lodash.compat.js',\n      'client/bower_components/angular-socket-io/socket.js',\n      'client/bower_components/angular-ui-router/release/angular-ui-router.js',\n      'client/bower_components/angular-validation-match/dist/angular-validation-match.min.js',\n      'client/bower_components/angular-mocks/angular-mocks.js',\n      // endbower\n      'node_modules/socket.io-client/socket.io.js',\n      'client/app/app.js',\n      'client/{app,components}/**/*.module.js',\n      'client/{app,components}/**/*.js',\n      'client/{app,components}/**/*.html'\n    ],\n\n    preprocessors: {\n      '**/*.html': 'ng-html2js',\n      'client/{app,components}/**/*.js': 'babel'\n    },\n\n    ngHtml2JsPreprocessor: {\n      stripPrefix: 'client/'\n    },\n\n    babelPreprocessor: {\n      options: {\n        sourceMap: 'inline'\n      },\n      filename: function (file) {\n        return file.originalPath.replace(/\\.js$/, '.es5.js');\n      },\n      sourceFileName: function (file) {\n        return file.originalPath;\n      }\n    },\n\n    // list of files / patterns to exclude\n    exclude: [],\n\n    // web server port\n    port: 8080,\n\n    // level of logging\n    // possible values: LOG_DISABLE || LOG_ERROR || LOG_WARN || LOG_INFO || LOG_DEBUG\n    logLevel: config.LOG_INFO,\n\n    // reporter types:\n    // - dots\n    // - progress (default)\n    // - spec (karma-spec-reporter)\n    // - junit\n    // - growl\n    // - coverage\n    reporters: ['spec'],\n\n    // enable / disable watching file and executing tests whenever any file changes\n    autoWatch: false,\n\n    // Start these browsers, currently available:\n    // - Chrome\n    // - ChromeCanary\n    // - Firefox\n    // - Opera\n    // - Safari (only Mac)\n    // - PhantomJS\n    // - IE (only Windows)\n    browsers: ['PhantomJS'],\n\n    // Continuous Integration mode\n    // if true, it capture browsers, run tests and exit\n    singleRun: false\n  });\n};\n"
      ]
    },
    "mtime": 1459628743685
  }
}